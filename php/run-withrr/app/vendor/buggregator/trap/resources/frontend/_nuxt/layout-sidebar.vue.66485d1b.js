import{k as _y,d as gd,c as yo,W as m2,q as Rh,s as y2,X as b2,Y as _2,v as w2,Z as S2,z as Ph,l as x2,$ as E2,a0 as T2,a1 as C2,a2 as k2,a3 as D2,a4 as M2,a5 as R2,O as wy,a6 as P2,o as Re,a as Pe,h as O2,a7 as ii,p as L2,i as A2,b as ge,_ as I2,x as B2,n as Oh,u as Lh,V as ys}from"./entry.769d5560.js";async function Sy(t,e=_y()){const{path:r,matched:n}=e.resolve(t);if(!n.length||(e._routePreloaded||(e._routePreloaded=new Set),e._routePreloaded.has(r)))return;const a=e._preloadPromises=e._preloadPromises||[];if(a.length>4)return Promise.all(a).then(()=>Sy(t,e));e._routePreloaded.add(r);const i=n.map(s=>{var o;return(o=s.components)==null?void 0:o.default}).filter(s=>typeof s=="function");for(const s of i){const o=Promise.resolve(s()).catch(()=>{}).finally(()=>a.splice(a.indexOf(o)));a.push(o)}await Promise.all(a)}const N2=(...t)=>t.find(e=>e!==void 0),q2="noopener noreferrer";/*! @__NO_SIDE_EFFECTS__ */function F2(t){const e=t.componentName||"NuxtLink",r=(n,a)=>{if(!n||t.trailingSlash!=="append"&&t.trailingSlash!=="remove")return n;const i=t.trailingSlash==="append"?D2:M2;if(typeof n=="string")return i(n,!0);const s="path"in n?n.path:a(n).path;return{...n,name:void 0,path:i(s,!0)}};return gd({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(n,{slots:a}){const i=_y(),s=R2(),o=yo(()=>{const h=n.to||n.href||"";return r(h,i.resolve)}),u=yo(()=>typeof o.value=="string"&&m2(o.value,{acceptRelative:!0})),l=yo(()=>n.external||n.target&&n.target!=="_self"?!0:typeof o.value=="object"?!1:o.value===""||u.value),c=Rh(!1),f=Rh(null),d=h=>{var v;f.value=n.custom?(v=h==null?void 0:h.$el)==null?void 0:v.nextElementSibling:h==null?void 0:h.$el};if(n.prefetch!==!1&&n.noPrefetch!==!0&&n.target!=="_blank"&&!V2()){const v=wy();let g,m=null;y2(()=>{const p=z2();b2(()=>{g=_2(()=>{var y;(y=f==null?void 0:f.value)!=null&&y.tagName&&(m=p.observe(f.value,async()=>{m==null||m(),m=null;const b=typeof o.value=="string"?o.value:i.resolve(o.value).fullPath;await Promise.all([v.hooks.callHook("link:prefetch",b).catch(()=>{}),!l.value&&Sy(o.value,i).catch(()=>{})]),c.value=!0}))})})}),w2(()=>{g&&S2(g),m==null||m(),m=null})}return()=>{var p,y;if(!l.value){const b={ref:d,to:o.value,activeClass:n.activeClass||t.activeClass,exactActiveClass:n.exactActiveClass||t.exactActiveClass,replace:n.replace,ariaCurrentValue:n.ariaCurrentValue,custom:n.custom};return n.custom||(c.value&&(b.class=n.prefetchedClass||t.prefetchedClass),b.rel=n.rel),Ph(x2("RouterLink"),b,a.default)}const h=typeof o.value=="object"?((p=i.resolve(o.value))==null?void 0:p.href)??null:o.value&&!n.external&&!u.value?r(E2(s.app.baseURL,o.value),i.resolve):o.value||null,v=n.target||null,g=n.noRel?null:N2(n.rel,t.externalRelAttribute,h?q2:"")||null,m=()=>P2(h,{replace:n.replace});return n.custom?a.default?a.default({href:h,navigate:m,get route(){if(!h)return;const b=T2(h);return{path:b.pathname,fullPath:b.pathname,get query(){return C2(b.search)},hash:b.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:h}},rel:g,target:v,isExternal:l.value,isActive:!1,isExactActive:!1}):null:Ph("a",{ref:f,href:h,rel:g,target:v},(y=a.default)==null?void 0:y.call(a))}}})}const Z6=F2(k2);function z2(){const t=wy();if(t._observer)return t._observer;let e=null;const r=new Map,n=(i,s)=>(e||(e=new IntersectionObserver(o=>{for(const u of o){const l=r.get(u.target);(u.isIntersecting||u.intersectionRatio>0)&&l&&l()}})),r.set(i,s),e.observe(i),()=>{r.delete(i),e.unobserve(i),r.size===0&&(e.disconnect(),e=null)});return t._observer={observe:n}}function V2(){const t=navigator.connection;return!!(t&&(t.saveData||/2g/.test(t.effectiveType)))}var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function H2(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $t=H2,Y2=typeof ot=="object"&&ot&&ot.Object===Object&&ot,xy=Y2,$2=xy,W2=typeof self=="object"&&self&&self.Object===Object&&self,U2=$2||W2||Function("return this")(),hr=U2,G2=hr,j2=function(){return G2.Date.now()},Ey=j2,Z2=/\s/;function K2(t){for(var e=t.length;e--&&Z2.test(t.charAt(e)););return e}var X2=K2,Q2=X2,J2=/^\s+/;function ew(t){return t&&t.slice(0,Q2(t)+1).replace(J2,"")}var tw=ew,rw=hr,nw=rw.Symbol,ua=nw,Ah=ua,Ty=Object.prototype,aw=Ty.hasOwnProperty,iw=Ty.toString,ka=Ah?Ah.toStringTag:void 0;function sw(t){var e=aw.call(t,ka),r=t[ka];try{t[ka]=void 0;var n=!0}catch{}var a=iw.call(t);return n&&(e?t[ka]=r:delete t[ka]),a}var ow=sw,uw=Object.prototype,lw=uw.toString;function cw(t){return lw.call(t)}var fw=cw,Ih=ua,dw=ow,hw=fw,vw="[object Null]",pw="[object Undefined]",Bh=Ih?Ih.toStringTag:void 0;function gw(t){return t==null?t===void 0?pw:vw:Bh&&Bh in Object(t)?dw(t):hw(t)}var Cn=gw;function mw(t){return t!=null&&typeof t=="object"}var wr=mw,yw=Cn,bw=wr,_w="[object Symbol]";function ww(t){return typeof t=="symbol"||bw(t)&&yw(t)==_w}var kn=ww,Sw=tw,Nh=$t,xw=kn,qh=0/0,Ew=/^[-+]0x[0-9a-f]+$/i,Tw=/^0b[01]+$/i,Cw=/^0o[0-7]+$/i,kw=parseInt;function Dw(t){if(typeof t=="number")return t;if(xw(t))return qh;if(Nh(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Nh(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Sw(t);var r=Tw.test(t);return r||Cw.test(t)?kw(t.slice(2),r?2:8):Ew.test(t)?qh:+t}var Cy=Dw,Mw=$t,bo=Ey,Fh=Cy,Rw="Expected a function",Pw=Math.max,Ow=Math.min;function Lw(t,e,r){var n,a,i,s,o,u,l=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Rw);e=Fh(e)||0,Mw(r)&&(c=!!r.leading,f="maxWait"in r,i=f?Pw(Fh(r.maxWait)||0,e):i,d="trailing"in r?!!r.trailing:d);function h(S){var w=n,T=a;return n=a=void 0,l=S,s=t.apply(T,w),s}function v(S){return l=S,o=setTimeout(p,e),c?h(S):s}function g(S){var w=S-u,T=S-l,E=e-w;return f?Ow(E,i-T):E}function m(S){var w=S-u,T=S-l;return u===void 0||w>=e||w<0||f&&T>=i}function p(){var S=bo();if(m(S))return y(S);o=setTimeout(p,g(S))}function y(S){return o=void 0,d&&n?h(S):(n=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),l=0,n=u=a=o=void 0}function _(){return o===void 0?s:y(bo())}function x(){var S=bo(),w=m(S);if(n=arguments,a=this,u=S,w){if(o===void 0)return v(u);if(f)return clearTimeout(o),o=setTimeout(p,e),h(u)}return o===void 0&&(o=setTimeout(p,e)),s}return x.cancel=b,x.flush=_,x}var Aw=Lw,ky={exports:{}};(function(t,e){(function(){var r,n,a,i,s,o,u,l,c,f,d,h,v,g,m;a=Math.floor,f=Math.min,n=function(p,y){return p<y?-1:p>y?1:0},c=function(p,y,b,_,x){var S;if(b==null&&(b=0),x==null&&(x=n),b<0)throw new Error("lo must be non-negative");for(_==null&&(_=p.length);b<_;)S=a((b+_)/2),x(y,p[S])<0?_=S:b=S+1;return[].splice.apply(p,[b,b-b].concat(y)),y},o=function(p,y,b){return b==null&&(b=n),p.push(y),g(p,0,p.length-1,b)},s=function(p,y){var b,_;return y==null&&(y=n),b=p.pop(),p.length?(_=p[0],p[0]=b,m(p,0,y)):_=b,_},l=function(p,y,b){var _;return b==null&&(b=n),_=p[0],p[0]=y,m(p,0,b),_},u=function(p,y,b){var _;return b==null&&(b=n),p.length&&b(p[0],y)<0&&(_=[p[0],y],y=_[0],p[0]=_[1],m(p,0,b)),y},i=function(p,y){var b,_,x,S,w,T;for(y==null&&(y=n),S=(function(){T=[];for(var E=0,k=a(p.length/2);0<=k?E<k:E>k;0<=k?E++:E--)T.push(E);return T}).apply(this).reverse(),w=[],_=0,x=S.length;_<x;_++)b=S[_],w.push(m(p,b,y));return w},v=function(p,y,b){var _;if(b==null&&(b=n),_=p.indexOf(y),_!==-1)return g(p,0,_,b),m(p,_,b)},d=function(p,y,b){var _,x,S,w,T;if(b==null&&(b=n),x=p.slice(0,y),!x.length)return x;for(i(x,b),T=p.slice(y),S=0,w=T.length;S<w;S++)_=T[S],u(x,_,b);return x.sort(b).reverse()},h=function(p,y,b){var _,x,S,w,T,E,k,D,C;if(b==null&&(b=n),y*10<=p.length){if(S=p.slice(0,y).sort(b),!S.length)return S;for(x=S[S.length-1],k=p.slice(y),w=0,E=k.length;w<E;w++)_=k[w],b(_,x)<0&&(c(S,_,0,null,b),S.pop(),x=S[S.length-1]);return S}for(i(p,b),C=[],T=0,D=f(y,p.length);0<=D?T<D:T>D;0<=D?++T:--T)C.push(s(p,b));return C},g=function(p,y,b,_){var x,S,w;for(_==null&&(_=n),x=p[b];b>y;){if(w=b-1>>1,S=p[w],_(x,S)<0){p[b]=S,b=w;continue}break}return p[b]=x},m=function(p,y,b){var _,x,S,w,T;for(b==null&&(b=n),x=p.length,T=y,S=p[y],_=2*y+1;_<x;)w=_+1,w<x&&!(b(p[_],p[w])<0)&&(_=w),p[y]=p[_],y=_,_=2*y+1;return p[y]=S,g(p,T,y,b)},r=function(){p.push=o,p.pop=s,p.replace=l,p.pushpop=u,p.heapify=i,p.updateItem=v,p.nlargest=d,p.nsmallest=h;function p(y){this.cmp=y??n,this.nodes=[]}return p.prototype.push=function(y){return o(this.nodes,y,this.cmp)},p.prototype.pop=function(){return s(this.nodes,this.cmp)},p.prototype.peek=function(){return this.nodes[0]},p.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},p.prototype.replace=function(y){return l(this.nodes,y,this.cmp)},p.prototype.pushpop=function(y){return u(this.nodes,y,this.cmp)},p.prototype.heapify=function(){return i(this.nodes,this.cmp)},p.prototype.updateItem=function(y){return v(this.nodes,y,this.cmp)},p.prototype.clear=function(){return this.nodes=[]},p.prototype.empty=function(){return this.nodes.length===0},p.prototype.size=function(){return this.nodes.length},p.prototype.clone=function(){var y;return y=new p,y.nodes=this.nodes.slice(0),y},p.prototype.toArray=function(){return this.nodes.slice(0)},p.prototype.insert=p.prototype.push,p.prototype.top=p.prototype.peek,p.prototype.front=p.prototype.peek,p.prototype.has=p.prototype.contains,p.prototype.copy=p.prototype.clone,p}(),function(p,y){return t.exports=y()}(this,function(){return r})}).call(ot)})(ky);var Iw=ky.exports,Bw=Iw,Nw=Array.isArray,ut=Nw,qw=ut,Fw=kn,zw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vw=/^\w*$/;function Hw(t,e){if(qw(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Fw(t)?!0:Vw.test(t)||!zw.test(t)||e!=null&&t in Object(e)}var md=Hw,_o,zh;function si(){if(zh)return _o;zh=1;var t=Cn,e=$t,r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var u=t(o);return u==n||u==a||u==r||u==i}return _o=s,_o}var Yw=hr,$w=Yw["__core-js_shared__"],Ww=$w,wo=Ww,Vh=function(){var t=/[^.]+$/.exec(wo&&wo.keys&&wo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Uw(t){return!!Vh&&Vh in t}var Gw=Uw,So,Hh;function Dy(){if(Hh)return So;Hh=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return So=r,So}var jw=si(),Zw=Gw,Kw=$t,Xw=Dy(),Qw=/[\\^$.*+?()[\]{}|]/g,Jw=/^\[object .+?Constructor\]$/,eS=Function.prototype,tS=Object.prototype,rS=eS.toString,nS=tS.hasOwnProperty,aS=RegExp("^"+rS.call(nS).replace(Qw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iS(t){if(!Kw(t)||Zw(t))return!1;var e=jw(t)?aS:Jw;return e.test(Xw(t))}var sS=iS;function oS(t,e){return t==null?void 0:t[e]}var uS=oS,lS=sS,cS=uS;function fS(t,e){var r=cS(t,e);return lS(r)?r:void 0}var Dn=fS,dS=Dn,hS=dS(Object,"create"),bs=hS,Yh=bs;function vS(){this.__data__=Yh?Yh(null):{},this.size=0}var pS=vS;function gS(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var mS=gS,yS=bs,bS="__lodash_hash_undefined__",_S=Object.prototype,wS=_S.hasOwnProperty;function SS(t){var e=this.__data__;if(yS){var r=e[t];return r===bS?void 0:r}return wS.call(e,t)?e[t]:void 0}var xS=SS,ES=bs,TS=Object.prototype,CS=TS.hasOwnProperty;function kS(t){var e=this.__data__;return ES?e[t]!==void 0:CS.call(e,t)}var DS=kS,MS=bs,RS="__lodash_hash_undefined__";function PS(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=MS&&e===void 0?RS:e,this}var OS=PS,LS=pS,AS=mS,IS=xS,BS=DS,NS=OS;function la(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}la.prototype.clear=LS;la.prototype.delete=AS;la.prototype.get=IS;la.prototype.has=BS;la.prototype.set=NS;var qS=la;function FS(){this.__data__=[],this.size=0}var zS=FS;function VS(t,e){return t===e||t!==t&&e!==e}var ca=VS,HS=ca;function YS(t,e){for(var r=t.length;r--;)if(HS(t[r][0],e))return r;return-1}var _s=YS,$S=_s,WS=Array.prototype,US=WS.splice;function GS(t){var e=this.__data__,r=$S(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():US.call(e,r,1),--this.size,!0}var jS=GS,ZS=_s;function KS(t){var e=this.__data__,r=ZS(e,t);return r<0?void 0:e[r][1]}var XS=KS,QS=_s;function JS(t){return QS(this.__data__,t)>-1}var ex=JS,tx=_s;function rx(t,e){var r=this.__data__,n=tx(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var nx=rx,ax=zS,ix=jS,sx=XS,ox=ex,ux=nx;function fa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fa.prototype.clear=ax;fa.prototype.delete=ix;fa.prototype.get=sx;fa.prototype.has=ox;fa.prototype.set=ux;var ws=fa,lx=Dn,cx=hr,fx=lx(cx,"Map"),yd=fx,$h=qS,dx=ws,hx=yd;function vx(){this.size=0,this.__data__={hash:new $h,map:new(hx||dx),string:new $h}}var px=vx;function gx(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var mx=gx,yx=mx;function bx(t,e){var r=t.__data__;return yx(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ss=bx,_x=Ss;function wx(t){var e=_x(this,t).delete(t);return this.size-=e?1:0,e}var Sx=wx,xx=Ss;function Ex(t){return xx(this,t).get(t)}var Tx=Ex,Cx=Ss;function kx(t){return Cx(this,t).has(t)}var Dx=kx,Mx=Ss;function Rx(t,e){var r=Mx(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Px=Rx,Ox=px,Lx=Sx,Ax=Tx,Ix=Dx,Bx=Px;function da(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}da.prototype.clear=Ox;da.prototype.delete=Lx;da.prototype.get=Ax;da.prototype.has=Ix;da.prototype.set=Bx;var bd=da,My=bd,Nx="Expected a function";function _d(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Nx);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=t.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(_d.Cache||My),r}_d.Cache=My;var qx=_d,Fx=qx,zx=500;function Vx(t){var e=Fx(t,function(n){return r.size===zx&&r.clear(),n}),r=e.cache;return e}var Hx=Vx,Yx=Hx,$x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wx=/\\(\\)?/g,Ux=Yx(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($x,function(r,n,a,i){e.push(a?i.replace(Wx,"$1"):n||r)}),e}),Ry=Ux;function Gx(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var oi=Gx,Wh=ua,jx=oi,Zx=ut,Kx=kn,Xx=1/0,Uh=Wh?Wh.prototype:void 0,Gh=Uh?Uh.toString:void 0;function Py(t){if(typeof t=="string")return t;if(Zx(t))return jx(t,Py)+"";if(Kx(t))return Gh?Gh.call(t):"";var e=t+"";return e=="0"&&1/t==-Xx?"-0":e}var Qx=Py,Jx=Qx;function eE(t){return t==null?"":Jx(t)}var wd=eE,tE=ut,rE=md,nE=Ry,aE=wd;function iE(t,e){return tE(t)?t:rE(t,e)?[t]:nE(aE(t))}var xs=iE,sE=kn,oE=1/0;function uE(t){if(typeof t=="string"||sE(t))return t;var e=t+"";return e=="0"&&1/t==-oE?"-0":e}var ha=uE,lE=xs,cE=ha;function fE(t,e){e=lE(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[cE(e[r++])];return r&&r==n?t:void 0}var Es=fE,dE=Es;function hE(t,e,r){var n=t==null?void 0:dE(t,e);return n===void 0?r:n}var Oy=hE,vE=Dn,pE=function(){try{var t=vE(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ly=pE,jh=Ly;function gE(t,e,r){e=="__proto__"&&jh?jh(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Ts=gE,mE=Ts,yE=ca,bE=Object.prototype,_E=bE.hasOwnProperty;function wE(t,e,r){var n=t[e];(!(_E.call(t,e)&&yE(n,r))||r===void 0&&!(e in t))&&mE(t,e,r)}var Cs=wE,SE=9007199254740991,xE=/^(?:0|[1-9]\d*)$/;function EE(t,e){var r=typeof t;return e=e??SE,!!e&&(r=="number"||r!="symbol"&&xE.test(t))&&t>-1&&t%1==0&&t<e}var ks=EE,TE=Cs,CE=xs,kE=ks,Zh=$t,DE=ha;function ME(t,e,r,n){if(!Zh(t))return t;e=CE(e,t);for(var a=-1,i=e.length,s=i-1,o=t;o!=null&&++a<i;){var u=DE(e[a]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(a!=s){var c=o[u];l=n?n(c,u,o):void 0,l===void 0&&(l=Zh(c)?c:kE(e[a+1])?[]:{})}TE(o,u,l),o=o[u]}return t}var Ay=ME,RE=Ay;function PE(t,e,r){return t==null?t:RE(t,e,r)}var OE=PE;function LE(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Sd=LE,AE=oi,IE=Sd,BE=ut,NE=kn,qE=Ry,FE=ha,zE=wd;function VE(t){return BE(t)?AE(t,FE):NE(t)?[t]:IE(qE(zE(t)))}var HE=VE,YE=Aw,$E=Bw,WE=Oy,UE=OE,GE=HE;function ui(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Ds=ui(YE),li=ui($E),jE=ui(WE),ZE=ui(UE),KE=ui(GE);function ht(t){"@babel/helpers - typeof";return ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(t)}function xd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ed(t,e,r){return e&&Kh(t.prototype,e),r&&Kh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iy(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dr(t,e){return XE(t)||QE(t,e)||JE(t,e)||eT()}function XE(t){if(Array.isArray(t))return t}function QE(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,s,o;try{for(r=r.call(t);!(a=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));a=!0);}catch(u){i=!0,o=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function JE(t,e){if(t){if(typeof t=="string")return Xh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xh(t,e)}}function Xh(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ct=typeof window>"u"?null:window,Qh=ct?ct.navigator:null;ct&&ct.document;var tT=ht(""),By=ht({}),rT=ht(function(){}),nT=typeof HTMLElement>"u"?"undefined":ht(HTMLElement),ci=function(e){return e&&e.instanceString&&tt(e.instanceString)?e.instanceString():null},pe=function(e){return e!=null&&ht(e)==tT},tt=function(e){return e!=null&&ht(e)===rT},Ge=function(e){return!Yt(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Be=function(e){return e!=null&&ht(e)===By&&!Ge(e)&&e.constructor===Object},aT=function(e){return e!=null&&ht(e)===By},se=function(e){return e!=null&&ht(e)===ht(1)&&!isNaN(e)},iT=function(e){return se(e)&&Math.floor(e)===e},rs=function(e){if(nT!=="undefined")return e!=null&&e instanceof HTMLElement},Yt=function(e){return fi(e)||Ny(e)},fi=function(e){return ci(e)==="collection"&&e._private.single},Ny=function(e){return ci(e)==="collection"&&!e._private.single},Td=function(e){return ci(e)==="core"},qy=function(e){return ci(e)==="stylesheet"},sT=function(e){return ci(e)==="event"},rn=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},oT=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},uT=function(e){return Be(e)&&se(e.x1)&&se(e.x2)&&se(e.y1)&&se(e.y2)},lT=function(e){return aT(e)&&tt(e.then)},cT=function(){return Qh&&Qh.userAgent.match(/msie|trident|edge/i)},Ua=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);return i.join("$")});var n=function a(){var i=this,s=arguments,o,u=r.apply(i,s),l=a.cache;return(o=l[u])||(o=l[u]=e.apply(i,s)),o};return n.cache={},n},Cd=Ua(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Ms=Ua(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Fy=Ua(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Jh=function(e){return rn(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},ft="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",fT="rgb[a]?\\(("+ft+"[%]?)\\s*,\\s*("+ft+"[%]?)\\s*,\\s*("+ft+"[%]?)(?:\\s*,\\s*("+ft+"))?\\)",dT="rgb[a]?\\((?:"+ft+"[%]?)\\s*,\\s*(?:"+ft+"[%]?)\\s*,\\s*(?:"+ft+"[%]?)(?:\\s*,\\s*(?:"+ft+"))?\\)",hT="hsl[a]?\\(("+ft+")\\s*,\\s*("+ft+"[%])\\s*,\\s*("+ft+"[%])(?:\\s*,\\s*("+ft+"))?\\)",vT="hsl[a]?\\((?:"+ft+")\\s*,\\s*(?:"+ft+"[%])\\s*,\\s*(?:"+ft+"[%])(?:\\s*,\\s*(?:"+ft+"))?\\)",pT="\\#[0-9a-fA-F]{3}",gT="\\#[0-9a-fA-F]{6}",zy=function(e,r){return e<r?-1:e>r?1:0},mT=function(e,r){return-1*zy(e,r)},be=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var s=a[i];t[s]=n[s]}}return t},yT=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,s=16;return r?(n=parseInt(e[1]+e[1],s),a=parseInt(e[2]+e[2],s),i=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),a=parseInt(e[3]+e[4],s),i=parseInt(e[5]+e[6],s)),[n,a,i]}},bT=function(e){var r,n,a,i,s,o,u,l;function c(v,g,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?v+(g-v)*6*m:m<1/2?g:m<2/3?v+(g-v)*(2/3-m)*6:v}var f=new RegExp("^"+hT+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(f[2]),a<0||a>100||(a=a/100,i=parseFloat(f[3]),i<0||i>100)||(i=i/100,s=f[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(a===0)o=u=l=Math.round(i*255);else{var d=i<.5?i*(1+a):i+a-i*a,h=2*i-d;o=Math.round(255*c(h,d,n+1/3)),u=Math.round(255*c(h,d,n)),l=Math.round(255*c(h,d,n-1/3))}r=[o,u,l,s]}return r},_T=function(e){var r,n=new RegExp("^"+fT+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var s=n[i];if(s[s.length-1]==="%"&&(a[i]=!0),s=parseFloat(s),a[i]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(o&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},wT=function(e){return xT[e.toLowerCase()]},ST=function(e){return(Ge(e)?e:null)||wT(e)||yT(e)||_T(e)||bT(e)},xT={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Vy=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(Be(s))throw Error("Tried to set map with object key");i<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},Hy=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(Be(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},xo=ct?ct.performance:null,Yy=xo&&xo.now?function(){return xo.now()}:function(){return Date.now()},ET=function(){if(ct){if(ct.requestAnimationFrame)return function(t){ct.requestAnimationFrame(t)};if(ct.mozRequestAnimationFrame)return function(t){ct.mozRequestAnimationFrame(t)};if(ct.webkitRequestAnimationFrame)return function(t){ct.webkitRequestAnimationFrame(t)};if(ct.msRequestAnimationFrame)return function(t){ct.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Yy())},1e3/60)}}(),ns=function(e){return ET(e)},Ir=Yy,Yn=9261,$y=65599,Ia=5381,Wy=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn,n=r,a;a=e.next(),!a.done;)n=n*$y+a.value|0;return n},Ga=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn;return r*$y+e|0},ja=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ia;return(r<<5)+r+e|0},TT=function(e,r){return e*2097152+r},Ur=function(e){return e[0]*2097152+e[1]},Ri=function(e,r){return[Ga(e[0],r[0]),ja(e[1],r[1])]},CT=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return Wy(s,r)},_n=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return Wy(s,r)},Uy=function(){return kT(arguments)},kT=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=_n(a):r=_n(a,r)}return r},ev=!0,DT=console.warn!=null,MT=console.trace!=null,kd=Number.MAX_SAFE_INTEGER||9007199254740991,Gy=function(){return!0},as=function(){return!1},tv=function(){return 0},Dd=function(){},nt=function(e){throw new Error(e)},jy=function(e){if(e!==void 0)ev=!!e;else return ev},Ye=function(e){jy()&&(DT?console.warn(e):(console.log(e),MT&&console.trace()))},RT=function(e){return be({},e)},mr=function(e){return e==null?e:Ge(e)?e.slice():Be(e)?RT(e):e},PT=function(e){return e.slice()},Zy=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},OT={},Ky=function(){return OT},wt=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var s=r[i],o=n==null?void 0:n[s];a[s]=o===void 0?e[s]:o}return a}},nn=function(e,r,n){for(var a=e.length-1;a>=0&&!(e[a]===r&&(e.splice(a,1),n));a--);},Md=function(e){e.splice(0,e.length)},LT=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},or=function(e,r,n){return n&&(r=Fy(n,r)),e[r]},Zr=function(e,r,n,a){n&&(r=Fy(n,r)),e[r]=a},AT=function(){function t(){xd(this,t),this._obj={}}return Ed(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),yr=typeof Map<"u"?Map:AT,IT="undefined",BT=function(){function t(e){if(xd(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Ed(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),va=(typeof Set>"u"?"undefined":ht(Set))!==IT?Set:BT,Rs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Td(e)){nt("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){nt("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new va,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),u=e.zoom();i.position={x:(s.x-o.x)/u,y:(s.y-o.y)/u}}var l=[];Ge(r.classes)?l=r.classes:pe(r.classes)&&(l=r.classes.split(/\s+/));for(var c=0,f=l.length;c<f;c++){var d=l[c];!d||d===""||i.classes.add(d)}this.createEmitter();var h=r.style||r.css;h&&(Ye("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(h)),(n===void 0||n)&&this.restore()},rv=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var s;Be(n)&&!Yt(n)&&(s=n,n=s.roots||s.root,a=s.visit,i=s.directed),i=arguments.length===2&&!tt(a)?a:i,a=tt(a)?a:function(){};for(var o=this._private.cy,u=n=pe(n)?this.filter(n):n,l=[],c=[],f={},d={},h={},v=0,g,m=this.byGroup(),p=m.nodes,y=m.edges,b=0;b<u.length;b++){var _=u[b],x=_.id();_.isNode()&&(l.unshift(_),e.bfs&&(h[x]=!0,c.push(_)),d[x]=0)}for(var S=function(){var P=e.bfs?l.shift():l.pop(),M=P.id();if(e.dfs){if(h[M])return"continue";h[M]=!0,c.push(P)}var N=d[M],O=f[M],B=O!=null?O.source():null,F=O!=null?O.target():null,V=O==null?void 0:P.same(B)?F[0]:B[0],Y=void 0;if(Y=a(P,O,V,v++,N),Y===!0)return g=P,"break";if(Y===!1)return"break";for(var z=P.connectedEdges().filter(function(q){return(!i||q.source().same(P))&&y.has(q)}),$=0;$<z.length;$++){var G=z[$],A=G.connectedNodes().filter(function(q){return!q.same(P)&&p.has(q)}),I=A.id();A.length!==0&&!h[I]&&(A=A[0],l.push(A),e.bfs&&(h[I]=!0,c.push(A)),f[I]=G,d[I]=d[M]+1)}};l.length!==0;){var w=S();if(w!=="continue"&&w==="break")break}for(var T=o.collection(),E=0;E<c.length;E++){var k=c[E],D=f[k.id()];D!=null&&T.push(D),T.push(k)}return{path:o.collection(T),found:o.collection(g)}}},Za={breadthFirstSearch:rv({bfs:!0}),depthFirstSearch:rv({dfs:!0})};Za.bfs=Za.breadthFirstSearch;Za.dfs=Za.depthFirstSearch;var NT=wt({root:null,weight:function(e){return 1},directed:!1}),qT={dijkstra:function(e){if(!Be(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=NT(e),a=n.root,i=n.weight,s=n.directed,o=this,u=i,l=pe(a)?this.filter(a)[0]:a[0],c={},f={},d={},h=this.byGroup(),v=h.nodes,g=h.edges;g.unmergeBy(function(N){return N.isLoop()});for(var m=function(O){return c[O.id()]},p=function(O,B){c[O.id()]=B,y.updateItem(O)},y=new li.default(function(N,O){return m(N)-m(O)}),b=0;b<v.length;b++){var _=v[b];c[_.id()]=_.same(l)?0:1/0,y.push(_)}for(var x=function(O,B){for(var F=(s?O.edgesTo(B):O.edgesWith(B)).intersect(g),V=1/0,Y,z=0;z<F.length;z++){var $=F[z],G=u($);(G<V||!Y)&&(V=G,Y=$)}return{edge:Y,dist:V}};y.size()>0;){var S=y.pop(),w=m(S),T=S.id();if(d[T]=w,w!==1/0)for(var E=S.neighborhood().intersect(v),k=0;k<E.length;k++){var D=E[k],C=D.id(),P=x(S,D),M=w+P.dist;M<m(D)&&(p(D,M),f[C]={node:S,edge:P.edge})}}return{distanceTo:function(O){var B=pe(O)?v.filter(O)[0]:O[0];return d[B.id()]},pathTo:function(O){var B=pe(O)?v.filter(O)[0]:O[0],F=[],V=B,Y=V.id();if(B.length>0)for(F.unshift(B);f[Y];){var z=f[Y];F.unshift(z.edge),F.unshift(z.node),V=z.node,Y=V.id()}return o.spawn(F)}}}},FT={kruskal:function(e){e=e||function(b){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,s=new Array(i),o=n,u=function(_){for(var x=0;x<s.length;x++){var S=s[x];if(S.has(_))return x}},l=0;l<i;l++)s[l]=this.spawn(n[l]);for(var c=a.sort(function(b,_){return e(b)-e(_)}),f=0;f<c.length;f++){var d=c[f],h=d.source()[0],v=d.target()[0],g=u(h),m=u(v),p=s[g],y=s[m];g!==m&&(o.merge(d),p.merge(y),s.splice(m,1))}return o}},zT=wt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),VT={aStar:function(e){var r=this.cy(),n=zT(e),a=n.root,i=n.goal,s=n.heuristic,o=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var l=a.id(),c=i.id(),f={},d={},h={},v=new li.default(function(Y,z){return d[Y.id()]-d[z.id()]}),g=new va,m={},p={},y=function(z,$){v.push(z),g.add($)},b,_,x=function(){b=v.pop(),_=b.id(),g.delete(_)},S=function(z){return g.has(z)};y(a,l),f[l]=0,d[l]=s(a);for(var w=0;v.size()>0;){if(x(),w++,_===c){for(var T=[],E=i,k=c,D=p[k];T.unshift(E),D!=null&&T.unshift(D),E=m[k],E!=null;)k=E.id(),D=p[k];return{found:!0,distance:f[_],path:this.spawn(T),steps:w}}h[_]=!0;for(var C=b._private.edges,P=0;P<C.length;P++){var M=C[P];if(this.hasElementWithId(M.id())&&!(o&&M.data("source")!==_)){var N=M.source(),O=M.target(),B=N.id()!==_?N:O,F=B.id();if(this.hasElementWithId(F)&&!h[F]){var V=f[_]+u(M);if(!S(F)){f[F]=V,d[F]=V+s(B),y(B,F),m[F]=b,p[F]=M;continue}V<f[F]&&(f[F]=V,d[F]=V+s(B),m[F]=b,p[F]=M)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},HT=wt({weight:function(e){return 1},directed:!1}),YT={floydWarshall:function(e){for(var r=this.cy(),n=HT(e),a=n.weight,i=n.directed,s=a,o=this.byGroup(),u=o.nodes,l=o.edges,c=u.length,f=c*c,d=function(G){return u.indexOf(G)},h=function(G){return u[G]},v=new Array(f),g=0;g<f;g++){var m=g%c,p=(g-m)/c;p===m?v[g]=0:v[g]=1/0}for(var y=new Array(f),b=new Array(f),_=0;_<l.length;_++){var x=l[_],S=x.source()[0],w=x.target()[0];if(S!==w){var T=d(S),E=d(w),k=T*c+E,D=s(x);if(v[k]>D&&(v[k]=D,y[k]=E,b[k]=x),!i){var C=E*c+T;!i&&v[C]>D&&(v[C]=D,y[C]=T,b[C]=x)}}}for(var P=0;P<c;P++)for(var M=0;M<c;M++)for(var N=M*c+P,O=0;O<c;O++){var B=M*c+O,F=P*c+O;v[N]+v[F]<v[B]&&(v[B]=v[N]+v[F],y[B]=y[N])}var V=function(G){return(pe(G)?r.filter(G):G)[0]},Y=function(G){return d(V(G))},z={distance:function(G,A){var I=Y(G),q=Y(A);return v[I*c+q]},path:function(G,A){var I=Y(G),q=Y(A),L=h(I);if(I===q)return L.collection();if(y[I*c+q]==null)return r.collection();var H=r.collection(),U=I,X;for(H.merge(L);I!==q;)U=I,I=y[I*c+q],X=b[U*c+I],H.merge(X),H.merge(h(I));return H}};return z}},$T=wt({weight:function(e){return 1},directed:!1,root:null}),WT={bellmanFord:function(e){var r=this,n=$T(e),a=n.weight,i=n.directed,s=n.root,o=a,u=this,l=this.cy(),c=this.byGroup(),f=c.edges,d=c.nodes,h=d.length,v=new yr,g=!1,m=[];s=l.collection(s)[0],f.unmergeBy(function(te){return te.isLoop()});for(var p=f.length,y=function(ie){var le=v.get(ie.id());return le||(le={},v.set(ie.id(),le)),le},b=function(ie){return(pe(ie)?l.$(ie):ie)[0]},_=function(ie){return y(b(ie)).dist},x=function(ie){for(var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Te=b(ie),Se=[],de=Te;;){if(de==null)return r.spawn();var xe=y(de),Q=xe.edge,R=xe.pred;if(Se.unshift(de[0]),de.same(le)&&Se.length>0)break;Q!=null&&Se.unshift(Q),de=R}return u.spawn(Se)},S=0;S<h;S++){var w=d[S],T=y(w);w.same(s)?T.dist=0:T.dist=1/0,T.pred=null,T.edge=null}for(var E=!1,k=function(ie,le,Te,Se,de,xe){var Q=Se.dist+xe;Q<de.dist&&!Te.same(Se.edge)&&(de.dist=Q,de.pred=ie,de.edge=Te,E=!0)},D=1;D<h;D++){E=!1;for(var C=0;C<p;C++){var P=f[C],M=P.source(),N=P.target(),O=o(P),B=y(M),F=y(N);k(M,N,P,B,F,O),i||k(N,M,P,F,B,O)}if(!E)break}if(E)for(var V=[],Y=0;Y<p;Y++){var z=f[Y],$=z.source(),G=z.target(),A=o(z),I=y($).dist,q=y(G).dist;if(I+A<q||!i&&q+A<I)if(g||(Ye("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),e.findNegativeWeightCycles!==!1){var L=[];I+A<q&&L.push($),!i&&q+A<I&&L.push(G);for(var H=L.length,U=0;U<H;U++){var X=L[U],re=[X];re.push(y(X).edge);for(var ye=y(X).pred;re.indexOf(ye)===-1;)re.push(ye),re.push(y(ye).edge),ye=y(ye).pred;re=re.slice(re.indexOf(ye));for(var he=re[0].id(),ne=0,K=2;K<re.length;K+=2)re[K].id()<he&&(he=re[K].id(),ne=K);re=re.slice(ne).concat(re.slice(0,ne)),re.push(re[0]);var ue=re.map(function(te){return te.id()}).join(",");V.indexOf(ue)===-1&&(m.push(u.spawn(re)),V.push(ue))}}else break}return{distanceTo:_,pathTo:x,hasNegativeWeightCycle:g,negativeWeightCycles:m}}},UT=Math.sqrt(2),GT=function(e,r,n){n.length===0&&nt("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],s=a[2],o=r[i],u=r[s],l=n,c=l.length-1;c>=0;c--){var f=l[c],d=f[1],h=f[2];(r[d]===o&&r[h]===u||r[d]===u&&r[h]===o)&&l.splice(c,1)}for(var v=0;v<l.length;v++){var g=l[v];g[1]===u?(l[v]=g.slice(),l[v][1]=o):g[2]===u&&(l[v]=g.slice(),l[v][2]=o)}for(var m=0;m<r.length;m++)r[m]===u&&(r[m]=o);return l},Eo=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=GT(i,e,r),n--}return r},jT={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(F){return F.isLoop()});var i=n.length,s=a.length,o=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/UT);if(i<2){nt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],c=0;c<s;c++){var f=a[c];l.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var d=1/0,h=[],v=new Array(i),g=new Array(i),m=new Array(i),p=function(V,Y){for(var z=0;z<i;z++)Y[z]=V[z]},y=0;y<=o;y++){for(var b=0;b<i;b++)g[b]=b;var _=Eo(g,l.slice(),i,u),x=_.slice();p(g,m);var S=Eo(g,_,u,2),w=Eo(m,x,u,2);S.length<=w.length&&S.length<d?(d=S.length,h=S,p(g,v)):w.length<=S.length&&w.length<d&&(d=w.length,h=w,p(m,v))}for(var T=this.spawn(h.map(function(F){return a[F[0]]})),E=this.spawn(),k=this.spawn(),D=v[0],C=0;C<v.length;C++){var P=v[C],M=n[C];P===D?E.merge(M):k.merge(M)}var N=function(V){var Y=e.spawn();return V.forEach(function(z){Y.merge(z),z.connectedEdges().forEach(function($){e.contains($)&&!T.contains($)&&Y.merge($)})}),Y},O=[N(E),N(k)],B={cut:T,components:O,partition1:E,partition2:k};return B}},ZT=function(e){return{x:e.x,y:e.y}},Ps=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Xy=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},$n=function(e){return{x:e[0],y:e[1]}},KT=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.min(s,a))}return a},XT=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.max(s,a))}return a},QT=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(a+=o,i++)}return a/i},JT=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,u=e.length-1;u>=0;u--){var l=e[u];s?isFinite(l)||(e[u]=-1/0,o++):e.splice(u,1)}i&&e.sort(function(d,h){return d-h});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+o]:(e[f-1+o]+e[f+o])/2},eC=function(e){return Math.PI*e/180},Pi=function(e,r){return Math.atan2(r,e)-Math.PI/2},Rd=Math.log2||function(t){return Math.log(t)/Math.log(2)},Qy=function(e){return e>0?1:e<0?-1:0},wn=function(e,r){return Math.sqrt(vn(e,r))},vn=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},tC=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},pt=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},Gn=function(e,r,n,a){return{x:pt(e.x,r.x,n.x,a),y:pt(e.y,r.y,n.y,a)}},rC=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},s=wn(e,r),o={x:i.x/s,y:i.y/s};return n=n??0,a=a??n*s,{x:e.x+o.x*a,y:e.y+o.y*a}},Ka=function(e,r,n){return Math.max(e,Math.min(n,r))},zt=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},nC=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},aC=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},iC=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},sC=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Wi=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},To=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,s;if(r.length===1)n=a=i=s=r[0];else if(r.length===2)n=i=r[0],s=a=r[1];else if(r.length===4){var o=Dr(r,4);n=o[0],a=o[1],i=o[2],s=o[3]}return e.x1-=s,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},nv=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Pd=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},na=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},oC=function(e,r){return na(e,r.x,r.y)},Jy=function(e,r){return na(e,r.x1,r.y1)&&na(e,r.x2,r.y2)},e1=function(e,r,n,a,i,s,o){var u=di(i,s),l=i/2,c=s/2,f;{var d=n-l+u-o,h=a-c-o,v=n+l-u+o,g=h;if(f=Kr(e,r,n,a,d,h,v,g,!1),f.length>0)return f}{var m=n+l+o,p=a-c+u-o,y=m,b=a+c-u+o;if(f=Kr(e,r,n,a,m,p,y,b,!1),f.length>0)return f}{var _=n-l+u-o,x=a+c+o,S=n+l-u+o,w=x;if(f=Kr(e,r,n,a,_,x,S,w,!1),f.length>0)return f}{var T=n-l-o,E=a-c+u-o,k=T,D=a+c-u+o;if(f=Kr(e,r,n,a,T,E,k,D,!1),f.length>0)return f}var C;{var P=n-l+u,M=a-c+u;if(C=Ba(e,r,n,a,P,M,u+o),C.length>0&&C[0]<=P&&C[1]<=M)return[C[0],C[1]]}{var N=n+l-u,O=a-c+u;if(C=Ba(e,r,n,a,N,O,u+o),C.length>0&&C[0]>=N&&C[1]<=O)return[C[0],C[1]]}{var B=n+l-u,F=a+c-u;if(C=Ba(e,r,n,a,B,F,u+o),C.length>0&&C[0]>=B&&C[1]>=F)return[C[0],C[1]]}{var V=n-l+u,Y=a+c-u;if(C=Ba(e,r,n,a,V,Y,u+o),C.length>0&&C[0]<=V&&C[1]>=Y)return[C[0],C[1]]}return[]},uC=function(e,r,n,a,i,s,o){var u=o,l=Math.min(n,i),c=Math.max(n,i),f=Math.min(a,s),d=Math.max(a,s);return l-u<=e&&e<=c+u&&f-u<=r&&r<=d+u},lC=function(e,r,n,a,i,s,o,u,l){var c={x1:Math.min(n,o,i)-l,x2:Math.max(n,o,i)+l,y1:Math.min(a,u,s)-l,y2:Math.max(a,u,s)+l};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},cC=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var s=Math.sqrt(i),o=2*e,u=(-r+s)/o,l=(-r-s)/o;return[u,l]},fC=function(e,r,n,a,i){var s=1e-5;e===0&&(e=s),r/=e,n/=e,a/=e;var o,u,l,c,f,d,h,v;if(u=(3*n-r*r)/9,l=-(27*a)+r*(9*n-2*(r*r)),l/=54,o=u*u*u+l*l,i[1]=0,h=r/3,o>0){f=l+Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),d=l-Math.sqrt(o),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-h+f+d,h+=(f+d)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-d+f)/2,i[3]=h,i[5]=-h;return}if(i[5]=i[3]=0,o===0){v=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),i[0]=-h+2*v,i[4]=i[2]=-(v+h);return}u=-u,c=u*u*u,c=Math.acos(l/Math.sqrt(c)),v=2*Math.sqrt(u),i[0]=-h+v*Math.cos(c/3),i[2]=-h+v*Math.cos((c+2*Math.PI)/3),i[4]=-h+v*Math.cos((c+4*Math.PI)/3)},dC=function(e,r,n,a,i,s,o,u){var l=1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+a*a-4*a*s+2*a*u+4*s*s-4*s*u+u*u,c=1*9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*a*s-3*a*a-3*a*u-6*s*s+3*s*u,f=1*3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*a*a-6*a*s+a*u-a*r+2*s*s+2*s*r-u*r,d=1*n*i-n*n+n*e-i*e+a*s-a*a+a*r-s*r,h=[];fC(l,c,f,d,h);for(var v=1e-7,g=[],m=0;m<6;m+=2)Math.abs(h[m+1])<v&&h[m]>=0&&h[m]<=1&&g.push(h[m]);g.push(1),g.push(0);for(var p=-1,y,b,_,x=0;x<g.length;x++)y=Math.pow(1-g[x],2)*n+2*(1-g[x])*g[x]*i+g[x]*g[x]*o,b=Math.pow(1-g[x],2)*a+2*(1-g[x])*g[x]*s+g[x]*g[x]*u,_=Math.pow(y-e,2)+Math.pow(b-r,2),p>=0?_<p&&(p=_):p=_;return p},hC=function(e,r,n,a,i,s){var o=[e-n,r-a],u=[i-n,s-a],l=u[0]*u[0]+u[1]*u[1],c=o[0]*o[0]+o[1]*o[1],f=o[0]*u[0]+o[1]*u[1],d=f*f/l;return f<0?c:d>l?(e-i)*(e-i)+(r-s)*(r-s):c-d},qt=function(e,r,n){for(var a,i,s,o,u,l=0,c=0;c<n.length/2;c++)if(a=n[c*2],i=n[c*2+1],c+1<n.length/2?(s=n[(c+1)*2],o=n[(c+1)*2+1]):(s=n[(c+1-n.length/2)*2],o=n[(c+1-n.length/2)*2+1]),!(a==e&&s==e))if(a>=e&&e>=s||a<=e&&e<=s)u=(e-a)/(s-a)*(o-i)+i,u>r&&l++;else continue;return l%2!==0},Br=function(e,r,n,a,i,s,o,u,l){var c=new Array(n.length),f;u[0]!=null?(f=Math.atan(u[1]/u[0]),u[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=u;for(var d=Math.cos(-f),h=Math.sin(-f),v=0;v<c.length/2;v++)c[v*2]=s/2*(n[v*2]*d-n[v*2+1]*h),c[v*2+1]=o/2*(n[v*2+1]*d+n[v*2]*h),c[v*2]+=a,c[v*2+1]+=i;var g;if(l>0){var m=r1(c,-l);g=t1(m)}else g=c;return qt(e,r,g)},vC=function(e,r,n,a,i,s,o){for(var u=new Array(n.length),l=s/2,c=o/2,f=Od(s,o),d=f*f,h=0;h<n.length/4;h++){var v=void 0,g=void 0;h===0?v=n.length-2:v=h*4-2,g=h*4+2;var m=a+l*n[h*4],p=i+c*n[h*4+1],y=-n[v]*n[g]-n[v+1]*n[g+1],b=f/Math.tan(Math.acos(y)/2),_=m-b*n[v],x=p-b*n[v+1],S=m+b*n[g],w=p+b*n[g+1];u[h*4]=_,u[h*4+1]=x,u[h*4+2]=S,u[h*4+3]=w;var T=n[v+1],E=-n[v],k=T*n[g]+E*n[g+1];k<0&&(T*=-1,E*=-1);var D=_+T*f,C=x+E*f,P=Math.pow(D-e,2)+Math.pow(C-r,2);if(P<=d)return!0}return qt(e,r,u)},t1=function(e){for(var r=new Array(e.length/2),n,a,i,s,o,u,l,c,f=0;f<e.length/4;f++){n=e[f*4],a=e[f*4+1],i=e[f*4+2],s=e[f*4+3],f<e.length/4-1?(o=e[(f+1)*4],u=e[(f+1)*4+1],l=e[(f+1)*4+2],c=e[(f+1)*4+3]):(o=e[0],u=e[1],l=e[2],c=e[3]);var d=Kr(n,a,i,s,o,u,l,c,!0);r[f*2]=d[0],r[f*2+1]=d[1]}return r},r1=function(e,r){for(var n=new Array(e.length*2),a,i,s,o,u=0;u<e.length/2;u++){a=e[u*2],i=e[u*2+1],u<e.length/2-1?(s=e[(u+1)*2],o=e[(u+1)*2+1]):(s=e[0],o=e[1]);var l=o-i,c=-(s-a),f=Math.sqrt(l*l+c*c),d=l/f,h=c/f;n[u*4]=a+d*r,n[u*4+1]=i+h*r,n[u*4+2]=s+d*r,n[u*4+3]=o+h*r}return n},pC=function(e,r,n,a,i,s){var o=n-e,u=a-r;o/=i,u/=s;var l=Math.sqrt(o*o+u*u),c=l-1;if(c<0)return[];var f=c/l;return[(n-e)*f+e,(a-r)*f+r]},mn=function(e,r,n,a,i,s,o){return e-=i,r-=s,e/=n/2+o,r/=a/2+o,e*e+r*r<=1},Ba=function(e,r,n,a,i,s,o){var u=[n-e,a-r],l=[e-i,r-s],c=u[0]*u[0]+u[1]*u[1],f=2*(l[0]*u[0]+l[1]*u[1]),d=l[0]*l[0]+l[1]*l[1]-o*o,h=f*f-4*c*d;if(h<0)return[];var v=(-f+Math.sqrt(h))/(2*c),g=(-f-Math.sqrt(h))/(2*c),m=Math.min(v,g),p=Math.max(v,g),y=[];if(m>=0&&m<=1&&y.push(m),p>=0&&p<=1&&y.push(p),y.length===0)return[];var b=y[0]*u[0]+e,_=y[0]*u[1]+r;if(y.length>1){if(y[0]==y[1])return[b,_];var x=y[1]*u[0]+e,S=y[1]*u[1]+r;return[b,_,x,S]}else return[b,_]},Co=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Kr=function(e,r,n,a,i,s,o,u,l){var c=e-i,f=n-e,d=o-i,h=r-s,v=a-r,g=u-s,m=d*h-g*c,p=f*h-v*c,y=g*f-d*v;if(y!==0){var b=m/y,_=p/y,x=.001,S=0-x,w=1+x;return S<=b&&b<=w&&S<=_&&_<=w?[e+b*f,r+b*v]:l?[e+b*f,r+b*v]:[]}else return m===0||p===0?Co(e,n,o)===o?[o,u]:Co(e,n,i)===i?[i,s]:Co(i,o,n)===n?[n,a]:[]:[]},Xa=function(e,r,n,a,i,s,o,u){var l=[],c,f=new Array(n.length),d=!0;s==null&&(d=!1);var h;if(d){for(var v=0;v<f.length/2;v++)f[v*2]=n[v*2]*s+a,f[v*2+1]=n[v*2+1]*o+i;if(u>0){var g=r1(f,-u);h=t1(g)}else h=f}else h=n;for(var m,p,y,b,_=0;_<h.length/2;_++)m=h[_*2],p=h[_*2+1],_<h.length/2-1?(y=h[(_+1)*2],b=h[(_+1)*2+1]):(y=h[0],b=h[1]),c=Kr(e,r,a,i,m,p,y,b),c.length!==0&&l.push(c[0],c[1]);return l},gC=function(e,r,n,a,i,s,o,u){for(var l=[],c,f=new Array(n.length),d=s/2,h=o/2,v=Od(s,o),g=0;g<n.length/4;g++){var m=void 0,p=void 0;g===0?m=n.length-2:m=g*4-2,p=g*4+2;var y=a+d*n[g*4],b=i+h*n[g*4+1],_=-n[m]*n[p]-n[m+1]*n[p+1],x=v/Math.tan(Math.acos(_)/2),S=y-x*n[m],w=b-x*n[m+1],T=y+x*n[p],E=b+x*n[p+1];g===0?(f[n.length-2]=S,f[n.length-1]=w):(f[g*4-2]=S,f[g*4-1]=w),f[g*4]=T,f[g*4+1]=E;var k=n[m+1],D=-n[m],C=k*n[p]+D*n[p+1];C<0&&(k*=-1,D*=-1);var P=S+k*v,M=w+D*v;c=Ba(e,r,a,i,P,M,v),c.length!==0&&l.push(c[0],c[1])}for(var N=0;N<f.length/4;N++)c=Kr(e,r,a,i,f[N*4],f[N*4+1],f[N*4+2],f[N*4+3],!1),c.length!==0&&l.push(c[0],c[1]);if(l.length>2){for(var O=[l[0],l[1]],B=Math.pow(O[0]-e,2)+Math.pow(O[1]-r,2),F=1;F<l.length/2;F++){var V=Math.pow(l[F*2]-e,2)+Math.pow(l[F*2+1]-r,2);V<=B&&(O[0]=l[F*2],O[1]=l[F*2+1],B=V)}return O}return l},Oi=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=(i-n)/i;return s<0&&(s=1e-5),[r[0]+s*a[0],r[1]+s*a[1]]},Ot=function(e,r){var n=Kf(e,r);return n=n1(n),n},n1=function(e){for(var r,n,a=e.length/2,i=1/0,s=1/0,o=-1/0,u=-1/0,l=0;l<a;l++)r=e[2*l],n=e[2*l+1],i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),u=Math.max(u,n);for(var c=2/(o-i),f=2/(u-s),d=0;d<a;d++)r=e[2*d]=e[2*d]*c,n=e[2*d+1]=e[2*d+1]*f,i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),u=Math.max(u,n);if(s<-1)for(var h=0;h<a;h++)n=e[2*h+1]=e[2*h+1]+(-1-s);return e},Kf=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),s,o=0;o<e;o++)s=o*n+a,i[2*o]=Math.cos(s),i[2*o+1]=Math.sin(-s);return i},di=function(e,r){return Math.min(e/4,r/4,8)},Od=function(e,r){return Math.min(e/10,r/10,8)},a1=function(){return 8},mC=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Xf=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},yC=wt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),bC={pageRank:function(e){for(var r=yC(e),n=r.dampingFactor,a=r.precision,i=r.iterations,s=r.weight,o=this._private.cy,u=this.byGroup(),l=u.nodes,c=u.edges,f=l.length,d=f*f,h=c.length,v=new Array(d),g=new Array(f),m=(1-n)/f,p=0;p<f;p++){for(var y=0;y<f;y++){var b=p*f+y;v[b]=0}g[p]=0}for(var _=0;_<h;_++){var x=c[_],S=x.data("source"),w=x.data("target");if(S!==w){var T=l.indexOfId(S),E=l.indexOfId(w),k=s(x),D=E*f+T;v[D]+=k,g[T]+=k}}for(var C=1/f+m,P=0;P<f;P++)if(g[P]===0)for(var M=0;M<f;M++){var N=M*f+P;v[N]=C}else for(var O=0;O<f;O++){var B=O*f+P;v[B]=v[B]/g[P]+m}for(var F=new Array(f),V=new Array(f),Y,z=0;z<f;z++)F[z]=1;for(var $=0;$<i;$++){for(var G=0;G<f;G++)V[G]=0;for(var A=0;A<f;A++)for(var I=0;I<f;I++){var q=A*f+I;V[A]+=v[q]*F[I]}tC(V),Y=F,F=V,V=Y;for(var L=0,H=0;H<f;H++){var U=Y[H]-F[H];L+=U*U}if(L<a)break}var X={rank:function(ye){return ye=o.collection(ye)[0],F[l.indexOf(ye)]}};return X}},av=wt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),jn={degreeCentralityNormalized:function(e){e=av(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var c={},f={},d=0,h=0,v=0;v<a;v++){var g=n[v],m=g.id();e.root=g;var p=this.degreeCentrality(e);d<p.indegree&&(d=p.indegree),h<p.outdegree&&(h=p.outdegree),c[m]=p.indegree,f[m]=p.outdegree}return{indegree:function(b){return d==0?0:(pe(b)&&(b=r.filter(b)),c[b.id()]/d)},outdegree:function(b){return h===0?0:(pe(b)&&(b=r.filter(b)),f[b.id()]/h)}}}else{for(var i={},s=0,o=0;o<a;o++){var u=n[o];e.root=u;var l=this.degreeCentrality(e);s<l.degree&&(s=l.degree),i[u.id()]=l.degree}return{degree:function(b){return s===0?0:(pe(b)&&(b=r.filter(b)),i[b.id()]/s)}}}},degreeCentrality:function(e){e=av(e);var r=this.cy(),n=this,a=e,i=a.root,s=a.weight,o=a.directed,u=a.alpha;if(i=r.collection(i)[0],o){for(var h=i.connectedEdges(),v=h.filter(function(S){return S.target().same(i)&&n.has(S)}),g=h.filter(function(S){return S.source().same(i)&&n.has(S)}),m=v.length,p=g.length,y=0,b=0,_=0;_<v.length;_++)y+=s(v[_]);for(var x=0;x<g.length;x++)b+=s(g[x]);return{indegree:Math.pow(m,1-u)*Math.pow(y,u),outdegree:Math.pow(p,1-u)*Math.pow(b,u)}}else{for(var l=i.connectedEdges().intersection(n),c=l.length,f=0,d=0;d<l.length;d++)f+=s(l[d]);return{degree:Math.pow(c,1-u)*Math.pow(f,u)}}}};jn.dc=jn.degreeCentrality;jn.dcn=jn.degreeCentralityNormalised=jn.degreeCentralityNormalized;var iv=wt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Zn={closenessCentralityNormalized:function(e){for(var r=iv(e),n=r.harmonic,a=r.weight,i=r.directed,s=this.cy(),o={},u=0,l=this.nodes(),c=this.floydWarshall({weight:a,directed:i}),f=0;f<l.length;f++){for(var d=0,h=l[f],v=0;v<l.length;v++)if(f!==v){var g=c.distance(h,l[v]);n?d+=1/g:d+=g}n||(d=1/d),u<d&&(u=d),o[h.id()]=d}return{closeness:function(p){return u==0?0:(pe(p)?p=s.filter(p)[0].id():p=p.id(),o[p]/u)}}},closenessCentrality:function(e){var r=iv(e),n=r.root,a=r.weight,i=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:a,directed:i}),u=0,l=this.nodes(),c=0;c<l.length;c++){var f=l[c];if(!f.same(n)){var d=o.distanceTo(f);s?u+=1/d:u+=d}}return s?u:1/u}};Zn.cc=Zn.closenessCentrality;Zn.ccn=Zn.closenessCentralityNormalised=Zn.closenessCentralityNormalized;var _C=wt({weight:null,directed:!1}),Qf={betweennessCentrality:function(e){for(var r=_C(e),n=r.directed,a=r.weight,i=a!=null,s=this.cy(),o=this.nodes(),u={},l={},c=0,f={set:function(b,_){l[b]=_,_>c&&(c=_)},get:function(b){return l[b]}},d=0;d<o.length;d++){var h=o[d],v=h.id();n?u[v]=h.outgoers().nodes():u[v]=h.openNeighborhood().nodes(),f.set(v,0)}for(var g=function(b){for(var _=o[b].id(),x=[],S={},w={},T={},E=new li.default(function(I,q){return T[I]-T[q]}),k=0;k<o.length;k++){var D=o[k].id();S[D]=[],w[D]=0,T[D]=1/0}for(w[_]=1,T[_]=0,E.push(_);!E.empty();){var C=E.pop();if(x.push(C),i)for(var P=0;P<u[C].length;P++){var M=u[C][P],N=s.getElementById(C),O=void 0;N.edgesTo(M).length>0?O=N.edgesTo(M)[0]:O=M.edgesTo(N)[0];var B=a(O);M=M.id(),T[M]>T[C]+B&&(T[M]=T[C]+B,E.nodes.indexOf(M)<0?E.push(M):E.updateItem(M),w[M]=0,S[M]=[]),T[M]==T[C]+B&&(w[M]=w[M]+w[C],S[M].push(C))}else for(var F=0;F<u[C].length;F++){var V=u[C][F].id();T[V]==1/0&&(E.push(V),T[V]=T[C]+1),T[V]==T[C]+1&&(w[V]=w[V]+w[C],S[V].push(C))}}for(var Y={},z=0;z<o.length;z++)Y[o[z].id()]=0;for(;x.length>0;){for(var $=x.pop(),G=0;G<S[$].length;G++){var A=S[$][G];Y[A]=Y[A]+w[A]/w[$]*(1+Y[$])}$!=o[b].id()&&f.set($,f.get($)+Y[$])}},m=0;m<o.length;m++)g(m);var p={betweenness:function(b){var _=s.collection(b).id();return f.get(_)},betweennessNormalized:function(b){if(c==0)return 0;var _=s.collection(b).id();return f.get(_)/c}};return p.betweennessNormalised=p.betweennessNormalized,p}};Qf.bc=Qf.betweennessCentrality;var wC=wt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),SC=function(e){return wC(e)},xC=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},EC=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},i1=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var s=0;s<r;s++)e[s*r+a]=e[s*r+a]/n}},TC=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var s=0;s<n;s++)a[i*n+s]=0;for(var o=0;o<n;o++)for(var u=0;u<n;u++)a[i*n+u]+=e[i*n+o]*r[o*n+u]}return a},CC=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=TC(e,a,r);return e},kC=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return i1(a,r),a},DC=function(e,r,n,a){for(var i=0;i<n;i++){var s=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),o=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(s!==o)return!1}return!0},MC=function(e,r,n,a){for(var i=[],s=0;s<r;s++){for(var o=[],u=0;u<r;u++)Math.round(e[s*r+u]*1e3)/1e3>0&&o.push(n[u]);o.length!==0&&i.push(a.collection(o))}return i},RC=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},PC=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&RC(e[r],e[n])&&e.splice(n,1);return e},sv=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=SC(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var u=r.length,l=u*u,c=new Array(l),f,d=0;d<l;d++)c[d]=0;for(var h=0;h<n.length;h++){var v=n[h],g=s[v.source().id()],m=s[v.target().id()],p=xC(v,i.attributes);c[g*u+m]+=p,c[m*u+g]+=p}EC(c,u,i.multFactor),i1(c,u);for(var y=!0,b=0;y&&b<i.maxIterations;)y=!1,f=CC(c,u,i.expandFactor),c=kC(f,u,i.inflateFactor),DC(c,f,l,4)||(y=!0),b++;var _=MC(c,u,r,a);return _=PC(_),_},OC={markovClustering:sv,mcl:sv},LC=function(e){return e},s1=function(e,r){return Math.abs(r-e)},ov=function(e,r,n){return e+s1(r,n)},uv=function(e,r,n){return e+Math.pow(n-r,2)},AC=function(e){return Math.sqrt(e)},IC=function(e,r,n){return Math.max(e,s1(r,n))},Da=function(e,r,n,a,i){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:LC,o=a,u,l,c=0;c<e;c++)u=r(c),l=n(c),o=i(o,u,l);return s(o)},aa={euclidean:function(e,r,n){return e>=2?Da(e,r,n,0,uv,AC):Da(e,r,n,0,ov)},squaredEuclidean:function(e,r,n){return Da(e,r,n,0,uv)},manhattan:function(e,r,n){return Da(e,r,n,0,ov)},max:function(e,r,n){return Da(e,r,n,-1/0,IC)}};aa["squared-euclidean"]=aa.squaredEuclidean;aa.squaredeuclidean=aa.squaredEuclidean;function Os(t,e,r,n,a,i){var s;return tt(t)?s=t:s=aa[t]||aa.euclidean,e===0&&tt(t)?s(a,i):s(e,r,n,a,i)}var BC=wt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Ld=function(e){return BC(e)},is=function(e,r,n,a,i){var s=i!=="kMedoids",o=s?function(f){return n[f]}:function(f){return a[f](n)},u=function(d){return a[d](r)},l=n,c=r;return Os(e,a.length,o,u,l,c)},ko=function(e,r,n){for(var a=n.length,i=new Array(a),s=new Array(a),o=new Array(r),u=null,l=0;l<a;l++)i[l]=e.min(n[l]).value,s[l]=e.max(n[l]).value;for(var c=0;c<r;c++){u=[];for(var f=0;f<a;f++)u[f]=Math.random()*(s[f]-i[f])+i[f];o[c]=u}return o},o1=function(e,r,n,a,i){for(var s=1/0,o=0,u=0;u<r.length;u++){var l=is(n,e,r[u],a,i);l<s&&(s=l,o=u)}return o},u1=function(e,r,n){for(var a=[],i=null,s=0;s<r.length;s++)i=r[s],n[i.id()]===e&&a.push(i);return a},NC=function(e,r,n){return Math.abs(r-e)<=n},qC=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var s=Math.abs(e[a][i]-r[a][i]);if(s>n)return!1}return!0},FC=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},lv=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];FC(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},cv=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=is("manhattan",r[i],e,n,"kMedoids");return a},zC=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Ld(e),s=new Array(i.k),o={},u;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,u=ko(n,i.k,i.attributes)):ht(i.testCentroids)==="object"?u=i.testCentroids:u=ko(n,i.k,i.attributes):u=ko(n,i.k,i.attributes);for(var l=!0,c=0;l&&c<i.maxIterations;){for(var f=0;f<n.length;f++)a=n[f],o[a.id()]=o1(a,u,i.distance,i.attributes,"kMeans");l=!1;for(var d=0;d<i.k;d++){var h=u1(d,n,o);if(h.length!==0){for(var v=i.attributes.length,g=u[d],m=new Array(v),p=new Array(v),y=0;y<v;y++){p[y]=0;for(var b=0;b<h.length;b++)a=h[b],p[y]+=i.attributes[y](a);m[y]=p[y]/h.length,NC(m[y],g[y],i.sensitivityThreshold)||(l=!0)}u[d]=m,s[d]=r.collection(h)}}c++}return s},VC=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Ld(e),s=new Array(i.k),o,u={},l,c=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(ht(i.testCentroids)==="object"?o=i.testCentroids:o=lv(n,i.k)):o=lv(n,i.k);for(var f=!0,d=0;f&&d<i.maxIterations;){for(var h=0;h<n.length;h++)a=n[h],u[a.id()]=o1(a,o,i.distance,i.attributes,"kMedoids");f=!1;for(var v=0;v<o.length;v++){var g=u1(v,n,u);if(g.length!==0){c[v]=cv(o[v],g,i.attributes);for(var m=0;m<g.length;m++)l=cv(g[m],g,i.attributes),l<c[v]&&(c[v]=l,o[v]=g[m],f=!0);s[v]=r.collection(g)}}d++}return s},HC=function(e,r,n,a,i){for(var s,o,u=0;u<r.length;u++)for(var l=0;l<e.length;l++)a[u][l]=Math.pow(n[u][l],i.m);for(var c=0;c<e.length;c++)for(var f=0;f<i.attributes.length;f++){s=0,o=0;for(var d=0;d<r.length;d++)s+=a[d][c]*i.attributes[f](r[d]),o+=a[d][c];e[c][f]=s/o}},YC=function(e,r,n,a,i){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,u,l,c=2/(i.m-1),f=0;f<n.length;f++)for(var d=0;d<a.length;d++){o=0;for(var h=0;h<n.length;h++)u=is(i.distance,a[d],n[f],i.attributes,"cmeans"),l=is(i.distance,a[d],n[h],i.attributes,"cmeans"),o+=Math.pow(u/l,c);e[d][f]=1/o}},$C=function(e,r,n,a){for(var i=new Array(n.k),s=0;s<i.length;s++)i[s]=[];for(var o,u,l=0;l<r.length;l++){o=-1/0,u=-1;for(var c=0;c<r[0].length;c++)r[l][c]>o&&(o=r[l][c],u=c);i[u].push(e[l])}for(var f=0;f<i.length;f++)i[f]=a.collection(i[f]);return i},fv=function(e){var r=this.cy(),n=this.nodes(),a=Ld(e),i,s,o,u,l;u=new Array(n.length);for(var c=0;c<n.length;c++)u[c]=new Array(a.k);o=new Array(n.length);for(var f=0;f<n.length;f++)o[f]=new Array(a.k);for(var d=0;d<n.length;d++){for(var h=0,v=0;v<a.k;v++)o[d][v]=Math.random(),h+=o[d][v];for(var g=0;g<a.k;g++)o[d][g]=o[d][g]/h}s=new Array(a.k);for(var m=0;m<a.k;m++)s[m]=new Array(a.attributes.length);l=new Array(n.length);for(var p=0;p<n.length;p++)l[p]=new Array(a.k);for(var y=!0,b=0;y&&b<a.maxIterations;)y=!1,HC(s,n,o,l,a),YC(o,u,s,n,a),qC(o,u,a.sensitivityThreshold)||(y=!0),b++;return i=$C(n,o,a,r),{clusters:i,degreeOfMembership:o}},WC={kMeans:zC,kMedoids:VC,fuzzyCMeans:fv,fcm:fv},UC=wt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),GC={single:"min",complete:"max"},jC=function(e){var r=UC(e),n=GC[r.linkage];return n!=null&&(r.linkage=n),r},dv=function(e,r,n,a,i){for(var s=0,o=1/0,u,l=i.attributes,c=function(E,k){return Os(i.distance,l.length,function(D){return l[D](E)},function(D){return l[D](k)},E,k)},f=0;f<e.length;f++){var d=e[f].key,h=n[d][a[d]];h<o&&(s=d,o=h)}if(i.mode==="threshold"&&o>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var v=r[s],g=r[a[s]],m;i.mode==="dendrogram"?m={left:v,right:g,key:v.key}:m={value:v.value.concat(g.value),key:v.key},e[v.index]=m,e.splice(g.index,1),r[v.key]=m;for(var p=0;p<e.length;p++){var y=e[p];v.key===y.key?u=1/0:i.linkage==="min"?(u=n[v.key][y.key],n[v.key][y.key]>n[g.key][y.key]&&(u=n[g.key][y.key])):i.linkage==="max"?(u=n[v.key][y.key],n[v.key][y.key]<n[g.key][y.key]&&(u=n[g.key][y.key])):i.linkage==="mean"?u=(n[v.key][y.key]*v.size+n[g.key][y.key]*g.size)/(v.size+g.size):i.mode==="dendrogram"?u=c(y.value,v.value):u=c(y.value[0],v.value[0]),n[v.key][y.key]=n[y.key][v.key]=u}for(var b=0;b<e.length;b++){var _=e[b].key;if(a[_]===v.key||a[_]===g.key){for(var x=_,S=0;S<e.length;S++){var w=e[S].key;n[_][w]<n[_][x]&&(x=w)}a[_]=x}e[b].index=b}return v.key=g.key=v.index=g.index=null,!0},Li=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},ZC=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),a=t(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},KC=function t(e,r,n){if(!e)return[];var a=[],i=[],s=[];return r===0?(e.left&&Li(e.left,a),e.right&&Li(e.right,i),s=a.concat(i),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Li(e.left,a),e.right&&Li(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=t(e.left,r-1,n)),e.right&&(i=t(e.right,r-1,n)),a.concat(i))},hv=function(e){for(var r=this.cy(),n=this.nodes(),a=jC(e),i=a.attributes,s=function(b,_){return Os(a.distance,i.length,function(x){return i[x](b)},function(x){return i[x](_)},b,_)},o=[],u=[],l=[],c=[],f=0;f<n.length;f++){var d={value:a.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};o[f]=d,c[f]=d,u[f]=[],l[f]=0}for(var h=0;h<o.length;h++)for(var v=0;v<=h;v++){var g=void 0;a.mode==="dendrogram"?g=h===v?1/0:s(o[h].value,o[v].value):g=h===v?1/0:s(o[h].value[0],o[v].value[0]),u[h][v]=g,u[v][h]=g,g<u[h][l[h]]&&(l[h]=v)}for(var m=dv(o,c,u,l,a);m;)m=dv(o,c,u,l,a);var p;return a.mode==="dendrogram"?(p=KC(o[0],a.dendrogramDepth,r),a.addDendrogram&&ZC(o[0],r)):(p=new Array(o.length),o.forEach(function(y,b){y.key=y.index=null,p[b]=r.collection(y.value)})),p},XC={hierarchicalClustering:hv,hca:hv},QC=wt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),JC=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||nt("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||se(n)||nt("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),QC(e)},ek=function(e,r,n,a){var i=function(o,u){return a[u](o)};return-Os(e,a.length,function(s){return i(r,s)},function(s){return i(n,s)},r,n)},tk=function(e,r){var n=null;return r==="median"?n=JT(e):r==="mean"?n=QT(e):r==="min"?n=KT(e):r==="max"?n=XT(e):n=r,n},rk=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},vv=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var s=-1,o=-1/0,u=0;u<n.length;u++){var l=n[u];r[i*e+l]>o&&(s=l,o=r[i*e+l])}s>0&&a.push(s)}for(var c=0;c<n.length;c++)a[n[c]]=n[c];return a},nk=function(e,r,n){for(var a=vv(e,r,n),i=0;i<n.length;i++){for(var s=[],o=0;o<a.length;o++)a[o]===n[i]&&s.push(o);for(var u=-1,l=-1/0,c=0;c<s.length;c++){for(var f=0,d=0;d<s.length;d++)f+=r[s[d]*e+s[c]];f>l&&(u=c,l=f)}n[i]=s[u]}return a=vv(e,r,n),a},pv=function(e){for(var r=this.cy(),n=this.nodes(),a=JC(e),i={},s=0;s<n.length;s++)i[n[s].id()]=s;var o,u,l,c,f,d;o=n.length,u=o*o,l=new Array(u);for(var h=0;h<u;h++)l[h]=-1/0;for(var v=0;v<o;v++)for(var g=0;g<o;g++)v!==g&&(l[v*o+g]=ek(a.distance,n[v],n[g],a.attributes));c=tk(l,a.preference);for(var m=0;m<o;m++)l[m*o+m]=c;f=new Array(u);for(var p=0;p<u;p++)f[p]=0;d=new Array(u);for(var y=0;y<u;y++)d[y]=0;for(var b=new Array(o),_=new Array(o),x=new Array(o),S=0;S<o;S++)b[S]=0,_[S]=0,x[S]=0;for(var w=new Array(o*a.minIterations),T=0;T<w.length;T++)w[T]=0;var E;for(E=0;E<a.maxIterations;E++){for(var k=0;k<o;k++){for(var D=-1/0,C=-1/0,P=-1,M=0,N=0;N<o;N++)b[N]=f[k*o+N],M=d[k*o+N]+l[k*o+N],M>=D?(C=D,D=M,P=N):M>C&&(C=M);for(var O=0;O<o;O++)f[k*o+O]=(1-a.damping)*(l[k*o+O]-D)+a.damping*b[O];f[k*o+P]=(1-a.damping)*(l[k*o+P]-C)+a.damping*b[P]}for(var B=0;B<o;B++){for(var F=0,V=0;V<o;V++)b[V]=d[V*o+B],_[V]=Math.max(0,f[V*o+B]),F+=_[V];F-=_[B],_[B]=f[B*o+B],F+=_[B];for(var Y=0;Y<o;Y++)d[Y*o+B]=(1-a.damping)*Math.min(0,F-_[Y])+a.damping*b[Y];d[B*o+B]=(1-a.damping)*(F-_[B])+a.damping*b[B]}for(var z=0,$=0;$<o;$++){var G=d[$*o+$]+f[$*o+$]>0?1:0;w[E%a.minIterations*o+$]=G,z+=G}if(z>0&&(E>=a.minIterations-1||E==a.maxIterations-1)){for(var A=0,I=0;I<o;I++){x[I]=0;for(var q=0;q<a.minIterations;q++)x[I]+=w[q*o+I];(x[I]===0||x[I]===a.minIterations)&&A++}if(A===o)break}}for(var L=rk(o,f,d),H=nk(o,l,L),U={},X=0;X<L.length;X++)U[L[X]]=[];for(var re=0;re<n.length;re++){var ye=i[n[re].id()],he=H[ye];he!=null&&U[he].push(n[re])}for(var ne=new Array(L.length),K=0;K<L.length;K++)ne[K]=r.collection(U[L[K]]);return ne},ak={affinityPropagation:pv,ap:pv},ik=wt({root:void 0,directed:!1}),sk={hierholzer:function(e){if(!Be(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=ik(e),a=n.root,i=n.directed,s=this,o=!1,u,l,c;a&&(c=pe(a)?this.filter(a)[0].id():a[0].id());var f={},d={};i?s.forEach(function(y){var b=y.id();if(y.isNode()){var _=y.indegree(!0),x=y.outdegree(!0),S=_-x,w=x-_;S==1?u?o=!0:u=b:w==1?l?o=!0:l=b:(w>1||S>1)&&(o=!0),f[b]=[],y.outgoers().forEach(function(T){T.isEdge()&&f[b].push(T.id())})}else d[b]=[void 0,y.target().id()]}):s.forEach(function(y){var b=y.id();if(y.isNode()){var _=y.degree(!0);_%2&&(u?l?o=!0:l=b:u=b),f[b]=[],y.connectedEdges().forEach(function(x){return f[b].push(x.id())})}else d[b]=[y.source().id(),y.target().id()]});var h={found:!1,trail:void 0};if(o)return h;if(l&&u)if(i){if(c&&l!=c)return h;c=l}else{if(c&&l!=c&&u!=c)return h;c||(c=l)}else c||(c=s[0].id());var v=function(b){for(var _=b,x=[b],S,w,T;f[_].length;)S=f[_].shift(),w=d[S][0],T=d[S][1],_!=T?(f[T]=f[T].filter(function(E){return E!=S}),_=T):!i&&_!=w&&(f[w]=f[w].filter(function(E){return E!=S}),_=w),x.unshift(S),x.unshift(_);return x},g=[],m=[];for(m=v(c);m.length!=1;)f[m[0]].length==0?(g.unshift(s.getElementById(m.shift())),g.unshift(s.getElementById(m.shift()))):m=v(m.shift()).concat(m);g.unshift(s.getElementById(m.shift()));for(var p in f)if(f[p].length)return h;return h.found=!0,h.trail=this.spawn(g,!0),h}},Ai=function(){var e=this,r={},n=0,a=0,i=[],s=[],o={},u=function(d,h){for(var v=s.length-1,g=[],m=e.spawn();s[v].x!=d||s[v].y!=h;)g.push(s.pop().edge),v--;g.push(s.pop().edge),g.forEach(function(p){var y=p.connectedNodes().intersection(e);m.merge(p),y.forEach(function(b){var _=b.id(),x=b.connectedEdges().intersection(e);m.merge(b),r[_].cutVertex?m.merge(x.filter(function(S){return S.isLoop()})):m.merge(x)})}),i.push(m)},l=function f(d,h,v){d===v&&(a+=1),r[h]={id:n,low:n++,cutVertex:!1};var g=e.getElementById(h).connectedEdges().intersection(e);if(g.size()===0)i.push(e.spawn(e.getElementById(h)));else{var m,p,y,b;g.forEach(function(_){m=_.source().id(),p=_.target().id(),y=m===h?p:m,y!==v&&(b=_.id(),o[b]||(o[b]=!0,s.push({x:h,y,edge:_})),y in r?r[h].low=Math.min(r[h].low,r[y].id):(f(d,y,h),r[h].low=Math.min(r[h].low,r[y].low),r[h].id<=r[y].low&&(r[h].cutVertex=!0,u(h,y))))})}};e.forEach(function(f){if(f.isNode()){var d=f.id();d in r||(a=0,l(d,d),r[d].cutVertex=a>1)}});var c=Object.keys(r).filter(function(f){return r[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:i}},ok={hopcroftTarjanBiconnected:Ai,htbc:Ai,htb:Ai,hopcroftTarjanBiconnectedComponents:Ai},Ii=function(){var e=this,r={},n=0,a=[],i=[],s=e.spawn(e),o=function u(l){i.push(l),r[l]={index:n,low:n++,explored:!1};var c=e.getElementById(l).connectedEdges().intersection(e);if(c.forEach(function(g){var m=g.target().id();m!==l&&(m in r||u(m),r[m].explored||(r[l].low=Math.min(r[l].low,r[m].low)))}),r[l].index===r[l].low){for(var f=e.spawn();;){var d=i.pop();if(f.merge(e.getElementById(d)),r[d].low=r[l].index,r[d].explored=!0,d===l)break}var h=f.edgesWith(f),v=f.merge(h);a.push(v),s=s.difference(v)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in r||o(l)}}),{cut:s,components:a}},uk={tarjanStronglyConnected:Ii,tsc:Ii,tscc:Ii,tarjanStronglyConnectedComponents:Ii},l1={};[Za,qT,FT,VT,YT,WT,jT,bC,jn,Zn,Qf,OC,WC,XC,ak,sk,ok,uk].forEach(function(t){be(l1,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var c1=0,f1=1,d1=2,Nr=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=c1,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Nr.prototype={fulfill:function(e){return gv(this,f1,"fulfillValue",e)},reject:function(e){return gv(this,d1,"rejectReason",e)},then:function(e,r){var n=this,a=new Nr;return n.onFulfilled.push(yv(e,a,"fulfill")),n.onRejected.push(yv(r,a,"reject")),h1(n),a.proxy}};var gv=function(e,r,n,a){return e.state===c1&&(e.state=r,e[n]=a,h1(e)),e},h1=function(e){e.state===f1?mv(e,"onFulfilled",e.fulfillValue):e.state===d1&&mv(e,"onRejected",e.rejectReason)},mv=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var o=0;o<a.length;o++)a[o](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},yv=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(s){r.reject(s);return}lk(r,i)}}},lk=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(ht(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):t(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};Nr.all=function(t){return new Nr(function(e,r){for(var n=new Array(t.length),a=0,i=function(u,l){n[u]=l,a++,a===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var u=t[o],l=u!=null&&u.then!=null;if(l)u.then(function(f){i(o,f)},function(f){r(f)});else{var c=u;i(o,c)}})(s)})};Nr.resolve=function(t){return new Nr(function(e,r){e(t)})};Nr.reject=function(t){return new Nr(function(e,r){r(t)})};var pa=typeof Promise<"u"?Promise:Nr,Jf=function(e,r,n){var a=Td(e),i=!a,s=this._private=be({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&tt(s.complete)&&s.completes.push(s.complete),i){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(a){var u=e.pan();s.startPan={x:u.x,y:u.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},Sn=Jf.prototype;be(Sn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Yt(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,c){var f=e[l];f!=null&&(e[l]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],s=i.name,o=e.startStyle[s];e.startStyle[s]=i,e.style[a]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new pa(function(a,i){n.push(function(){a()})})}});Sn.complete=Sn.completed;Sn.run=Sn.play;Sn.running=Sn.playing;var ck={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var s=a[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var s=0;s<a.length;s++){var o=a[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this,u=!i,l=!u;if(!o.styleEnabled())return this;var c=o.style();r=be({},r,n);var f=Object.keys(r).length===0;if(f)return new Jf(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var d=r.renderedPosition,h=o.pan(),v=o.zoom();r.position=Xy(d,v,h)}if(u&&r.panBy!=null){var g=r.panBy,m=o.pan();r.pan={x:m.x+g.x,y:m.y+g.y}}var p=r.center||r.centre;if(u&&p!=null){var y=o.getCenterPan(p.eles,r.zoom);y!=null&&(r.pan=y)}if(u&&r.fit!=null){var b=r.fit,_=o.getFitViewport(b.eles||b.boundingBox,b.padding);_!=null&&(r.pan=_.pan,r.zoom=_.zoom)}if(u&&Be(r.zoom)){var x=o.getZoomedViewport(r.zoom);x!=null?(x.zoomed&&(r.zoom=x.zoom),x.panned&&(r.pan=x.pan)):r.zoom=null}return new Jf(s[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=be({},r,n));for(var u=0;u<s.length;u++){var l=s[u],c=l.animated()&&(r.queue===void 0||r.queue),f=l.animation(r,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var u=0;u<s.length;u++){for(var l=s[u],c=l._private,f=c.animation.current,d=0;d<f.length;d++){var h=f[d],v=h._private;n&&(v.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return o.notify("draw"),this}}},fk={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=be({},r,e),function(a,i){var s=e,o=this,u=o.length!==void 0,l=u?o:[o],c=u?o[0]:o;if(pe(a)){var f=a.indexOf(".")!==-1,d=f&&KE.default(a);if(s.allowGetting&&i===void 0){var h;return c&&(s.beforeGet(c),d&&c._private[s.field][a]===void 0?h=jE.default(c._private[s.field],d):h=c._private[s.field][a]),h}else if(s.allowSetting&&i!==void 0){var v=!s.immutableKeys[a];if(v){var g=Iy({},a,i);s.beforeSet(o,g);for(var m=0,p=l.length;m<p;m++){var y=l[m];s.canSet(y)&&(d&&c._private[s.field][a]===void 0?ZE.default(y._private[s.field],d,i):y._private[s.field][a]=i)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Be(a)){var b=a,_,x,S=Object.keys(b);s.beforeSet(o,b);for(var w=0;w<S.length;w++){_=S[w],x=b[_];var T=!s.immutableKeys[_];if(T)for(var E=0;E<l.length;E++){var k=l[E];s.canSet(k)&&(k._private[s.field][_]=x)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&tt(a)){var D=a;o.on(s.bindingEvent,D)}else if(s.allowGetting&&a===void 0){var C;return c&&(s.beforeGet(c),C=c._private[s.field]),C}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=be({},r,e),function(a){var i=e,s=this,o=s.length!==void 0,u=o?s:[s];if(pe(a)){for(var l=a.split(/\s+/),c=l.length,f=0;f<c;f++){var d=l[f];if(!rn(d)){var h=!i.immutableKeys[d];if(h)for(var v=0,g=u.length;v<g;v++)u[v]._private[i.field][d]=void 0}}i.triggerEvent&&s[i.triggerFnName](i.event)}else if(a===void 0){for(var m=0,p=u.length;m<p;m++)for(var y=u[m]._private[i.field],b=Object.keys(y),_=0;_<b.length;_++){var x=b[_],S=!i.immutableKeys[x];S&&(y[x]=void 0)}i.triggerEvent&&s[i.triggerFnName](i.event)}return s}}},dk={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,s=Array.prototype.slice.call(arguments,0);return new pa(function(o,u){var l=function(h){i.off.apply(i,f),o(h)},c=s.concat([l]),f=c.concat([]);i.on.apply(i,c)})}}},He={};[ck,fk,dk].forEach(function(t){be(He,t)});var hk={animate:He.animate(),animation:He.animation(),animated:He.animated(),clearQueue:He.clearQueue(),delay:He.delay(),delayAnimation:He.delayAnimation(),stop:He.stop()},Ui={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else Ge(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new va(e),s=0;s<r.length;s++){for(var o=r[s],u=o._private,l=u.classes,c=!1,f=0;f<e.length;f++){var d=e[f],h=l.has(d);if(!h){c=!0;break}}c||(c=l.size!==e.length),c&&(u.classes=i,a.push(o))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){Ge(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],s=0,o=n.length;s<o;s++)for(var u=n[s],l=u._private.classes,c=!1,f=0;f<e.length;f++){var d=e[f],h=l.has(d),v=!1;r||a&&!h?(l.add(d),v=!0):(!r||a&&h)&&(l.delete(d),v=!0),!c&&v&&(i.push(u),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Ui.className=Ui.classNames=Ui.classes;var Ie={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:ft,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Ie.variable="(?:[\\w-.]|(?:\\\\"+Ie.metaChar+"))+";Ie.className="(?:[\\w-]|(?:\\\\"+Ie.metaChar+"))+";Ie.value=Ie.string+"|"+Ie.number;Ie.id=Ie.variable;(function(){var t,e,r;for(t=Ie.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Ie.comparatorOp+="|@"+e;for(t=Ie.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Ie.comparatorOp+="|\\!"+e)})();var $e=function(){return{checks:[]}},fe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},ed=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return mT(t.selector,e.selector)}),vk=function(){for(var t={},e,r=0;r<ed.length;r++)e=ed[r],t[e.selector]=e.matches;return t}(),pk=function(e,r){return vk[e](r)},gk="("+ed.map(function(t){return t.selector}).join("|")+")",Bn=function(e){return e.replace(new RegExp("\\\\("+Ie.metaChar+")","g"),function(r,n){return n})},Gr=function(e,r,n){e[e.length-1]=n},td=[{name:"group",query:!0,regex:"("+Ie.group+")",populate:function(e,r,n){var a=Dr(n,1),i=a[0];r.checks.push({type:fe.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:gk,populate:function(e,r,n){var a=Dr(n,1),i=a[0];r.checks.push({type:fe.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+Ie.id+")",populate:function(e,r,n){var a=Dr(n,1),i=a[0];r.checks.push({type:fe.ID,value:Bn(i)})}},{name:"className",query:!0,regex:"\\.("+Ie.className+")",populate:function(e,r,n){var a=Dr(n,1),i=a[0];r.checks.push({type:fe.CLASS,value:Bn(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Ie.variable+")\\s*\\]",populate:function(e,r,n){var a=Dr(n,1),i=a[0];r.checks.push({type:fe.DATA_EXIST,field:Bn(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Ie.variable+")\\s*("+Ie.comparatorOp+")\\s*("+Ie.value+")\\s*\\]",populate:function(e,r,n){var a=Dr(n,3),i=a[0],s=a[1],o=a[2],u=new RegExp("^"+Ie.string+"$").exec(o)!=null;u?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:fe.DATA_COMPARE,field:Bn(i),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Ie.boolOp+")\\s*("+Ie.variable+")\\s*\\]",populate:function(e,r,n){var a=Dr(n,2),i=a[0],s=a[1];r.checks.push({type:fe.DATA_BOOL,field:Bn(s),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Ie.meta+")\\s*("+Ie.comparatorOp+")\\s*("+Ie.number+")\\s*\\]\\]",populate:function(e,r,n){var a=Dr(n,3),i=a[0],s=a[1],o=a[2];r.checks.push({type:fe.META_COMPARE,field:Bn(i),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Ie.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=a,s.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=$e();return o}},{name:"directedEdge",separator:!0,regex:Ie.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=$e(),a=r,i=$e();return n.checks.push({type:fe.DIRECTED_EDGE,source:a,target:i}),Gr(e,r,n),e.edgeCount++,i}else{var s=$e(),o=r,u=$e();return s.checks.push({type:fe.NODE_SOURCE,source:o,target:u}),Gr(e,r,s),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:Ie.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=$e(),a=r,i=$e();return n.checks.push({type:fe.UNDIRECTED_EDGE,nodes:[a,i]}),Gr(e,r,n),e.edgeCount++,i}else{var s=$e(),o=r,u=$e();return s.checks.push({type:fe.NODE_NEIGHBOR,node:o,neighbor:u}),Gr(e,r,s),u}}},{name:"child",separator:!0,regex:Ie.child,populate:function(e,r){if(e.currentSubject==null){var n=$e(),a=$e(),i=e[e.length-1];return n.checks.push({type:fe.CHILD,parent:i,child:a}),Gr(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=$e(),o=e[e.length-1],u=$e(),l=$e(),c=$e(),f=$e();return s.checks.push({type:fe.COMPOUND_SPLIT,left:o,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:fe.TRUE}],f.checks.push({type:fe.TRUE}),u.checks.push({type:fe.PARENT,parent:f,child:c}),Gr(e,o,s),e.currentSubject=l,e.compoundCount++,c}else{var d=$e(),h=$e(),v=[{type:fe.PARENT,parent:d,child:h}];return d.checks=r.checks,r.checks=v,e.compoundCount++,h}}},{name:"descendant",separator:!0,regex:Ie.descendant,populate:function(e,r){if(e.currentSubject==null){var n=$e(),a=$e(),i=e[e.length-1];return n.checks.push({type:fe.DESCENDANT,ancestor:i,descendant:a}),Gr(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=$e(),o=e[e.length-1],u=$e(),l=$e(),c=$e(),f=$e();return s.checks.push({type:fe.COMPOUND_SPLIT,left:o,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:fe.TRUE}],f.checks.push({type:fe.TRUE}),u.checks.push({type:fe.ANCESTOR,ancestor:f,descendant:c}),Gr(e,o,s),e.currentSubject=l,e.compoundCount++,c}else{var d=$e(),h=$e(),v=[{type:fe.ANCESTOR,ancestor:d,descendant:h}];return d.checks=r.checks,r.checks=v,e.compoundCount++,h}}},{name:"subject",modifier:!0,regex:Ie.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return Ye("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===fe.DIRECTED_EDGE?a.type=fe.NODE_TARGET:i===fe.UNDIRECTED_EDGE&&(a.type=fe.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];td.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var mk=function(e){for(var r,n,a,i=0;i<td.length;i++){var s=td[i],o=s.name,u=e.match(s.regexObj);if(u!=null){n=u,r=s,a=o;var l=u[0];e=e.substring(l.length);break}}return{expr:r,match:n,name:a,remaining:e}},yk=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},bk=function(e){var r=this,n=r.inputText=e,a=r[0]=$e();for(r.length=1,n=yk(n);;){var i=mk(n);if(i.expr==null)return Ye("The selector `"+e+"`is invalid"),!1;var s=i.match.slice(1),o=i.expr.populate(r,a,s);if(o===!1)return!1;if(o!=null&&(a=o),n=i.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var c=r[l];if(c.compoundCount>0&&c.edgeCount>0)return Ye("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return Ye("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&Ye("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},_k=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return pe(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},a=function(c,f){var d=c.type,h=c.value;switch(d){case fe.GROUP:{var v=e(h);return v.substring(0,v.length-1)}case fe.DATA_COMPARE:{var g=c.field,m=c.operator;return"["+g+n(e(m))+r(h)+"]"}case fe.DATA_BOOL:{var p=c.operator,y=c.field;return"["+e(p)+y+"]"}case fe.DATA_EXIST:{var b=c.field;return"["+b+"]"}case fe.META_COMPARE:{var _=c.operator,x=c.field;return"[["+x+n(e(_))+r(h)+"]]"}case fe.STATE:return h;case fe.ID:return"#"+h;case fe.CLASS:return"."+h;case fe.PARENT:case fe.CHILD:return i(c.parent,f)+n(">")+i(c.child,f);case fe.ANCESTOR:case fe.DESCENDANT:return i(c.ancestor,f)+" "+i(c.descendant,f);case fe.COMPOUND_SPLIT:{var S=i(c.left,f),w=i(c.subject,f),T=i(c.right,f);return S+(S.length>0?" ":"")+w+T}case fe.TRUE:return""}},i=function(c,f){return c.checks.reduce(function(d,h,v){return d+(f===c&&v===0?"$":"")+a(h,f)},"")},s="",o=0;o<this.length;o++){var u=this[o];s+=i(u,u.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},wk={parse:bk,toString:_k},v1=function(e,r,n){var a,i=pe(e),s=se(e),o=pe(n),u,l,c=!1,f=!1,d=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),f=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(i||o||c)&&(u=!i&&!s?"":""+e,l=""+n),c&&(e=u=u.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":a=u.indexOf(l)>=0;break;case"$=":a=u.indexOf(l,u.length-l.length)>=0;break;case"^=":a=u.indexOf(l)===0;break;case"=":a=e===n;break;case">":d=!0,a=e>n;break;case">=":d=!0,a=e>=n;break;case"<":d=!0,a=e<n;break;case"<=":d=!0,a=e<=n;break;default:a=!1;break}return f&&(e!=null||!d)&&(a=!a),a},Sk=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},xk=function(e){return e!==void 0},Ad=function(e,r){return e.data(r)},Ek=function(e,r){return e[r]()},at=[],Ke=function(e,r){return e.checks.every(function(n){return at[n.type](n,r)})};at[fe.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};at[fe.STATE]=function(t,e){var r=t.value;return pk(r,e)};at[fe.ID]=function(t,e){var r=t.value;return e.id()===r};at[fe.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};at[fe.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return v1(Ek(e,r),n,a)};at[fe.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return v1(Ad(e,r),n,a)};at[fe.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return Sk(Ad(e,r),n)};at[fe.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,xk(Ad(e,r))};at[fe.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return Ke(r,a)&&Ke(n,i)||Ke(n,a)&&Ke(r,i)};at[fe.NODE_NEIGHBOR]=function(t,e){return Ke(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Ke(t.neighbor,r)})};at[fe.DIRECTED_EDGE]=function(t,e){return Ke(t.source,e.source())&&Ke(t.target,e.target())};at[fe.NODE_SOURCE]=function(t,e){return Ke(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Ke(t.target,r)})};at[fe.NODE_TARGET]=function(t,e){return Ke(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Ke(t.source,r)})};at[fe.CHILD]=function(t,e){return Ke(t.child,e)&&Ke(t.parent,e.parent())};at[fe.PARENT]=function(t,e){return Ke(t.parent,e)&&e.children().some(function(r){return Ke(t.child,r)})};at[fe.DESCENDANT]=function(t,e){return Ke(t.descendant,e)&&e.ancestors().some(function(r){return Ke(t.ancestor,r)})};at[fe.ANCESTOR]=function(t,e){return Ke(t.ancestor,e)&&e.descendants().some(function(r){return Ke(t.descendant,r)})};at[fe.COMPOUND_SPLIT]=function(t,e){return Ke(t.subject,e)&&Ke(t.left,e)&&Ke(t.right,e)};at[fe.TRUE]=function(){return!0};at[fe.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};at[fe.FILTER]=function(t,e){var r=t.value;return r(e)};var Tk=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===fe.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var s=0;s<r.length;s++){var o=r[s];if(Ke(o,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},Ck=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(Ke(a,e))return!0}return!1},kk={matches:Ck,filter:Tk},an=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||pe(e)&&e.match(/^\s*$/)||(Yt(e)?this.addQuery({checks:[{type:fe.COLLECTION,value:e.collection()}]}):tt(e)?this.addQuery({checks:[{type:fe.FILTER,value:e}]}):pe(e)?this.parse(e)||(this.invalid=!0):nt("A selector must be created from a string; found "))},sn=an.prototype;[wk,kk].forEach(function(t){return be(sn,t)});sn.text=function(){return this.inputText};sn.size=function(){return this.length};sn.eq=function(t){return this[t]};sn.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};sn.addQuery=function(t){this[this.length++]=t};sn.selector=sn.toString;var Jr={allAre:function(e){var r=new an(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new an(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};Jr.allAreNeighbours=Jr.allAreNeighbors;Jr.has=Jr.contains;Jr.equal=Jr.equals=Jr.same;var Xt=function(e,r){return function(a,i,s,o){var u=a,l=this,c;if(u==null?c="":Yt(u)&&u.length===1&&(c=u.id()),l.length===1&&c){var f=l[0]._private,d=f.traversalCache=f.traversalCache||{},h=d[r]=d[r]||[],v=_n(c),g=h[v];return g||(h[v]=e.call(l,a,i,s,o))}else return e.call(l,a,i,s,o)}},ia={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],s=i._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Xt(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var s=a[i];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function Id(t,e,r,n){for(var a=[],i=new va,s=t.cy(),o=s.hasCompoundNodes(),u=0;u<t.length;u++){var l=t[u];r?a.push(l):o&&n(a,i,l)}for(;a.length>0;){var c=a.shift();e(c),i.add(c.id()),o&&n(a,i,c)}return t}function p1(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}ia.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Id(this,t,e,p1)};function g1(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}ia.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Id(this,t,e,g1)};function Dk(t,e,r){g1(t,e,r),p1(t,e,r)}ia.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Id(this,t,e,Dk)};ia.ancestors=ia.parents;var Qa,m1;Qa=m1={data:He.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:He.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:He.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:He.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:He.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:He.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Qa.attr=Qa.data;Qa.removeAttr=Qa.removeData;var Mk=m1,Ls={};function Do(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,s=0;s<i.length;s++){var o=i[s];!e&&o.isLoop()||(n+=t(a,o))}return n}else return}}be(Ls,{degree:Do(function(t,e){return e.source().same(e.target())?2:1}),indegree:Do(function(t,e){return e.target().same(t)?1:0}),outdegree:Do(function(t,e){return e.source().same(t)?1:0})});function Nn(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var s=a[i],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}be(Ls,{minDegree:Nn("degree",function(t,e){return t<e}),maxDegree:Nn("degree",function(t,e){return t>e}),minIndegree:Nn("indegree",function(t,e){return t<e}),maxIndegree:Nn("indegree",function(t,e){return t>e}),minOutdegree:Nn("outdegree",function(t,e){return t<e}),maxOutdegree:Nn("outdegree",function(t,e){return t>e})});be(Ls,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var lr,y1,b1=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var s=i._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};i.isParent()&&!(o.x===0&&o.y===0)&&i.children().shift(o,n),i.dirtyBoundingBoxCache()}}},bv={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){b1(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};lr=y1={position:He.data(bv),silentPosition:He.data(be({},bv,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){b1(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(Be(e))r?this.silentPosition(e):this.position(e);else if(tt(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var s=this[i],o=void 0;(o=n(s,i))&&(r?s.silentPosition(o):s.position(o))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(Be(e)?(a={x:se(e.x)?e.x:0,y:se(e.y)?e.y:0},n=r):pe(e)&&se(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(i.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var u=o.position(),l={x:u.x+a.x,y:u.y+a.y};n?o.silentPosition(l):o.position(l)}}i.endBatch()}return this},silentShift:function(e,r){return Be(e)?this.shift(e,!0):pe(e)&&se(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),s=a.pan(),o=Be(e)?e:void 0,u=o!==void 0||r!==void 0&&pe(e);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var c=this[l];r!==void 0?c.position(e,(r-s[e])/i):o!==void 0&&c.position(Xy(o,i,s))}else{var f=n.position();return o=Ps(f,i,s),e===void 0?o:o[e]}else if(!u)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=Be(e)?e:void 0,s=i!==void 0||r!==void 0&&pe(e),o=a.hasCompoundNodes();if(n&&n.isNode())if(s)for(var u=0;u<this.length;u++){var l=this[u],c=o?l.parent():null,f=c&&c.length>0,d=f;f&&(c=c[0]);var h=d?c.position():{x:0,y:0};r!==void 0?l.position(e,r+h[e]):i!==void 0&&l.position({x:i.x+h.x,y:i.y+h.y})}else{var v=n.position(),g=o?n.parent():null,m=g&&g.length>0,p=m;m&&(g=g[0]);var y=p?g.position():{x:0,y:0};return i={x:v.x-y.x,y:v.y-y.y},e===void 0?i:i[e]}else if(!s)return;return this}};lr.modelPosition=lr.point=lr.position;lr.modelPositions=lr.points=lr.positions;lr.renderedPoint=lr.renderedPosition;lr.relativePoint=lr.relativePosition;var Rk=y1,Kn,un;Kn=un={};un.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,s=e.x2*n+a.x,o=e.y1*n+a.y,u=e.y2*n+a.y;return{x1:i,x2:s,y1:o,y2:u,w:s-i,h:u-o}};un.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};un.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,u=s.children(),l=s.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},f=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),d=o.position;(f.w===0||f.h===0)&&(f={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},f.x1=d.x-f.w/2,f.x2=d.x+f.w/2,f.y1=d.y-f.h/2,f.y2=d.y+f.h/2);function h(E,k,D){var C=0,P=0,M=k+D;return E>0&&M>0&&(C=k/M*E,P=D/M*E),{biasDiff:C,biasComplementDiff:P}}function v(E,k,D,C){if(D.units==="%")switch(C){case"width":return E>0?D.pfValue*E:0;case"height":return k>0?D.pfValue*k:0;case"average":return E>0&&k>0?D.pfValue*(E+k)/2:0;case"min":return E>0&&k>0?E>k?D.pfValue*k:D.pfValue*E:0;case"max":return E>0&&k>0?E>k?D.pfValue*E:D.pfValue*k:0;default:return 0}else return D.units==="px"?D.pfValue:0}var g=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(g=g*100/c.width.val);var m=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(m=m*100/c.width.val);var p=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(p=p*100/c.height.val);var y=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(y=y*100/c.height.val);var b=h(c.width.val-f.w,g,m),_=b.biasDiff,x=b.biasComplementDiff,S=h(c.height.val-f.h,p,y),w=S.biasDiff,T=S.biasComplementDiff;o.autoPadding=v(f.w,f.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(f.w,c.width.val),d.x=(-_+f.x1+f.x2+x)/2,o.autoHeight=Math.max(f.h,c.height.val),d.y=(-w+f.y1+f.y2+T)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var Zt=function(e){return e===1/0||e===-1/0?0:e},sr=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},pn=function(e,r){return r==null?e:sr(e,r.x1,r.y1,r.x2,r.y2)},Ma=function(e,r,n){return or(e,r,n)},Bi=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,s=i.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,u,l;if(o!=="none"){n==="source"?(u=i.srcX,l=i.srcY):n==="target"?(u=i.tgtX,l=i.tgtY):(u=i.midX,l=i.midY);var c=a.arrowBounds=a.arrowBounds||{},f=c[n]=c[n]||{};f.x1=u-s,f.y1=l-s,f.x2=u+s,f.y2=l+s,f.w=f.x2-f.x1,f.h=f.y2-f.y1,Wi(f,1),sr(e,f.x1,f.y1,f.x2,f.y2)}}},Mo=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,s=i.rstyle,o=r.pstyle(a+"label").strValue;if(o){var u=r.pstyle("text-halign"),l=r.pstyle("text-valign"),c=Ma(s,"labelWidth",n),f=Ma(s,"labelHeight",n),d=Ma(s,"labelX",n),h=Ma(s,"labelY",n),v=r.pstyle(a+"text-margin-x").pfValue,g=r.pstyle(a+"text-margin-y").pfValue,m=r.isEdge(),p=r.pstyle(a+"text-rotation"),y=r.pstyle("text-outline-width").pfValue,b=r.pstyle("text-border-width").pfValue,_=b/2,x=r.pstyle("text-background-padding").pfValue,S=2,w=f,T=c,E=T/2,k=w/2,D,C,P,M;if(m)D=d-E,C=d+E,P=h-k,M=h+k;else{switch(u.value){case"left":D=d-T,C=d;break;case"center":D=d-E,C=d+E;break;case"right":D=d,C=d+T;break}switch(l.value){case"top":P=h-w,M=h;break;case"center":P=h-k,M=h+k;break;case"bottom":P=h,M=h+w;break}}D+=v-Math.max(y,_)-x-S,C+=v+Math.max(y,_)+x+S,P+=g-Math.max(y,_)-x-S,M+=g+Math.max(y,_)+x+S;var N=n||"main",O=i.labelBounds,B=O[N]=O[N]||{};B.x1=D,B.y1=P,B.x2=C,B.y2=M,B.w=C-D,B.h=M-P;var F=m&&p.strValue==="autorotate",V=p.pfValue!=null&&p.pfValue!==0;if(F||V){var Y=F?Ma(i.rstyle,"labelAngle",n):p.pfValue,z=Math.cos(Y),$=Math.sin(Y),G=(D+C)/2,A=(P+M)/2;if(!m){switch(u.value){case"left":G=C;break;case"right":G=D;break}switch(l.value){case"top":A=M;break;case"bottom":A=P;break}}var I=function(he,ne){return he=he-G,ne=ne-A,{x:he*z-ne*$+G,y:he*$+ne*z+A}},q=I(D,P),L=I(D,M),H=I(C,P),U=I(C,M);D=Math.min(q.x,L.x,H.x,U.x),C=Math.max(q.x,L.x,H.x,U.x),P=Math.min(q.y,L.y,H.y,U.y),M=Math.max(q.y,L.y,H.y,U.y)}var X=N+"Rot",re=O[X]=O[X]||{};re.x1=D,re.y1=P,re.x2=C,re.y2=M,re.w=C-D,re.h=M-P,sr(e,D,P,C,M),sr(i.labelBounds.all,D,P,C,M)}return e}},Pk=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),s=zt(),o=e._private,u=e.isNode(),l=e.isEdge(),c,f,d,h,v,g,m=o.rstyle,p=u&&a?e.pstyle("bounds-expansion").pfValue:[0],y=function(ue){return ue.pstyle("display").value!=="none"},b=!a||y(e)&&(!l||y(e.source())&&y(e.target()));if(b){var _=0,x=0;a&&r.includeOverlays&&(_=e.pstyle("overlay-opacity").value,_!==0&&(x=e.pstyle("overlay-padding").value));var S=0,w=0;a&&r.includeUnderlays&&(S=e.pstyle("underlay-opacity").value,S!==0&&(w=e.pstyle("underlay-padding").value));var T=Math.max(x,w),E=0,k=0;if(a&&(E=e.pstyle("width").pfValue,k=E/2),u&&r.includeNodes){var D=e.position();v=D.x,g=D.y;var C=e.outerWidth(),P=C/2,M=e.outerHeight(),N=M/2;c=v-P,f=v+P,d=g-N,h=g+N,sr(s,c,d,f,h)}else if(l&&r.includeEdges)if(a&&!i){var O=e.pstyle("curve-style").strValue;if(c=Math.min(m.srcX,m.midX,m.tgtX),f=Math.max(m.srcX,m.midX,m.tgtX),d=Math.min(m.srcY,m.midY,m.tgtY),h=Math.max(m.srcY,m.midY,m.tgtY),c-=k,f+=k,d-=k,h+=k,sr(s,c,d,f,h),O==="haystack"){var B=m.haystackPts;if(B&&B.length===2){if(c=B[0].x,d=B[0].y,f=B[1].x,h=B[1].y,c>f){var F=c;c=f,f=F}if(d>h){var V=d;d=h,h=V}sr(s,c-k,d-k,f+k,h+k)}}else if(O==="bezier"||O==="unbundled-bezier"||O==="segments"||O==="taxi"){var Y;switch(O){case"bezier":case"unbundled-bezier":Y=m.bezierPts;break;case"segments":case"taxi":Y=m.linePts;break}if(Y!=null)for(var z=0;z<Y.length;z++){var $=Y[z];c=$.x-k,f=$.x+k,d=$.y-k,h=$.y+k,sr(s,c,d,f,h)}}}else{var G=e.source(),A=G.position(),I=e.target(),q=I.position();if(c=A.x,f=q.x,d=A.y,h=q.y,c>f){var L=c;c=f,f=L}if(d>h){var H=d;d=h,h=H}c-=k,f+=k,d-=k,h+=k,sr(s,c,d,f,h)}if(a&&r.includeEdges&&l&&(Bi(s,e,"mid-source"),Bi(s,e,"mid-target"),Bi(s,e,"source"),Bi(s,e,"target")),a){var U=e.pstyle("ghost").value==="yes";if(U){var X=e.pstyle("ghost-offset-x").pfValue,re=e.pstyle("ghost-offset-y").pfValue;sr(s,s.x1+X,s.y1+re,s.x2+X,s.y2+re)}}var ye=o.bodyBounds=o.bodyBounds||{};nv(ye,s),To(ye,p),Wi(ye,1),a&&(c=s.x1,f=s.x2,d=s.y1,h=s.y2,sr(s,c-T,d-T,f+T,h+T));var he=o.overlayBounds=o.overlayBounds||{};nv(he,s),To(he,p),Wi(he,1);var ne=o.labelBounds=o.labelBounds||{};ne.all!=null?aC(ne.all):ne.all=zt(),a&&r.includeLabels&&(r.includeMainLabels&&Mo(s,e,null),l&&(r.includeSourceLabels&&Mo(s,e,"source"),r.includeTargetLabels&&Mo(s,e,"target")))}return s.x1=Zt(s.x1),s.y1=Zt(s.y1),s.x2=Zt(s.x2),s.y2=Zt(s.y2),s.w=Zt(s.x2-s.x1),s.h=Zt(s.y2-s.y1),s.w>0&&s.h>0&&b&&(To(s,p),Wi(s,1)),s},_1=function(e){var r=0,n=function(s){return(s?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a},w1=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),a=function(s){return Math.round(s)};return CT([a(r.x),a(r.y),a(n.x),a(n.y)])}else return 0},_v=function(e,r){var n=e._private,a,i=e.isEdge(),s=r==null?wv:_1(r),o=s===wv,u=w1(e),l=n.bbCachePosKey===u,c=r.useCache&&l,f=function(g){return g._private.bbCache==null||g._private.styleDirty},d=!c||f(e)||i&&f(e.source())||f(e.target());if(d?(l||e.recalculateRenderedStyle(c),a=Pk(e,Ja),n.bbCache=a,n.bbCachePosKey=u):a=n.bbCache,!o){var h=e.isNode();a=zt(),(r.includeNodes&&h||r.includeEdges&&!h)&&(r.includeOverlays?pn(a,n.overlayBounds):pn(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?pn(a,n.labelBounds.all):(r.includeMainLabels&&pn(a,n.labelBounds.mainRot),r.includeSourceLabels&&pn(a,n.labelBounds.sourceRot),r.includeTargetLabels&&pn(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Ja={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},wv=_1(Ja),Sv=wt(Ja);un.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=Ja:t=Sv(t),e=_v(this[0],t);else{e=zt(),t=t||Ja;var r=Sv(t),n=this,a=n.cy(),i=a.styleEnabled();if(i)for(var s=0;s<n.length;s++){var o=n[s],u=o._private,l=w1(o),c=u.bbCachePosKey===l,f=r.useCache&&c&&!u.styleDirty;o.recalculateRenderedStyle(f)}this.updateCompoundBounds(!t.useCache);for(var d=0;d<n.length;d++){var h=n[d];pn(e,_v(h,r))}}return e.x1=Zt(e.x1),e.y1=Zt(e.y1),e.x2=Zt(e.x2),e.y2=Zt(e.y2),e.w=Zt(e.x2-e.x1),e.h=Zt(e.y2-e.y1),e};un.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};un.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(l){return l.isParent()}),e=e.not(a)),Be(t)){var i=t;t=function(){return i}}var s=function(c,f){return c._private.bbAtOldPos=t(c,f)},o=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=nC(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};Kn.boundingbox=Kn.bb=Kn.boundingBox;Kn.renderedBoundingbox=Kn.renderedBoundingBox;var Ok=un,Na,hi;Na=hi={};var S1=function(e){e.uppercaseName=Jh(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Jh(e.outerName),Na[e.name]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},Na["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){var o=n[e.name](),u=n.pstyle("border-width").pfValue,l=2*n.padding();return o+u+l}else return 1},Na["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},Na["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};S1({name:"width"});S1({name:"height"});hi.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};hi.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};hi.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var Lk=hi,Ak=function(e,r){if(e.isEdge())return r(e)},Ik=function(e,r){if(e.isEdge()){var n=e.cy();return Ps(r(e),n.zoom(),n.pan())}},Bk=function(e,r){if(e.isEdge()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(s){return Ps(s,i,a)})}},Nk=function(e){return e.renderer().getControlPoints(e)},qk=function(e){return e.renderer().getSegmentPoints(e)},Fk=function(e){return e.renderer().getSourceEndpoint(e)},zk=function(e){return e.renderer().getTargetEndpoint(e)},Vk=function(e){return e.renderer().getEdgeMidpoint(e)},xv={controlPoints:{get:Nk,mult:!0},segmentPoints:{get:qk,mult:!0},sourceEndpoint:{get:Fk},targetEndpoint:{get:zk},midpoint:{get:Vk}},Hk=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},Yk=Object.keys(xv).reduce(function(t,e){var r=xv[e],n=Hk(e);return t[e]=function(){return Ak(this,r.get)},r.mult?t[n]=function(){return Bk(this,r.get)}:t[n]=function(){return Ik(this,r.get)},t},{}),$k=be({},Rk,Ok,Lk,Yk);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var x1=function(e,r){this.recycle(e,r)};function Ra(){return!1}function Ni(){return!0}x1.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ra,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Ni:Ra):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ni;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ni;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ni,this.stopPropagation()},isDefaultPrevented:Ra,isPropagationStopped:Ra,isImmediatePropagationStopped:Ra};var E1=/^([^.]+)(\.(?:[^.]+))?$/,Wk=".*",T1={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Ev=Object.keys(T1),Uk={};function As(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Uk,e=arguments.length>1?arguments[1]:void 0,r=0;r<Ev.length;r++){var n=Ev[r];this[n]=t[n]||T1[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var on=As.prototype,C1=function(e,r,n,a,i,s,o){tt(a)&&(i=a,a=null),o&&(s==null?s=o:s=be({},s,o));for(var u=Ge(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var c=u[l];if(!rn(c)){var f=c.match(E1);if(f){var d=f[1],h=f[2]?f[2]:null,v=r(e,c,d,h,a,i,s);if(v===!1)break}}}},Tv=function(e,r){return e.addEventFields(e.context,r),new x1(r.type,r)},Gk=function(e,r,n){if(sT(n)){r(e,n);return}else if(Be(n)){r(e,Tv(e,n));return}for(var a=Ge(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var s=a[i];if(!rn(s)){var o=s.match(E1);if(o){var u=o[1],l=o[2]?o[2]:null,c=Tv(e,{type:u,namespace:l,target:e.context});r(e,c)}}}};on.on=on.addListener=function(t,e,r,n,a){return C1(this,function(i,s,o,u,l,c,f){tt(c)&&i.listeners.push({event:s,callback:c,type:o,namespace:u,qualifier:l,conf:f})},t,e,r,n,a),this};on.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};on.removeListener=on.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=PT(this.listeners));for(var i=this.listeners,s=function(l){var c=i[l];C1(a,function(f,d,h,v,g,m){if((c.type===h||t==="*")&&(!v&&c.namespace!==".*"||c.namespace===v)&&(!g||f.qualifierCompare(c.qualifier,g))&&(!m||c.callback===m))return i.splice(l,1),!1},t,e,r,n)},o=i.length-1;o>=0;o--)s(o);return this};on.removeAllListeners=function(){return this.removeListener("*")};on.emit=on.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,Ge(e)||(e=[e]),Gk(this,function(i,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],a=n.length);for(var o=function(c){var f=n[c];if(f.type===s.type&&(!f.namespace||f.namespace===s.namespace||f.namespace===Wk)&&i.eventMatches(i.context,f,s)){var d=[s];e!=null&&LT(d,e),i.beforeEmit(i.context,f,s),f.conf&&f.conf.one&&(i.listeners=i.listeners.filter(function(g){return g!==f}));var h=i.callbackContext(i.context,f,s),v=f.callback.apply(h,d);i.afterEmit(i.context,f,s),v===!1&&(s.stopPropagation(),s.preventDefault())}},u=0;u<a;u++)o(u);i.bubble(i.context)&&!s.isPropagationStopped()&&i.parent(i.context).emit(s,e)},t),this.emitting--,this};var jk={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&fi(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},qi=function(e){return pe(e)?new an(e):e},k1={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new As(jk,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=qi(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=qi(r),i=0;i<this.length;i++){var s=this[i];s.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=qi(r),i=0;i<this.length;i++){var s=this[i];s.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=qi(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};He.eventAliasesOn(k1);var D1={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(pe(e)||Yt(e))return new an(e).filter(this);if(tt(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){pe(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(pe(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,s=this.length<e.length,o=s?a:i,u=s?i:a,l=0;l<o.length;l++){var c=o[l];u.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;pe(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,s=function(u,l){for(var c=0;c<u.length;c++){var f=u[c],d=f._private.data.id,h=l.hasElementWithId(d);h||n.push(f)}};return s(a,i),s(i,a),n},diff:function(e){var r=this._private.cy;pe(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),s=this,o=e,u=function(c,f,d){for(var h=0;h<c.length;h++){var v=c[h],g=v._private.data.id,m=f.hasElementWithId(g);m?i.merge(v):d.push(v)}};return u(s,o,n),u(o,s,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(pe(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var s=e[i],o=!this.has(s);o&&a.push(s)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&pe(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,s=0;s<e.length;s++){var o=e[s],u=o._private.data.id,l=!i.has(u);if(l){var c=this.length++;this[c]=o,i.set(u,{ele:o,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,u=this[o],l=u._private.data.id;this[o]=void 0,this[e]=u,i.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var s=i.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&pe(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);n.push(o)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],u=r?e.apply(r,[o,s,i]):e(o,s,i);u>n&&(n=u,a=o)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],u=r?e.apply(r,[o,s,i]):e(o,s,i);u<n&&(n=u,a=o)}return{value:n,ele:a}}},qe=D1;qe.u=qe["|"]=qe["+"]=qe.union=qe.or=qe.add;qe["\\"]=qe["!"]=qe["-"]=qe.difference=qe.relativeComplement=qe.subtract=qe.not;qe.n=qe["&"]=qe["."]=qe.and=qe.intersection=qe.intersect;qe["^"]=qe["(+)"]=qe["(-)"]=qe.symmetricDifference=qe.symdiff=qe.xor;qe.fnFilter=qe.filterFn=qe.stdFilter=qe.filter;qe.complement=qe.abscomp=qe.absoluteComplement;var Zk={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},M1=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?a?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?kd:0}var s=i(e)-i(r);if(s!==0)return s;function o(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var u=o(e)-o(r);if(u!==0)return u;var l=e.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:e.poolIndex()-r.poolIndex()},ss={forEach:function(e,r){if(tt(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],s=r?e.apply(r,[i,a,this]):e(i,a,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!tt(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(M1)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:kd-1}else{var i=r.source,s=r.target,o=i.zDepth(),u=s.zDepth();return Math.max(o,u,0)}}}};ss.each=ss.forEach;var Kk=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":ht(Symbol))!=e&&ht(Symbol.iterator)!=e;r&&(ss[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,s=this.length;return Iy({next:function(){return i<s?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};Kk();var Xk=wt({nodeDimensionsIncludeLabels:!1}),Gi={layoutDimensions:function(e){e=Xk(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(x){return!x.isParent()}),i=this.cy(),s=r.eles,o=function(S){return S.id()},u=Ua(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(S,w,T){var E={x:w.x1+w.w/2,y:w.y1+w.h/2},k={x:(T.x-E.x)*S,y:(T.y-E.y)*S};return{x:E.x+k.x,y:E.y+k.y}},c=r.spacingFactor&&r.spacingFactor!==1,f=function(){if(!c)return null;for(var S=zt(),w=0;w<a.length;w++){var T=a[w],E=u(T,w);sC(S,E.x,E.y)}return S},d=f(),h=Ua(function(x,S){var w=u(x,S);if(c){var T=Math.abs(r.spacingFactor);w=l(T,d,w)}return r.transform!=null&&(w=r.transform(x,w)),w},o);if(r.animate){for(var v=0;v<a.length;v++){var g=a[v],m=h(g,v),p=r.animateFilter==null||r.animateFilter(g,v);if(p){var y=g.animation({position:m,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(y)}else g.position(m)}if(r.fit){var b=i.animation({fit:{boundingBox:s.boundingBoxAt(h),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(b)}else if(r.zoom!==void 0&&r.pan!==void 0){var _=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(_)}e.animations.forEach(function(x){return x.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),pa.all(e.animations.map(function(x){return x.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(h),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(be({},e,{eles:this}))}};Gi.createLayout=Gi.makeLayout=Gi.layout;function R1(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function Is(t,e){return t=_n(t),function(n){return R1(t,e,n)}}function Bs(t,e){t=_n(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return R1(t,r,a)}}var bt={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=i;return e?s.emitAndNotify("style"):s.emit("style"),i.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(Be(e)){var s=e;i.applyBypass(this,s,a),this.emitAndNotify("style")}else if(pe(e))if(r===void 0){var o=this[0];return o?i.getStylePropertyValue(o,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var s=0;s<i.length;s++){var o=i[s];a.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var u=0;u<i.length;u++){var l=i[u];a.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var s=a.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var u=s[o],l=u.pstyle("opacity").value;i=l*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function Ro(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function Bd(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],s=a.hasCompoundNodes();if(i){var o=i._private;if(!e(i))return!1;if(i.isNode())return!s||Ro(i,n);var u=o.source,l=o.target;return r(u)&&(!s||Ro(u,r))&&(u===l||r(l)&&(!s||Ro(l,r)))}}}var ga=Is("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});bt.takesUpSpace=Bs("takesUpSpace",Bd({ok:ga}));var Qk=Is("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&ga(t)}),Jk=Is("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&ga(t)});bt.interactive=Bs("interactive",Bd({ok:Qk,parentOk:Jk,edgeOkViaNode:ga}));bt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var e4=Is("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&ga(t)}),t4=ga;bt.visible=Bs("visible",Bd({ok:e4,edgeOkViaNode:t4}));bt.hidden=function(){var t=this[0];if(t)return!t.visible()};bt.isBundledBezier=Bs("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});bt.bypass=bt.css=bt.style;bt.renderedCss=bt.renderedStyle;bt.removeBypass=bt.removeCss=bt.removeStyle;bt.pstyle=bt.parsedStyle;var en={};function Cv(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&tt(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&Ge(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var u=this[o],l=!t.ableField||u._private[t.ableField],c=u._private[t.field]!=t.value;if(t.overrideAble){var f=t.overrideAble(u);if(f!==void 0&&(l=f,!f))return this}l&&(u._private[t.field]=t.value,c&&r.push(u))}var d=this.spawn(r);d.updateStyle(),d.emit(t.event),s&&d.emit(s)}return this}}function ma(t){en[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},en[t.on]=Cv({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),en[t.off]=Cv({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}ma({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});ma({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});ma({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});ma({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});en.deselect=en.unselect;en.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};ma({field:"active",on:"activate",off:"unactivate"});ma({field:"pannable",on:"panify",off:"unpanify"});en.inactive=function(){var t=this[0];if(t)return!t._private.active};var Ct={},kv=function(e){return function(n){for(var a=this,i=[],s=0;s<a.length;s++){var o=a[s];if(o.isNode()){for(var u=!1,l=o.connectedEdges(),c=0;c<l.length;c++){var f=l[c],d=f.source(),h=f.target();if(e.noIncomingEdges&&h===o&&d!==o||e.noOutgoingEdges&&d===o&&h!==o){u=!0;break}}u||i.push(o)}}return this.spawn(i,!0).filter(n)}},Dv=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var s=n[i];if(s.isNode())for(var o=s.connectedEdges(),u=0;u<o.length;u++){var l=o[u],c=l.source(),f=l.target();e.outgoing&&c===s?(a.push(l),a.push(f)):e.incoming&&f===s&&(a.push(l),a.push(c))}}return this.spawn(a,!0).filter(r)}},Mv=function(e){return function(r){for(var n=this,a=[],i={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,u=0;u<s.length;u++){var l=s[u],c=l.id();i[c]||(i[c]=!0,a.push(l),o=!0)}if(!o)break;n=s}return this.spawn(a,!0).filter(r)}};Ct.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};be(Ct,{roots:kv({noIncomingEdges:!0}),leaves:kv({noOutgoingEdges:!0}),outgoers:Xt(Dv({outgoing:!0}),"outgoers"),successors:Mv({outgoing:!0}),incomers:Xt(Dv({incoming:!0}),"incomers"),predecessors:Mv({incoming:!0})});be(Ct,{neighborhood:Xt(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),s=0;s<i.length;s++){var o=i[s],u=o.source(),l=o.target(),c=a===u?l:u;c.length>0&&e.push(c[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Ct.neighbourhood=Ct.neighborhood;Ct.closedNeighbourhood=Ct.closedNeighborhood;Ct.openNeighbourhood=Ct.openNeighborhood;be(Ct,{source:Xt(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Xt(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Rv({attr:"source"}),targets:Rv({attr:"target"})});function Rv(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],s=i._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}be(Ct,{edgesWith:Xt(Pv(),"edgesWith"),edgesTo:Xt(Pv({thisIsSrc:!0}),"edgesTo")});function Pv(t){return function(r){var n=[],a=this._private.cy,i=t||{};pe(r)&&(r=a.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,u=0;u<o.length;u++){var l=o[u],c=l._private.data,f=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),d=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),h=f||d;h&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!f||i.thisIsTgt&&!d)||n.push(l))}return this.spawn(n,!0)}}be(Ct,{connectedEdges:Xt(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,s=0;s<i.length;s++){var o=i[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Xt(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Xt(Ov(),"parallelEdges"),codirectedEdges:Xt(Ov({codirected:!0}),"codirectedEdges")});function Ov(t){var e={codirected:!1};return t=be({},e,t),function(n){for(var a=[],i=this.edges(),s=t,o=0;o<i.length;o++)for(var u=i[o],l=u._private,c=l.source,f=c._private.data.id,d=l.data.target,h=c._private.edges,v=0;v<h.length;v++){var g=h[v],m=g._private.data,p=m.target,y=m.source,b=p===d&&y===f,_=f===p&&d===y;(s.codirected&&b||!s.codirected&&(b||_))&&a.push(g)}return this.spawn(a,!0).filter(n)}}be(Ct,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),s=[];e!=null&&i.empty()&&(i=e.sources());var o=function(c,f){a.merge(c),i.unmerge(c),f.merge(c)};if(i.empty())return r.spawn();var u=function(){var c=n.collection();s.push(c);var f=i[0];o(f,c),r.bfs({directed:!1,roots:f,visit:function(h){return o(h,c)}}),c.forEach(function(d){d.connectedEdges().forEach(function(h){r.has(h)&&c.has(h.source())&&c.has(h.target())&&c.merge(h)})})};do u();while(i.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Ct.componentsOf=Ct.components;var _t=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){nt("A collection must have a reference to the core");return}var i=new yr,s=!1;if(!r)r=[];else if(r.length>0&&Be(r[0])&&!fi(r[0])){s=!0;for(var o=[],u=new va,l=0,c=r.length;l<c;l++){var f=r[l];f.data==null&&(f.data={});var d=f.data;if(d.id==null)d.id=Zy();else if(e.hasElementWithId(d.id)||u.has(d.id))continue;var h=new Rs(e,f,!1);o.push(h),u.add(d.id)}r=o}this.length=0;for(var v=0,g=r.length;v<g;v++){var m=r[v][0];if(m!=null){var p=m._private.data.id;(!n||!i.has(p))&&(n&&i.set(p,{index:this.length,ele:m}),this[this.length]=m,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(y){this.lazyMap=y},rebuildMap:function(){for(var b=this.lazyMap=new yr,_=this.eles,x=0;x<_.length;x++){var S=_[x];b.set(S.id(),{index:x,ele:S})}}},n&&(this._private.map=i),s&&!a&&this.restore()},Ze=Rs.prototype=_t.prototype=Object.create(Array.prototype);Ze.instanceString=function(){return"collection"};Ze.spawn=function(t,e){return new _t(this.cy(),t,e)};Ze.spawnSelf=function(){return this.spawn(this)};Ze.cy=function(){return this._private.cy};Ze.renderer=function(){return this._private.cy.renderer()};Ze.element=function(){return this[0]};Ze.collection=function(){return Ny(this)?this:new _t(this._private.cy,[this])};Ze.unique=function(){return new _t(this._private.cy,this,!0)};Ze.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Ze.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new _t(e)};Ze.$id=Ze.getElementById;Ze.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};Ze.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Ze.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Ze.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(Be(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,s={},o=t.data.source,u=t.data.target;o!=null&&o!=a.source&&(s.source=""+o,i=!0),u!=null&&u!=a.target&&(s.target=""+u,i=!0),i&&(e=e.move(s))}else{var l="parent"in t.data,c=t.data.parent;l&&(c!=null||a.parent!=null)&&c!=a.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var f=function(g,m,p){var y=t[g];y!=null&&y!==n[g]&&(y?e[m]():e[p]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var d={data:mr(n.data),position:mr(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var h=0;return n.classes.forEach(function(v){return d.classes+=h++===0?v:" "+v}),d}}};Ze.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};Ze.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new Rs(t,a,!1);e.push(i)}return new _t(t,e)};Ze.copy=Ze.clone;Ze.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],s=[],o,u=0,l=r.length;u<l;u++){var c=r[u];e&&!c.removed()||(c.isNode()?i.push(c):s.push(c))}o=i.concat(s);var f,d=function(){o.splice(f,1),f--};for(f=0;f<o.length;f++){var h=o[f],v=h._private,g=v.data;if(h.clearTraversalCache(),!(!e&&!v.removed)){if(g.id===void 0)g.id=Zy();else if(se(g.id))g.id=""+g.id;else if(rn(g.id)||!pe(g.id)){nt("Can not create element with invalid string ID `"+g.id+"`"),d();continue}else if(n.hasElementWithId(g.id)){nt("Can not create second element with ID `"+g.id+"`"),d();continue}}var m=g.id;if(h.isNode()){var p=v.position;p.x==null&&(p.x=0),p.y==null&&(p.y=0)}if(h.isEdge()){for(var y=h,b=["source","target"],_=b.length,x=!1,S=0;S<_;S++){var w=b[S],T=g[w];se(T)&&(T=g[w]=""+g[w]),T==null||T===""?(nt("Can not create edge `"+m+"` with unspecified "+w),x=!0):n.hasElementWithId(T)||(nt("Can not create edge `"+m+"` with nonexistant "+w+" `"+T+"`"),x=!0)}if(x){d();continue}var E=n.getElementById(g.source),k=n.getElementById(g.target);E.same(k)?E._private.edges.push(y):(E._private.edges.push(y),k._private.edges.push(y)),y._private.source=E,y._private.target=k}v.map=new yr,v.map.set(m,{ele:h,index:0}),v.removed=!1,e&&n.addToPool(h)}for(var D=0;D<i.length;D++){var C=i[D],P=C._private.data;se(P.parent)&&(P.parent=""+P.parent);var M=P.parent,N=M!=null;if(N||C._private.parent){var O=C._private.parent?n.collection().merge(C._private.parent):n.getElementById(M);if(O.empty())P.parent=void 0;else if(O[0].removed())Ye("Node added with missing parent, reference to parent removed"),P.parent=void 0,C._private.parent=null;else{for(var B=!1,F=O;!F.empty();){if(C.same(F)){B=!0,P.parent=void 0;break}F=F.parent()}B||(O[0]._private.children.push(C),C._private.parent=O[0],a.hasCompoundNodes=!0)}}}if(o.length>0){for(var V=o.length===r.length?r:new _t(n,o),Y=0;Y<V.length;Y++){var z=V[Y];z.isNode()||(z.parallelEdges().clearTraversalCache(),z.source().clearTraversalCache(),z.target().clearTraversalCache())}var $;a.hasCompoundNodes?$=n.collection().merge(V).merge(V.connectedNodes()).merge(V.parent()):$=V,$.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?V.emitAndNotify("add"):e&&V.emit("add")}return r};Ze.removed=function(){var t=this[0];return t&&t._private.removed};Ze.inside=function(){var t=this[0];return t&&!t._private.removed};Ze.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function s(M){for(var N=M._private.edges,O=0;O<N.length;O++)u(N[O])}function o(M){for(var N=M._private.children,O=0;O<N.length;O++)u(N[O])}function u(M){var N=a[M.id()];e&&M.removed()||N||(a[M.id()]=!0,M.isNode()?(n.push(M),s(M),o(M)):n.unshift(M))}for(var l=0,c=r.length;l<c;l++){var f=r[l];u(f)}function d(M,N){var O=M._private.edges;nn(O,N),M.clearTraversalCache()}function h(M){M.clearTraversalCache()}var v=[];v.ids={};function g(M,N){N=N[0],M=M[0];var O=M._private.children,B=M.id();nn(O,N),N._private.parent=null,v.ids[B]||(v.ids[B]=!0,v.push(M))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var m=0;m<n.length;m++){var p=n[m];if(p.isEdge()){var y=p.source()[0],b=p.target()[0];d(y,p),d(b,p);for(var _=p.parallelEdges(),x=0;x<_.length;x++){var S=_[x];h(S),S.isBundledBezier()&&S.dirtyBoundingBoxCache()}}else{var w=p.parent();w.length!==0&&g(w,p)}e&&(p._private.removed=!0)}var T=i._private.elements;i._private.hasCompoundNodes=!1;for(var E=0;E<T.length;E++){var k=T[E];if(k.isParent()){i._private.hasCompoundNodes=!0;break}}var D=new _t(this.cy(),n);D.size()>0&&(t?D.emitAndNotify("remove"):e&&D.emit("remove"));for(var C=0;C<v.length;C++){var P=v[C];(!e||!P.removed())&&P.updateStyle()}return D};Ze.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(v){return v==null?v:""+v};if(t.source!==void 0||t.target!==void 0){var s=i(t.source),o=i(t.target),u=s!=null&&e.hasElementWithId(s),l=o!=null&&e.hasElementWithId(o);(u||l)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var h=0;h<r.length;h++){var v=r[h],g=v._private.data;v.isEdge()&&(u&&(g.source=s),l&&(g.target=o))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=i(t.parent),f=c===null||e.hasElementWithId(c);if(f){var d=c===null?void 0:c;e.batch(function(){var h=r.remove(n,a);h.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var g=r[v],m=g._private.data;g.isNode()&&(m.parent=d)}h.restore(n,a)}),r.emitAndNotify("move")}}return this};[l1,hk,Ui,Jr,ia,Mk,Ls,$k,k1,D1,Zk,ss,Gi,bt,en,Ct].forEach(function(t){be(Ze,t)});var r4={add:function(e){var r,n=this;if(Yt(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],s=0;s<a.length;s++){var o=a[s];i.push(o.json())}r=new _t(n,i)}}else if(Ge(e)){var u=e;r=new _t(n,u)}else if(Be(e)&&(Ge(e.nodes)||Ge(e.edges))){for(var l=e,c=[],f=["nodes","edges"],d=0,h=f.length;d<h;d++){var v=f[d],g=l[v];if(Ge(g))for(var m=0,p=g.length;m<p;m++){var y=be({group:v},g[m]);c.push(y)}}r=new _t(n,c)}else{var b=e;r=new Rs(n,b).collection()}return r},remove:function(e){if(!Yt(e)){if(pe(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function n4(t,e,r,n){var a=4,i=.001,s=1e-7,o=10,u=11,l=1/(u-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var d=c?new Float32Array(u):new Array(u);function h(k,D){return 1-3*D+3*k}function v(k,D){return 3*D-6*k}function g(k){return 3*k}function m(k,D,C){return((h(D,C)*k+v(D,C))*k+g(D))*k}function p(k,D,C){return 3*h(D,C)*k*k+2*v(D,C)*k+g(D)}function y(k,D){for(var C=0;C<a;++C){var P=p(D,t,r);if(P===0)return D;var M=m(D,t,r)-k;D-=M/P}return D}function b(){for(var k=0;k<u;++k)d[k]=m(k*l,t,r)}function _(k,D,C){var P,M,N=0;do M=D+(C-D)/2,P=m(M,t,r)-k,P>0?C=M:D=M;while(Math.abs(P)>s&&++N<o);return M}function x(k){for(var D=0,C=1,P=u-1;C!==P&&d[C]<=k;++C)D+=l;--C;var M=(k-d[C])/(d[C+1]-d[C]),N=D+M*l,O=p(N,t,r);return O>=i?y(k,N):O===0?N:_(k,D,D+l)}var S=!1;function w(){S=!0,(t!==e||r!==n)&&b()}var T=function(D){return S||w(),t===e&&r===n?D:D===0?0:D===1?1:m(x(D),e,n)};T.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var E="generateBezier("+[t,e,r,n]+")";return T.toString=function(){return E},T}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var a4=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var s={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,a){var i={dx:n.v,dv:t(n)},s=e(n,a*.5,i),o=e(n,a*.5,s),u=e(n,a,o),l=1/6*(i.dx+2*(s.dx+o.dx)+u.dx),c=1/6*(i.dv+2*(s.dv+o.dv)+u.dv);return n.x=n.x+l*a,n.v=n.v+c*a,n}return function n(a,i,s){var o={x:-1,v:0,tension:null,friction:null},u=[0],l=0,c=1/1e4,f=16/1e3,d,h,v;for(a=parseFloat(a)||500,i=parseFloat(i)||20,s=s||null,o.tension=a,o.friction=i,d=s!==null,d?(l=n(a,i),h=l/s*f):h=f;v=r(v||o,h),u.push(1+v.x),l+=16,Math.abs(v.x)>c&&Math.abs(v.v)>c;);return d?function(g){return u[g*(u.length-1)|0]}:l}}(),je=function(e,r,n,a){var i=n4(e,r,n,a);return function(s,o,u){return s+(o-s)*i(u)}},ji={linear:function(e,r,n){return e+(r-e)*n},ease:je(.25,.1,.25,1),"ease-in":je(.42,0,1,1),"ease-out":je(0,0,.58,1),"ease-in-out":je(.42,0,.58,1),"ease-in-sine":je(.47,0,.745,.715),"ease-out-sine":je(.39,.575,.565,1),"ease-in-out-sine":je(.445,.05,.55,.95),"ease-in-quad":je(.55,.085,.68,.53),"ease-out-quad":je(.25,.46,.45,.94),"ease-in-out-quad":je(.455,.03,.515,.955),"ease-in-cubic":je(.55,.055,.675,.19),"ease-out-cubic":je(.215,.61,.355,1),"ease-in-out-cubic":je(.645,.045,.355,1),"ease-in-quart":je(.895,.03,.685,.22),"ease-out-quart":je(.165,.84,.44,1),"ease-in-out-quart":je(.77,0,.175,1),"ease-in-quint":je(.755,.05,.855,.06),"ease-out-quint":je(.23,1,.32,1),"ease-in-out-quint":je(.86,0,.07,1),"ease-in-expo":je(.95,.05,.795,.035),"ease-out-expo":je(.19,1,.22,1),"ease-in-out-expo":je(1,0,0,1),"ease-in-circ":je(.6,.04,.98,.335),"ease-out-circ":je(.075,.82,.165,1),"ease-in-out-circ":je(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return ji.linear;var a=a4(e,r,n);return function(i,s,o){return i+(s-i)*a(o)}},"cubic-bezier":je};function Lv(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function Av(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function qn(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var s=Av(t,a),o=Av(e,a);if(se(s)&&se(o))return Lv(i,s,o,r,n);if(Ge(s)&&Ge(o)){for(var u=[],l=0;l<o.length;l++){var c=s[l],f=o[l];if(c!=null&&f!=null){var d=Lv(i,c,f,r,n);u.push(d)}else u.push(f)}return u}}function i4(t,e,r,n){var a=!n,i=t._private,s=e._private,o=s.easing,u=s.startTime,l=n?t:t.cy(),c=l.style();if(!s.easingImpl)if(o==null)s.easingImpl=ji.linear;else{var f;if(pe(o)){var d=c.parse("transition-timing-function",o);f=d.value}else f=o;var h,v;pe(f)?(h=f,v=[]):(h=f[1],v=f.slice(2).map(function(V){return+V})),v.length>0?(h==="spring"&&v.push(s.duration),s.easingImpl=ji[h].apply(null,v)):s.easingImpl=ji[h]}var g=s.easingImpl,m;if(s.duration===0?m=1:m=(r-u)/s.duration,s.applying&&(m=s.progress),m<0?m=0:m>1&&(m=1),s.delay==null){var p=s.startPosition,y=s.position;if(y&&a&&!t.locked()){var b={};Pa(p.x,y.x)&&(b.x=qn(p.x,y.x,m,g)),Pa(p.y,y.y)&&(b.y=qn(p.y,y.y,m,g)),t.position(b)}var _=s.startPan,x=s.pan,S=i.pan,w=x!=null&&n;w&&(Pa(_.x,x.x)&&(S.x=qn(_.x,x.x,m,g)),Pa(_.y,x.y)&&(S.y=qn(_.y,x.y,m,g)),t.emit("pan"));var T=s.startZoom,E=s.zoom,k=E!=null&&n;k&&(Pa(T,E)&&(i.zoom=Ka(i.minZoom,qn(T,E,m,g),i.maxZoom)),t.emit("zoom")),(w||k)&&t.emit("viewport");var D=s.style;if(D&&D.length>0&&a){for(var C=0;C<D.length;C++){var P=D[C],M=P.name,N=P,O=s.startStyle[M],B=c.properties[O.name],F=qn(O,N,m,g,B);c.overrideBypass(t,M,F)}t.emit("style")}}return s.progress=m,m}function Pa(t,e){return t==null||e==null?!1:se(t)&&se(e)?!0:!!(t&&e)}function s4(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function Iv(t,e){var r=e._private.aniEles,n=[];function a(c,f){var d=c._private,h=d.animation.current,v=d.animation.queue,g=!1;if(h.length===0){var m=v.shift();m&&h.push(m)}for(var p=function(S){for(var w=S.length-1;w>=0;w--){var T=S[w];T()}S.splice(0,S.length)},y=h.length-1;y>=0;y--){var b=h[y],_=b._private;if(_.stopped){h.splice(y,1),_.hooked=!1,_.playing=!1,_.started=!1,p(_.frames);continue}!_.playing&&!_.applying||(_.playing&&_.applying&&(_.applying=!1),_.started||s4(c,b,t),i4(c,b,t,f),_.applying&&(_.applying=!1),p(_.frames),_.step!=null&&_.step(t),b.completed()&&(h.splice(y,1),_.hooked=!1,_.playing=!1,_.started=!1,p(_.completes)),g=!0)}return!f&&h.length===0&&v.length===0&&n.push(c),g}for(var i=!1,s=0;s<r.length;s++){var o=r[s],u=a(o);i=i||u}var l=a(e,!0);(i||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var o4={animate:He.animate(),animation:He.animation(),animated:He.animated(),clearQueue:He.clearQueue(),delay:He.delay(),delayAnimation:He.delayAnimation(),stop:He.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&ns(function(i){Iv(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,s){Iv(s,e)},n.beforeRenderPriorities.animations):r()}},u4={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&fi(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Fi=function(e){return pe(e)?new an(e):e},P1={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new As(u4,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Fi(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Fi(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Fi(r),n),this},once:function(e,r,n){return this.emitter().one(e,Fi(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};He.eventAliasesOn(P1);var rd={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};rd.jpeg=rd.jpg;var Zi={layout:function(e){var r=this;if(e==null){nt("Layout options must be specified to make a layout");return}if(e.name==null){nt("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){nt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;pe(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var s=new a(be({},e,{cy:r,eles:i}));return s}};Zi.createLayout=Zi.makeLayout=Zi.layout;var l4={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],s=e[i],o=r.getElementById(i);o.data(s)}})}},c4=wt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),nd={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){nt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Ye("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=c4(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};nd.invalidateDimensions=nd.resize;var Ki={collection:function(e,r){return pe(e)?this.$(e):Yt(e)?e.collection():Ge(e)?(r||(r={}),new _t(this,e,r.unique,r.removed)):new _t(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Ki.elements=Ki.filter=Ki.$;var Dt={},Ha="t",f4="f";Dt.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var s=t[i],o=e.getContextMeta(s);if(!o.empty){var u=e.getContextStyle(o),l=e.applyContextStyle(o,u,s);s._private.appliedInitStyle?e.updateTransitions(s,l.diffProps):s._private.appliedInitStyle=!0;var c=e.updateStyleHints(s);c&&a.push(s)}}return a};Dt.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var s=[],o={},u=0;u<r.length;u++){var l=r[u],c=t[u]===Ha,f=e[u]===Ha,d=c!==f,h=l.mappedProperties.length>0;if(d||f&&h){var v=void 0;d&&h||d?v=l.properties:h&&(v=l.mappedProperties);for(var g=0;g<v.length;g++){for(var m=v[g],p=m.name,y=!1,b=u+1;b<r.length;b++){var _=r[b],x=e[b]===Ha;if(x&&(y=_.properties[m.name]!=null,y))break}!o[p]&&!y&&(o[p]=!0,s.push(p))}}}return n[a]=s,s};Dt.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var s=e[i],o=s.selector&&s.selector.matches(t);o?r+=Ha:r+=f4}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Dt.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var s=r[i],o=e[i]===Ha;if(o)for(var u=0;u<s.properties.length;u++){var l=s.properties[u];a[l.name]=l}}return n[e]=a,a};Dt.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},s=n.types,o=0;o<a.length;o++){var u=a[o],l=e[u],c=r.pstyle(u);if(!l)if(c)c.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(c!==l){if(l.mapped===s.fn&&c!=null&&c.mapping!=null&&c.mapping.value===l.value){var f=c.mapping,d=f.fnValue=l.value(r);if(d===f.prevFnValue)continue}var h=i[u]={prev:c};n.applyParsedProperty(r,l),h.next=r.pstyle(u),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:i}};Dt.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(X,re,ye){return r.getPropertiesHash(X,re,ye)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",u=t._private.style;n=Object.keys(u);for(var l=0;l<a.length;l++){var c=a[l];e.styleKeys[c]=[Yn,Ia]}for(var f=function(X,re){return e.styleKeys[re][0]=Ga(X,e.styleKeys[re][0])},d=function(X,re){return e.styleKeys[re][1]=ja(X,e.styleKeys[re][1])},h=function(X,re){f(X,re),d(X,re)},v=function(X,re){for(var ye=0;ye<X.length;ye++){var he=X.charCodeAt(ye);f(he,re),d(he,re)}},g=2e9,m=function(X){return-128<X&&X<128&&Math.floor(X)!==X?g-(X*1024|0):X},p=0;p<n.length;p++){var y=n[p],b=u[y];if(b!=null){var _=this.properties[y],x=_.type,S=_.groupKey,w=void 0;_.hashOverride!=null?w=_.hashOverride(t,b):b.pfValue!=null&&(w=b.pfValue);var T=_.enums==null?b.value:null,E=w!=null,k=T!=null,D=E||k,C=b.units;if(x.number&&D&&!x.multiple){var P=E?w:T;h(m(P),S),!E&&C!=null&&v(C,S)}else v(b.strValue,S)}}for(var M=[Yn,Ia],N=0;N<a.length;N++){var O=a[N],B=e.styleKeys[O];M[0]=Ga(B[0],M[0]),M[1]=ja(B[1],M[1])}e.styleKey=TT(M[0],M[1]);var F=e.styleKeys;e.labelDimsKey=Ur(F.labelDimensions);var V=i(t,["label"],F.labelDimensions);if(e.labelKey=Ur(V),e.labelStyleKey=Ur(Ri(F.commonLabel,V)),!o){var Y=i(t,["source-label"],F.labelDimensions);e.sourceLabelKey=Ur(Y),e.sourceLabelStyleKey=Ur(Ri(F.commonLabel,Y));var z=i(t,["target-label"],F.labelDimensions);e.targetLabelKey=Ur(z),e.targetLabelStyleKey=Ur(Ri(F.commonLabel,z))}if(o){var $=e.styleKeys,G=$.nodeBody,A=$.nodeBorder,I=$.backgroundImage,q=$.compound,L=$.pie,H=[G,A,I,q,L].filter(function(U){return U!=null}).reduce(Ri,[Yn,Ia]);e.nodeKey=Ur(H),e.hasPie=L!=null&&L[0]!==Yn&&L[1]!==Ia}return s!==e.styleKey};Dt.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Dt.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,s=r.types,o=r.properties[n.name].type,u=n.bypass,l=a[n.name],c=l&&l.bypass,f=t._private,d="mapping",h=function(G){return G==null?null:G.pfValue!=null?G.pfValue:G.value},v=function(){var G=h(l),A=h(n);r.checkTriggers(t,n.name,G,A)};if(n&&n.name.substr(0,3)==="pie"&&Ye("The pie style properties are deprecated.  Create charts using background images instead."),e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return a[n.name]=void 0,v(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return l?l.bypass?(a[n.name]=l.bypassed,v(),!0):!1:(v(),!0);var g=function(){Ye("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var m=n.field.split("."),p=f.data,y=0;y<m.length&&p;y++){var b=m[y];p=p[b]}if(p==null)return g(),!1;var _;if(se(p)){var x=n.fieldMax-n.fieldMin;x===0?_=0:_=(p-n.fieldMin)/x}else return Ye("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+p+"` for `"+t.id()+"` is non-numeric)"),!1;if(_<0?_=0:_>1&&(_=1),o.color){var S=n.valueMin[0],w=n.valueMax[0],T=n.valueMin[1],E=n.valueMax[1],k=n.valueMin[2],D=n.valueMax[2],C=n.valueMin[3]==null?1:n.valueMin[3],P=n.valueMax[3]==null?1:n.valueMax[3],M=[Math.round(S+(w-S)*_),Math.round(T+(E-T)*_),Math.round(k+(D-k)*_),Math.round(C+(P-C)*_)];i={bypass:n.bypass,name:n.name,value:M,strValue:"rgb("+M[0]+", "+M[1]+", "+M[2]+")"}}else if(o.number){var N=n.valueMin+(n.valueMax-n.valueMin)*_;i=this.parse(n.name,N,n.bypass,d)}else return!1;if(!i)return g(),!1;i.mapping=n,n=i;break}case s.data:{for(var O=n.field.split("."),B=f.data,F=0;F<O.length&&B;F++){var V=O[F];B=B[V]}if(B!=null&&(i=this.parse(n.name,B,n.bypass,d)),!i)return g(),!1;i.mapping=n,n=i;break}case s.fn:{var Y=n.value,z=n.fnValue!=null?n.fnValue:Y(t);if(n.prevFnValue=z,z==null)return Ye("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,z,n.bypass,d),!i)return Ye("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=mr(n),n=i;break}case void 0:break;default:return!1}return u?(c?n.bypassed=l.bypassed:n.bypassed=l,a[n.name]=n):c?l.bypassed=n:a[n.name]=n,v(),!0};Dt.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),s=0;s<i.length;s++){var o=i[s],u=a[o];u!=null&&(u.bypass?u.bypassed=null:a[o]=null)}}};Dt.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Dt.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var o={},u=!1,l=0;l<a.length;l++){var c=a[l],f=t.pstyle(c),d=e[c];if(d){var h=d.prev,v=h,g=d.next!=null?d.next:f,m=!1,p=void 0,y=1e-6;v&&(se(v.pfValue)&&se(g.pfValue)?(m=g.pfValue-v.pfValue,p=v.pfValue+y*m):se(v.value)&&se(g.value)?(m=g.value-v.value,p=v.value+y*m):Ge(v.value)&&Ge(g.value)&&(m=v.value[0]!==g.value[0]||v.value[1]!==g.value[1]||v.value[2]!==g.value[2],p=v.strValue),m&&(o[c]=g.strValue,this.applyBypass(t,c,p),u=!0))}}if(!u)return;n.transitioning=!0,new pa(function(b){s>0?t.delayAnimation(s).play().promise().then(b):b()}).then(function(){return t.animation({style:o,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};Dt.checkTrigger=function(t,e,r,n,a,i){var s=this.properties[e],o=a(s);o!=null&&o(r,n)&&i(s)};Dt.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};Dt.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&(e==="curve-style"&&(r==="bezier"||n==="bezier")||e==="display"&&(r==="none"||n==="none"))&&t.parallelEdges().forEach(function(i){i.isBundledBezier()&&i.dirtyBoundingBoxCache()})})};Dt.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var vi={};vi.applyBypass=function(t,e,r,n){var a=this,i=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<a.properties.length;o++){var u=a.properties[o],l=u.name,c=this.parse(l,r,!0);c&&i.push(c)}}else if(pe(e)){var f=this.parse(e,r,!0);f&&i.push(f)}else if(Be(e)){var d=e;n=r;for(var h=Object.keys(d),v=0;v<h.length;v++){var g=h[v],m=d[g];if(m===void 0&&(m=d[Ms(g)]),m!==void 0){var p=this.parse(g,m,!0);p&&i.push(p)}}}else return!1;if(i.length===0)return!1;for(var y=!1,b=0;b<t.length;b++){for(var _=t[b],x={},S=void 0,w=0;w<i.length;w++){var T=i[w];if(n){var E=_.pstyle(T.name);S=x[T.name]={prev:E}}y=this.applyParsedProperty(_,mr(T))||y,n&&(S.next=_.pstyle(T.name))}y&&this.updateStyleHints(_),n&&this.updateTransitions(_,x,s)}return y};vi.overrideBypass=function(t,e,r){e=Cd(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],s=this.properties[e].type,o=s.color,u=s.mutiple,l=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),o?i.strValue="rgb("+r.join(",")+")":u?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,l,r)}};vi.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};vi.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],s={},o=0;o<e.length;o++){var u=e[o],l=this.properties[u],c=i.pstyle(l.name);if(!(!c||!c.bypass)){var f="",d=this.parse(u,f,!0),h=s[l.name]={prev:c};this.applyParsedProperty(i,d),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,s,n)}};var Nd={};Nd.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Nd.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var br={};br.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};br.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],s=r.getStylePropertyValue(t,i.name,e);s!=null&&(n[i.name]=s,n[Ms(i.name)]=s)}return n}};br.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};br.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,s=t.pstyle(a.name);if(s){var o=s.value,u=s.units,l=s.strValue;if(r&&i.number&&o!=null&&se(o)){var c=t.cy().zoom(),f=function(m){return m*c},d=function(m,p){return f(m)+p},h=Ge(o),v=h?u.every(function(g){return g!=null}):u!=null;return v?h?o.map(function(g,m){return d(g,u[m])}).join(" "):d(o,u):h?o.map(function(g){return pe(g)?g:""+f(g)}).join(" "):""+f(o)}else if(l!=null)return l}return null}};br.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,s=t.pstyle(i);s!==void 0&&(Be(s)?s=this.parse(i,s.strValue):s=this.parse(i,s)),s&&(r[i]=s)}return r};br.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),s=0;s<i.length;s++){var o=i[s],u=n[o],l=a[o]||a[Cd(o)],c=this.parse(l.name,u);c&&r.push(c)}return r};br.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,s,o,u,l;for(u=0;u<e.length;u++)if(a=e[u],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Ga(o,n[0]),n[1]=ja(o,n[1]);else for(s=i.strValue,l=0;l<s.length;l++)o=s.charCodeAt(l),n[0]=Ga(o,n[0]),n[1]=ja(o,n[1]);return n};br.getPropertiesHash=br.getNonDefaultPropertiesHash;var Ns={};Ns.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,s=Object.keys(i);e.selector(a);for(var o=0;o<s.length;o++){var u=s[o],l=i[u];e.css(u,l)}}return e};Ns.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Ns.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},s=0;s<a.length;s++){var o=a[s];i[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var qd={};qd.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>a.length?n=n.substr(a.length):n=""}function u(){i.length>s.length?i=i.substr(s.length):i=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){Ye("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=c[0];var f=c[1];if(f!=="core"){var d=new an(f);if(d.invalid){Ye("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),o();continue}}var h=c[2],v=!1;i=h;for(var g=[];;){var m=i.match(/^\s*$/);if(m)break;var p=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!p){Ye("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),v=!0;break}s=p[0];var y=p[1],b=p[2],_=e.properties[y];if(!_){Ye("Skipping property: Invalid property name in: "+s),u();continue}var x=r.parse(y,b);if(!x){Ye("Skipping property: Invalid property definition in: "+s),u();continue}g.push({name:y,val:b}),u()}if(v){o();break}r.selector(f);for(var S=0;S<g.length;S++){var w=g[S];r.css(w.name,w.val)}o()}return r};qd.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var yt={};(function(){var t=ft,e=dT,r=vT,n=pT,a=gT,i=function(H){return"^"+H+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(H){var U=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+H+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+U+")\\s*\\,\\s*("+U+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];yt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(H,U){switch(H.length){case 2:return U[0]!=="deg"&&U[0]!=="rad"&&U[1]!=="deg"&&U[1]!=="rad";case 1:return pe(H[0])||U[0]==="deg"||U[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(H){var U=H.length;return U===1||U===2||U===4}}};var u={zeroNonZero:function(H,U){return(H==null||U==null)&&H!==U||H==0&&U!=0?!0:H!=0&&U==0},any:function(H,U){return H!=U},emptyNonEmpty:function(H,U){var X=rn(H),re=rn(U);return X&&!re||!X&&re}},l=yt.types,c=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],f=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],d=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],h=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],v=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],g=[{name:"events",type:l.bool},{name:"text-events",type:l.bool}],m=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.nonNegativeInt,triggersZOrder:u.any}],p=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any}],y=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any}],b=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],_=function(H,U){return U.value==="label"?-H.poolIndex():U.pfValue},x=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:_},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:_},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],S=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle}],w=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],T=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],E=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],k=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],D=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],C=[];yt.pieBackgroundN=16,C.push({name:"pie-size",type:l.sizeMaybePercent});for(var P=1;P<=yt.pieBackgroundN;P++)C.push({name:"pie-"+P+"-background-color",type:l.color}),C.push({name:"pie-"+P+"-background-size",type:l.percent}),C.push({name:"pie-"+P+"-background-opacity",type:l.zeroOneNumber});var M=[],N=yt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill}].forEach(function(L){N.forEach(function(H){var U=H+"-"+L.name,X=L.type,re=L.triggersBounds;M.push({name:U,type:X,triggersBounds:re})})},{});var O=yt.properties=[].concat(g,b,m,p,y,k,v,h,c,f,d,x,S,w,C,T,E,M,D),B=yt.propertyGroups={behavior:g,transition:b,visibility:m,overlay:p,underlay:y,ghost:k,commonLabel:v,labelDimensions:h,mainLabel:c,sourceLabel:f,targetLabel:d,nodeBody:x,nodeBorder:S,backgroundImage:w,pie:C,compound:T,edgeLine:E,edgeArrow:M,core:D},F=yt.propertyGroupNames={},V=yt.propertyGroupKeys=Object.keys(B);V.forEach(function(L){F[L]=B[L].map(function(H){return H.name}),B[L].forEach(function(H){return H.groupKey=L})});var Y=yt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];yt.propertyNames=O.map(function(L){return L.name});for(var z=0;z<O.length;z++){var $=O[z];O[$.name]=$}for(var G=0;G<Y.length;G++){var A=Y[G],I=O[A.pointsTo],q={name:A.name,alias:!0,pointsTo:I};O.push(q),O[A.name]=q}})();yt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};yt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=be({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var c=1;c<=yt.pieBackgroundN;c++){var f=l.name.replace("{{i}}",c),d=l.value;u[f]=d}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(u,l){return yt.arrowPrefixes.forEach(function(c){var f=c+"-"+l.name,d=l.value;u[f]=d}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,s=e[i],o=this.parse(i,s);r[i]=o}}return t.defaultProperties=r,t.defaultProperties};yt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var qs={};qs.parse=function(t,e,r,n){var a=this;if(tt(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,u=Uy(t,o,s,i),l=a.propCache=a.propCache||[],c;return(c=l[u])||(c=l[u]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=mr(c),c&&(c.value=mr(c.value))),c};qs.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&Ye("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&Ye("The style value of `label` is deprecated for `"+a.name+"`"),a};qs.parseImpl=function(t,e,r,n){var a=this;t=Cd(t);var i=a.properties[t],s=e,o=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var u=pe(e);u&&(e=e.trim());var l=i.type;if(!l)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(tt(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var c,f;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(o.data.regex).exec(e))){if(r)return!1;var d=o.data;return{name:t,value:c,strValue:""+e,mapped:d,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(o.mapData.regex).exec(e))){if(r||l.multiple)return!1;var h=o.mapData;if(!(l.color||l.number))return!1;var v=this.parse(t,f[4]);if(!v||v.mapped)return!1;var g=this.parse(t,f[5]);if(!g||g.mapped)return!1;if(v.pfValue===g.pfValue||v.strValue===g.strValue)return Ye("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+v.strValue+"`"),this.parse(t,v.strValue);if(l.color){var m=v.value,p=g.value,y=m[0]===p[0]&&m[1]===p[1]&&m[2]===p[2]&&(m[3]===p[3]||(m[3]==null||m[3]===1)&&(p[3]==null||p[3]===1));if(y)return!1}return{name:t,value:f,strValue:""+e,mapped:h,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:g.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var b;if(u?b=e.split(/\s+/):Ge(e)?b=e:b=[e],l.evenMultiple&&b.length%2!==0)return null;for(var _=[],x=[],S=[],w="",T=!1,E=0;E<b.length;E++){var k=a.parse(t,b[E],r,"multiple");T=T||pe(k.value),_.push(k.value),S.push(k.pfValue!=null?k.pfValue:k.value),x.push(k.units),w+=(E>0?" ":"")+k.strValue}return l.validate&&!l.validate(_,x)?null:l.singleEnum&&T?_.length===1&&pe(_[0])?{name:t,value:_[0],strValue:_[0],bypass:r}:null:{name:t,value:_,pfValue:S,strValue:w,bypass:r,units:x}}var D=function(){for(var U=0;U<l.enums.length;U++){var X=l.enums[U];if(X===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(l.number){var C,P="px";if(l.units&&(C=l.units),l.implicitUnits&&(P=l.implicitUnits),!l.unitless)if(u){var M="px|em"+(l.allowPercent?"|\\%":"");C&&(M=C);var N=e.match("^("+ft+")("+M+")?$");N&&(e=N[1],C=N[2]||P)}else(!C||l.implicitUnits)&&(C=P);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=s,D();if(l.integer&&!iT(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var O={name:t,value:e,strValue:""+e+(C||""),units:C,bypass:r};return l.unitless||C!=="px"&&C!=="em"?O.pfValue=e:O.pfValue=C==="px"||!C?e:this.getEmSizeInPixels()*e,(C==="ms"||C==="s")&&(O.pfValue=C==="ms"?e:1e3*e),(C==="deg"||C==="rad")&&(O.pfValue=C==="rad"?e:eC(e)),C==="%"&&(O.pfValue=e/100),O}else if(l.propList){var B=[],F=""+e;if(F!=="none"){for(var V=F.split(/\s*,\s*|\s+/),Y=0;Y<V.length;Y++){var z=V[Y].trim();a.properties[z]?B.push(z):Ye("`"+z+"` is not a valid property name")}if(B.length===0)return null}return{name:t,value:B,strValue:B.length===0?"none":B.join(" "),bypass:r}}else if(l.color){var $=ST(e);return $?{name:t,value:$,pfValue:$,strValue:"rgb("+$[0]+","+$[1]+","+$[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var G=D();if(G)return G}for(var A=l.regexes?l.regexes:[l.regex],I=0;I<A.length;I++){var q=new RegExp(A[I]),L=q.exec(e);if(L)return{name:t,value:l.singleRegexMatchValue?L[1]:L,strValue:""+e,bypass:r}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:r}:l.enums?D():null};var Et=function t(e){if(!(this instanceof t))return new t(e);if(!Td(e)){nt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},kt=Et.prototype;kt.instanceString=function(){return"style"};kt.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};kt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};kt.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};kt.selector=function(t){var e=t==="core"?null:new an(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};kt.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[Ms(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};kt.style=kt.css;kt.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};kt.append=function(t){return qy(t)?t.appendToStyle(this):Ge(t)?this.appendFromJson(t):pe(t)&&this.appendFromString(t),this};Et.fromJson=function(t,e){var r=new Et(t);return r.fromJson(e),r};Et.fromString=function(t,e){return new Et(t).fromString(e)};[Dt,vi,Nd,br,Ns,qd,yt,qs].forEach(function(t){be(kt,t)});Et.types=kt.types;Et.properties=kt.properties;Et.propertyGroups=kt.propertyGroups;Et.propertyGroupNames=kt.propertyGroupNames;Et.propertyGroupKeys=kt.propertyGroupKeys;var d4={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return qy(e)?r.style=e.generateStyle(this):Ge(e)?r.style=Et.fromJson(this,e):pe(e)?r.style=Et.fromString(this,e):r.style=Et(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},h4="single",xn={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=h4),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,s,o;switch(e.length){case 0:return r;case 1:if(pe(e[0]))return n=e[0],r[n];if(Be(e[0])){if(!this._private.panningEnabled)return this;i=e[0],s=i.x,o=i.y,se(s)&&(r.x=s),se(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&se(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,s,o,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Be(e)&&(o=n[0],u=o.x,l=o.y,se(u)&&(a.x+=u),se(l)&&(a.y+=l),this.emit("pan viewport"));break;case 2:i=e,s=r,(i==="x"||i==="y")&&se(s)&&(a[i]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(se(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(pe(e)){var a=e;e=this.$(a)}else if(uT(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Yt(e)||(e=this.mutableElements());if(!(Yt(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),u;if(r=se(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((s-2*r)/n.w,(o-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(s-u*(n.x1+n.x2))/2,y:(o-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return se(e)&&se(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):se(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:se(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,s,o=!1;if(r.zoomingEnabled||(o=!0),se(e)?s=e:Be(e)&&(s=e.level,e.position!=null?i=Ps(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!se(s)||s===a||i!=null&&(!se(i.x)||!se(i.y)))return null;if(i!=null){var u=n,l=a,c=s,f={x:-c/l*(i.x-u.x)+i.x,y:-c/l*(i.y-u.y)+i.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],s=!1,o=!1;if(!e)return this;if(se(e.zoom)||(n=!1),Be(e.pan)||(a=!1),!n&&!a)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var l=e.pan;se(l.x)&&(r.pan.x=l.x,o=!1),se(l.y)&&(r.pan.y=l.y,o=!1),o||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(pe(e)){var n=e;e=this.mutableElements().filter(n)}else Yt(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(i-r*(a.x1+a.x2))/2,y:(s-r*(a.y1+a.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(o){return parseFloat(a.getPropertyValue(o))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};xn.centre=xn.center;xn.autolockNodes=xn.autolock;xn.autoungrabifyNodes=xn.autoungrabify;var ei={data:He.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:He.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:He.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:He.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ei.attr=ei.data;ei.removeAttr=ei.removeData;var ti=function(e){var r=this;e=be({},e);var n=e.container;n&&!rs(n)&&rs(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var s=ct!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=be({name:s?"grid":"null"},o.layout),o.renderer=be({name:s?"canvas":"null"},o.renderer);var u=function(v,g,m){return g!==void 0?g:m!==void 0?m:v},l=this._private={container:n,ready:!1,options:o,elements:new _t(this),listeners:[],aniEles:new _t(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,o.zoomingEnabled),userZoomingEnabled:u(!0,o.userZoomingEnabled),panningEnabled:u(!0,o.panningEnabled),userPanningEnabled:u(!0,o.userPanningEnabled),boxSelectionEnabled:u(!0,o.boxSelectionEnabled),autolock:u(!1,o.autolock,o.autolockNodes),autoungrabify:u(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:u(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:se(o.zoom)?o.zoom:1,pan:{x:Be(o.pan)&&se(o.pan.x)?o.pan.x:0,y:Be(o.pan)&&se(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var c=function(v,g){var m=v.some(lT);if(m)return pa.all(v).then(g);g(v)};l.styleEnabled&&r.setStyle([]);var f=be({},o,o.renderer);r.initRenderer(f);var d=function(v,g,m){r.notifications(!1);var p=r.mutableElements();p.length>0&&p.remove(),v!=null&&(Be(v)||Ge(v))&&r.add(v),r.one("layoutready",function(b){r.notifications(!0),r.emit(b),r.one("load",g),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",m),r.emit("done")});var y=be({},r._private.options.layout);y.eles=r.elements(),r.layout(y).run()};c([o.style,o.elements],function(h){var v=h[0],g=h[1];l.styleEnabled&&r.style().append(v),d(g,function(){r.startAnimationLoop(),l.ready=!0,tt(o.ready)&&r.on("ready",o.ready);for(var m=0;m<i.length;m++){var p=i[m];r.on("ready",p)}a&&(a.readies=[]),r.emit("ready")},o.done)})},os=ti.prototype;be(os,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return ct;var r=this._private.container.ownerDocument;return r===void 0||r==null?ct:r.defaultView||ct},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!rs(e)&&rs(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(be({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return mr(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(_){return r.getElementById(_.id())};if(Be(e)){if(r.startBatch(),e.elements){var s={},o=function(_,x){for(var S=[],w=[],T=0;T<_.length;T++){var E=_[T];if(!E.data.id){Ye("cy.json() cannot handle elements without an ID attribute");continue}var k=""+E.data.id,D=r.getElementById(k);s[k]=!0,D.length!==0?w.push({ele:D,json:E}):(x&&(E.group=x),S.push(E))}r.add(S);for(var C=0;C<w.length;C++){var P=w[C],M=P.ele,N=P.json;M.json(N)}};if(Ge(e.elements))o(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var c=u[l],f=e.elements[c];Ge(f)&&o(f,c)}var d=r.collection();a.filter(function(b){return!s[b.id()]}).forEach(function(b){b.isParent()?d.merge(b):b.remove()}),d.forEach(function(b){return b.children().move({parent:null})}),d.forEach(function(b){return i(b).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<h.length;v++){var g=h[v];e[g]!=null&&r[g](e[g])}return r.endBatch(),this}else{var m=!!e,p={};m?p.elements=this.elements().map(function(b){return b.json()}):(p.elements={},a.forEach(function(b){var _=b.group();p.elements[_]||(p.elements[_]=[]),p.elements[_].push(b.json())})),this._private.styleEnabled&&(p.style=r.style().json()),p.data=mr(r.data());var y=n.options;return p.zoomingEnabled=n.zoomingEnabled,p.userZoomingEnabled=n.userZoomingEnabled,p.zoom=n.zoom,p.minZoom=n.minZoom,p.maxZoom=n.maxZoom,p.panningEnabled=n.panningEnabled,p.userPanningEnabled=n.userPanningEnabled,p.pan=mr(n.pan),p.boxSelectionEnabled=n.boxSelectionEnabled,p.renderer=mr(y.renderer),p.hideEdgesOnViewport=y.hideEdgesOnViewport,p.textureOnViewport=y.textureOnViewport,p.wheelSensitivity=y.wheelSensitivity,p.motionBlur=y.motionBlur,p.multiClickDebounceTime=y.multiClickDebounceTime,p}}});os.$id=os.getElementById;[r4,o4,P1,rd,Zi,l4,nd,Ki,d4,xn,ei].forEach(function(t){be(os,t)});var v4={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},p4={maximal:!1,acyclic:!1},Fn=function(e){return e.scratch("breadthfirst")},Bv=function(e,r){return e.scratch("breadthfirst",r)};function O1(t){this.options=be({},v4,p4,t)}O1.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().filter(function(ne){return!ne.isParent()}),i=n,s=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,u=zt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l;if(Yt(e.roots))l=e.roots;else if(Ge(e.roots)){for(var c=[],f=0;f<e.roots.length;f++){var d=e.roots[f],h=r.getElementById(d);c.push(h)}l=r.collection(c)}else if(pe(e.roots))l=r.$(e.roots);else if(s)l=a.roots();else{var v=n.components();l=r.collection();for(var g=function(K){var ue=v[K],te=ue.maxDegree(!1),ie=ue.filter(function(le){return le.degree(!1)===te});l=l.add(ie)},m=0;m<v.length;m++)g(m)}var p=[],y={},b=function(K,ue){p[ue]==null&&(p[ue]=[]);var te=p[ue].length;p[ue].push(K),Bv(K,{index:te,depth:ue})},_=function(K,ue){var te=Fn(K),ie=te.depth,le=te.index;p[ie][le]=null,b(K,ue)};i.bfs({roots:l,directed:e.directed,visit:function(K,ue,te,ie,le){var Te=K[0],Se=Te.id();b(Te,le),y[Se]=!0}});for(var x=[],S=0;S<a.length;S++){var w=a[S];y[w.id()]||x.push(w)}var T=function(K){for(var ue=p[K],te=0;te<ue.length;te++){var ie=ue[te];if(ie==null){ue.splice(te,1),te--;continue}Bv(ie,{depth:K,index:te})}},E=function(){for(var K=0;K<p.length;K++)T(K)},k=function(K,ue){for(var te=Fn(K),ie=K.incomers().filter(function(R){return R.isNode()&&n.has(R)}),le=-1,Te=K.id(),Se=0;Se<ie.length;Se++){var de=ie[Se],xe=Fn(de);le=Math.max(le,xe.depth)}if(te.depth<=le){if(!e.acyclic&&ue[Te])return null;var Q=le+1;return _(K,Q),ue[Te]=Q,!0}return!1};if(s&&o){var D=[],C={},P=function(K){return D.push(K)},M=function(){return D.shift()};for(a.forEach(function(ne){return D.push(ne)});D.length>0;){var N=M(),O=k(N,C);if(O)N.outgoers().filter(function(ne){return ne.isNode()&&n.has(ne)}).forEach(P);else if(O===null){Ye("Detected double maximal shift for node `"+N.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}E();var B=0;if(e.avoidOverlap)for(var F=0;F<a.length;F++){var V=a[F],Y=V.layoutDimensions(e),z=Y.w,$=Y.h;B=Math.max(B,z,$)}var G={},A=function(K){if(G[K.id()])return G[K.id()];for(var ue=Fn(K).depth,te=K.neighborhood(),ie=0,le=0,Te=0;Te<te.length;Te++){var Se=te[Te];if(!(Se.isEdge()||Se.isParent()||!a.has(Se))){var de=Fn(Se);if(de!=null){var xe=de.index,Q=de.depth;if(!(xe==null||Q==null)){var R=p[Q].length;Q<ue&&(ie+=xe/R,le++)}}}}return le=Math.max(1,le),ie=ie/le,le===0&&(ie=0),G[K.id()]=ie,ie},I=function(K,ue){var te=A(K),ie=A(ue),le=te-ie;return le===0?zy(K.id(),ue.id()):le};e.depthSort!==void 0&&(I=e.depthSort);for(var q=0;q<p.length;q++)p[q].sort(I),T(q);for(var L=[],H=0;H<x.length;H++)L.push(x[H]);p.unshift(L),E();for(var U=0,X=0;X<p.length;X++)U=Math.max(p[X].length,U);var re={x:u.x1+u.w/2,y:u.x1+u.h/2},ye=p.reduce(function(ne,K){return Math.max(ne,K.length)},0),he=function(K){var ue=Fn(K),te=ue.depth,ie=ue.index,le=p[te].length,Te=Math.max(u.w/((e.grid?ye:le)+1),B),Se=Math.max(u.h/(p.length+1),B),de=Math.min(u.w/2/p.length,u.h/2/p.length);if(de=Math.max(de,B),e.circle){var Q=de*te+de-(p.length>0&&p[0].length<=3?de/2:0),R=2*Math.PI/p[te].length*ie;return te===0&&p[0].length===1&&(Q=1),{x:re.x+Q*Math.cos(R),y:re.y+Q*Math.sin(R)}}else{var xe={x:re.x+(ie+1-(le+1)/2)*Te,y:(te+1)*Se};return xe}};return n.nodes().layoutPositions(this,e,he),this};var g4={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function L1(t){this.options=be({},g4,t)}L1.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var s=zt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,l=u/Math.max(1,i.length-1),c,f=0,d=0;d<i.length;d++){var h=i[d],v=h.layoutDimensions(e),g=v.w,m=v.h;f=Math.max(f,g,m)}if(se(e.radius)?c=e.radius:i.length<=1?c=0:c=Math.min(s.h,s.w)/2-f,i.length>1&&e.avoidOverlap){f*=1.75;var p=Math.cos(l)-Math.cos(0),y=Math.sin(l)-Math.sin(0),b=Math.sqrt(f*f/(p*p+y*y));c=Math.max(b,c)}var _=function(S,w){var T=e.startAngle+w*l*(a?1:-1),E=c*Math.cos(T),k=c*Math.sin(T),D={x:o.x+E,y:o.y+k};return D};return n.nodes().layoutPositions(this,e,_),this};var m4={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function A1(t){this.options=be({},m4,t)}A1.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),s=zt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],l=0,c=0;c<i.length;c++){var f=i[c],d=void 0;d=e.concentric(f),u.push({value:d,node:f}),f._private.scratch.concentric=d}i.updateStyle();for(var h=0;h<i.length;h++){var v=i[h],g=v.layoutDimensions(e);l=Math.max(l,g.w,g.h)}u.sort(function(ne,K){return K.value-ne.value});for(var m=e.levelWidth(i),p=[[]],y=p[0],b=0;b<u.length;b++){var _=u[b];if(y.length>0){var x=Math.abs(y[0].value-_.value);x>=m&&(y=[],p.push(y))}y.push(_)}var S=l+e.minNodeSpacing;if(!e.avoidOverlap){var w=p.length>0&&p[0].length>1,T=Math.min(s.w,s.h)/2-S,E=T/(p.length+w?1:0);S=Math.min(S,E)}for(var k=0,D=0;D<p.length;D++){var C=p[D],P=e.sweep===void 0?2*Math.PI-2*Math.PI/C.length:e.sweep,M=C.dTheta=P/Math.max(1,C.length-1);if(C.length>1&&e.avoidOverlap){var N=Math.cos(M)-Math.cos(0),O=Math.sin(M)-Math.sin(0),B=Math.sqrt(S*S/(N*N+O*O));k=Math.max(B,k)}C.r=k,k+=S}if(e.equidistant){for(var F=0,V=0,Y=0;Y<p.length;Y++){var z=p[Y],$=z.r-V;F=Math.max(F,$)}V=0;for(var G=0;G<p.length;G++){var A=p[G];G===0&&(V=A.r),A.r=V,V+=F}}for(var I={},q=0;q<p.length;q++)for(var L=p[q],H=L.dTheta,U=L.r,X=0;X<L.length;X++){var re=L[X],ye=e.startAngle+(r?1:-1)*H*X,he={x:o.x+U*Math.cos(ye),y:o.y+U*Math.sin(ye)};I[re.node.id()]=he}return a.nodes().layoutPositions(this,e,function(ne){var K=ne.id();return I[K]}),this};var Po,y4={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Fs(t){this.options=be({},y4,t),this.options.layout=this}Fs.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Po=!0:Po=!1;var n=b4(e,r,t);Po&&S4(n),t.randomize&&x4(n);var a=Ir(),i=function(){E4(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(d){return!(r.stopped||d>=t.numIter||(T4(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var d=t.eles.nodes(),h=I1(n,t,d);d.layoutPositions(r,t,h)}},u=0,l=!0;if(t.animate===!0){var c=function f(){for(var d=0;l&&d<t.refresh;)l=s(u),u++,d++;if(!l)qv(n,t),o();else{var h=Ir();h-a>=t.animationThreshold&&i(),ns(f)}};c()}else{for(;l;)l=s(u),u++;qv(n,t),o()}return this};Fs.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Fs.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var b4=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),s=zt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},u=n.eles.components(),l={},c=0;c<u.length;c++)for(var f=u[c],d=0;d<f.length;d++){var h=f[d];l[h.id()]=c}for(var c=0;c<o.nodeSize;c++){var v=i[c],g=v.layoutDimensions(n),m={};m.isLocked=v.locked(),m.id=v.data("id"),m.parentId=v.data("parent"),m.cmptId=l[v.id()],m.children=[],m.positionX=v.position("x"),m.positionY=v.position("y"),m.offsetX=0,m.offsetY=0,m.height=g.w,m.width=g.h,m.maxX=m.positionX+m.width/2,m.minX=m.positionX-m.width/2,m.maxY=m.positionY+m.height/2,m.minY=m.positionY-m.height/2,m.padLeft=parseFloat(v.style("padding")),m.padRight=parseFloat(v.style("padding")),m.padTop=parseFloat(v.style("padding")),m.padBottom=parseFloat(v.style("padding")),m.nodeRepulsion=tt(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,o.layoutNodes.push(m),o.idToIndex[m.id]=c}for(var p=[],y=0,b=-1,_=[],c=0;c<o.nodeSize;c++){var v=o.layoutNodes[c],x=v.parentId;x!=null?o.layoutNodes[o.idToIndex[x]].children.push(v.id):(p[++b]=v.id,_.push(v.id))}for(o.graphSet.push(_);y<=b;){var S=p[y++],w=o.idToIndex[S],h=o.layoutNodes[w],T=h.children;if(T.length>0){o.graphSet.push(T);for(var c=0;c<T.length;c++)p[++b]=T[c]}}for(var c=0;c<o.graphSet.length;c++)for(var E=o.graphSet[c],d=0;d<E.length;d++){var k=o.idToIndex[E[d]];o.indexToGraph[k]=c}for(var c=0;c<o.edgeSize;c++){var D=a[c],C={};C.id=D.data("id"),C.sourceId=D.data("source"),C.targetId=D.data("target");var P=tt(n.idealEdgeLength)?n.idealEdgeLength(D):n.idealEdgeLength,M=tt(n.edgeElasticity)?n.edgeElasticity(D):n.edgeElasticity,N=o.idToIndex[C.sourceId],O=o.idToIndex[C.targetId],B=o.indexToGraph[N],F=o.indexToGraph[O];if(B!=F){for(var V=_4(C.sourceId,C.targetId,o),Y=o.graphSet[V],z=0,m=o.layoutNodes[N];Y.indexOf(m.id)===-1;)m=o.layoutNodes[o.idToIndex[m.parentId]],z++;for(m=o.layoutNodes[O];Y.indexOf(m.id)===-1;)m=o.layoutNodes[o.idToIndex[m.parentId]],z++;P*=z*n.nestingFactor}C.idealLength=P,C.elasticity=M,o.layoutEdges.push(C)}return o},_4=function(e,r,n){var a=w4(e,r,0,n);return 2>a.count?0:a.graph},w4=function t(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<i.length;o++){var u=i[o],l=a.idToIndex[u],c=a.layoutNodes[l].children;if(c.length!==0){var f=a.indexToGraph[a.idToIndex[c[0]]],d=t(e,r,f,a);if(d.count!==0)if(d.count===1){if(s++,s===2)break}else return d}}return{count:s,graph:n}},S4,x4=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var s=e.layoutNodes[i];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*a)}},I1=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];i.x1=Math.min(i.x1,o.positionX),i.x2=Math.max(i.x2,o.positionX),i.y1=Math.min(i.y1,o.positionY),i.y2=Math.max(i.y2,o.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(s,o){var u=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var l=(u.positionX-i.x1)/i.w,c=(u.positionY-i.y1)/i.h;return{x:a.x1+l*a.w,y:a.y1+c*a.h}}else return{x:u.positionX,y:u.positionY}}},E4=function(e,r,n){var a=n.layout,i=n.eles.nodes(),s=I1(e,n,i);i.positions(s),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},T4=function(e,r,n){C4(e,r),M4(e),R4(e,r),P4(e),O4(e)},C4=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,s=0;s<i;s++)for(var o=e.layoutNodes[e.idToIndex[a[s]]],u=s+1;u<i;u++){var l=e.layoutNodes[e.idToIndex[a[u]]];k4(o,l,e,r)}},Nv=function(e){return-e+2*e*Math.random()},k4=function(e,r,n,a){var i=e.cmptId,s=r.cmptId;if(!(i!==s&&!n.isCompound)){var o=r.positionX-e.positionX,u=r.positionY-e.positionY,l=1;o===0&&u===0&&(o=Nv(l),u=Nv(l));var c=D4(e,r,o,u);if(c>0)var f=a.nodeOverlap*c,d=Math.sqrt(o*o+u*u),h=f*o/d,v=f*u/d;else var g=us(e,o,u),m=us(r,-1*o,-1*u),p=m.x-g.x,y=m.y-g.y,b=p*p+y*y,d=Math.sqrt(b),f=(e.nodeRepulsion+r.nodeRepulsion)/b,h=f*p/d,v=f*y/d;e.isLocked||(e.offsetX-=h,e.offsetY-=v),r.isLocked||(r.offsetX+=h,r.offsetY+=v)}},D4=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return i>=0&&s>=0?Math.sqrt(i*i+s*s):0},us=function(e,r,n){var a=e.positionX,i=e.positionY,s=e.height||1,o=e.width||1,u=n/r,l=s/o,c={};return r===0&&0<n||r===0&&0>n?(c.x=a,c.y=i+s/2,c):0<r&&-1*l<=u&&u<=l?(c.x=a+o/2,c.y=i+o*n/2/r,c):0>r&&-1*l<=u&&u<=l?(c.x=a-o/2,c.y=i-o*n/2/r,c):0<n&&(u<=-1*l||u>=l)?(c.x=a+s*r/2/n,c.y=i+s/2,c):(0>n&&(u<=-1*l||u>=l)&&(c.x=a-s*r/2/n,c.y=i-s/2),c)},M4=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],s=e.layoutNodes[i],o=e.idToIndex[a.targetId],u=e.layoutNodes[o],l=u.positionX-s.positionX,c=u.positionY-s.positionY;if(!(l===0&&c===0)){var f=us(s,l,c),d=us(u,-1*l,-1*c),h=d.x-f.x,v=d.y-f.y,g=Math.sqrt(h*h+v*v),m=Math.pow(a.idealLength-g,2)/a.elasticity;if(g!==0)var p=m*h/g,y=m*v/g;else var p=0,y=0;s.isLocked||(s.offsetX+=p,s.offsetY+=y),u.isLocked||(u.offsetX-=p,u.offsetY-=y)}}},R4=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],s=i.length;if(a===0)var o=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[i[0]]],c=e.layoutNodes[e.idToIndex[l.parentId]],o=c.positionX,u=c.positionY;for(var f=0;f<s;f++){var d=e.layoutNodes[e.idToIndex[i[f]]];if(!d.isLocked){var h=o-d.positionX,v=u-d.positionY,g=Math.sqrt(h*h+v*v);if(g>n){var m=r.gravity*h/g,p=r.gravity*v/g;d.offsetX+=m,d.offsetY+=p}}}}},P4=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var s=n[a++],o=e.idToIndex[s],u=e.layoutNodes[o],l=u.children;if(0<l.length&&!u.isLocked){for(var c=u.offsetX,f=u.offsetY,d=0;d<l.length;d++){var h=e.layoutNodes[e.idToIndex[l[d]]];h.offsetX+=c,h.offsetY+=f,n[++i]=l[d]}u.offsetX=0,u.offsetY=0}}},O4=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=L4(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,A4(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},L4=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},A4=function t(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return t(a,r)}},qv=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var s=n[i],o=s.cmptId,u=a[o]=a[o]||[];u.push(s)}for(var l=0,i=0;i<a.length;i++){var c=a[i];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var d=c[f];c.x1=Math.min(c.x1,d.positionX-d.width/2),c.x2=Math.max(c.x2,d.positionX+d.width/2),c.y1=Math.min(c.y1,d.positionY-d.height/2),c.y2=Math.max(c.y2,d.positionY+d.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}a.sort(function(y,b){return b.w*b.h-y.w*y.h});for(var h=0,v=0,g=0,m=0,p=Math.sqrt(l)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var c=a[i];if(c){for(var f=0;f<c.length;f++){var d=c[f];d.isLocked||(d.positionX+=h-c.x1,d.positionY+=v-c.y1)}h+=c.w+r.componentSpacing,g+=c.w+r.componentSpacing,m=Math.max(m,c.h),g>p&&(v+=m+r.componentSpacing,h=0,g=0,m=0)}}},I4={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function B1(t){this.options=be({},I4,t)}B1.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=zt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(G){return{x:i.x1,y:i.y1}});else{var s=a.size(),o=Math.sqrt(s*i.h/i.w),u=Math.round(o),l=Math.round(i.w/i.h*o),c=function(A){if(A==null)return Math.min(u,l);var I=Math.min(u,l);I==u?u=A:l=A},f=function(A){if(A==null)return Math.max(u,l);var I=Math.max(u,l);I==u?u=A:l=A},d=e.rows,h=e.cols!=null?e.cols:e.columns;if(d!=null&&h!=null)u=d,l=h;else if(d!=null&&h==null)u=d,l=Math.ceil(s/u);else if(d==null&&h!=null)l=h,u=Math.ceil(s/l);else if(l*u>s){var v=c(),g=f();(v-1)*g>=s?c(v-1):(g-1)*v>=s&&f(g-1)}else for(;l*u<s;){var m=c(),p=f();(p+1)*m>=s?f(p+1):c(m+1)}var y=i.w/l,b=i.h/u;if(e.condense&&(y=0,b=0),e.avoidOverlap)for(var _=0;_<a.length;_++){var x=a[_],S=x._private.position;(S.x==null||S.y==null)&&(S.x=0,S.y=0);var w=x.layoutDimensions(e),T=e.avoidOverlapPadding,E=w.w+T,k=w.h+T;y=Math.max(y,E),b=Math.max(b,k)}for(var D={},C=function(A,I){return!!D["c-"+A+"-"+I]},P=function(A,I){D["c-"+A+"-"+I]=!0},M=0,N=0,O=function(){N++,N>=l&&(N=0,M++)},B={},F=0;F<a.length;F++){var V=a[F],Y=e.position(V);if(Y&&(Y.row!==void 0||Y.col!==void 0)){var z={row:Y.row,col:Y.col};if(z.col===void 0)for(z.col=0;C(z.row,z.col);)z.col++;else if(z.row===void 0)for(z.row=0;C(z.row,z.col);)z.row++;B[V.id()]=z,P(z.row,z.col)}}var $=function(A,I){var q,L;if(A.locked()||A.isParent())return!1;var H=B[A.id()];if(H)q=H.col*y+y/2+i.x1,L=H.row*b+b/2+i.y1;else{for(;C(M,N);)O();q=N*y+y/2+i.x1,L=M*b+b/2+i.y1,P(M,N),O()}return{x:q,y:L}};a.layoutPositions(this,e,$)}return this};var B4={ready:function(){},stop:function(){}};function Fd(t){this.options=be({},B4,t)}Fd.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Fd.prototype.stop=function(){return this};var N4={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function N1(t){this.options=be({},N4,t)}N1.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=tt(t.positions);function a(i){if(t.positions==null)return ZT(i.position());if(n)return t.positions(i);var s=t.positions[i._private.data.id];return s??null}return r.layoutPositions(this,t,function(i,s){var o=a(i);return i.locked()||o==null?!1:o}),this};var q4={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function q1(t){this.options=be({},q4,t)}q1.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=zt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var F4=[{name:"breadthfirst",impl:O1},{name:"circle",impl:L1},{name:"concentric",impl:A1},{name:"cose",impl:Fs},{name:"grid",impl:B1},{name:"null",impl:Fd},{name:"preset",impl:N1},{name:"random",impl:q1}];function F1(t){this.options=t,this.notifications=0}var Fv=function(){},zv=function(){throw new Error("A headless instance can not render images")};F1.prototype={recalculateRenderedStyle:Fv,notify:function(){this.notifications++},init:Fv,isHeadless:function(){return!0},png:zv,jpg:zv};var zd={};zd.arrowShapeWidth=.3;zd.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(l,c,f,d,h,v,g){var m=h.x-f/2-g,p=h.x+f/2+g,y=h.y-f/2-g,b=h.y+f/2+g,_=m<=l&&l<=p&&y<=c&&c<=b;return _},n=function(l,c,f,d,h){var v=l*Math.cos(d)-c*Math.sin(d),g=l*Math.sin(d)+c*Math.cos(d),m=v*f,p=g*f,y=m+h.x,b=p+h.y;return{x:y,y:b}},a=function(l,c,f,d){for(var h=[],v=0;v<l.length;v+=2){var g=l[v],m=l[v+1];h.push(n(g,m,c,f,d))}return h},i=function(l){for(var c=[],f=0;f<l.length;f++){var d=l[f];c.push(d.x,d.y)}return c},s=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},o=function(l,c){pe(c)&&(c=t[c]),t[l]=be({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,h,v,g,m,p){var y=i(a(this.points,v+2*p,g,m)),b=qt(d,h,y);return b},roughCollide:r,draw:function(d,h,v,g){var m=a(this.points,h,v,g);e.arrowShapeImpl("polygon")(d,m)},spacing:function(d){return 0},gap:s},c)};o("none",{collide:as,roughCollide:as,draw:Dd,spacing:tv,gap:tv}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,c,f,d,h){var v=a(this.points,c,f,d),g=this.controlPoint,m=n(g[0],g[1],c,f,d);e.arrowShapeImpl(this.name)(l,v,m)},gap:function(l){return s(l)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,c,f,d,h,v,g){var m=i(a(this.points,f+2*g,d,h)),p=i(a(this.pointsTee,f+2*g,d,h)),y=qt(l,c,m)||qt(l,c,p);return y},draw:function(l,c,f,d,h){var v=a(this.points,c,f,d),g=a(this.pointsTee,c,f,d);e.arrowShapeImpl(this.name)(l,v,g)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,c,f,d,h,v,g){var m=h,p=Math.pow(m.x-l,2)+Math.pow(m.y-c,2)<=Math.pow((f+2*g)*this.radius,2),y=i(a(this.points,f+2*g,d,h));return qt(l,c,y)||p},draw:function(l,c,f,d,h){var v=a(this.pointsTr,c,f,d);e.arrowShapeImpl(this.name)(l,v,d.x,d.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,c){var f=this.baseCrossLinePts.slice(),d=c/l,h=3,v=5;return f[h]=f[h]-d,f[v]=f[v]-d,f},collide:function(l,c,f,d,h,v,g){var m=i(a(this.points,f+2*g,d,h)),p=i(a(this.crossLinePts(f,v),f+2*g,d,h)),y=qt(l,c,m)||qt(l,c,p);return y},draw:function(l,c,f,d,h){var v=a(this.points,c,f,d),g=a(this.crossLinePts(c,h),c,f,d);e.arrowShapeImpl(this.name)(l,v,g)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return s(l)*.525}}),o("circle",{radius:.15,collide:function(l,c,f,d,h,v,g){var m=h,p=Math.pow(m.x-l,2)+Math.pow(m.y-c,2)<=Math.pow((f+2*g)*this.radius,2);return p},draw:function(l,c,f,d,h){e.arrowShapeImpl(this.name)(l,d.x,d.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Mn={};Mn.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],s=n[4],o=r.pan(),u=r.zoom(),l=((t-a)/s-o.x)/u,c=((e-i)/s-o.y)/u;return[l,c]};Mn.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(p){return parseFloat(r.getPropertyValue(p))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,u=a.left+a.right,l=a.top+a.bottom,c=i.left+i.right,f=e.width/(s+c),d=s-u,h=o-l,v=e.left+a.left+i.left,g=e.top+a.top+i.top;return this.containerBB=[v,g,d,h,f]};Mn.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Mn.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Mn.findNearestElements=function(t,e,r,n){var a=this,i=this,s=i.getCachedZSortedEles(),o=[],u=i.cy.zoom(),l=i.cy.hasCompoundNodes(),c=(n?24:8)/u,f=(n?8:2)/u,d=(n?8:2)/u,h=1/0,v,g;r&&(s=s.interactive);function m(w,T){if(w.isNode()){if(g)return;g=w,o.push(w)}if(w.isEdge()&&(T==null||T<h))if(v){if(v.pstyle("z-compound-depth").value===w.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===w.pstyle("z-compound-depth").value){for(var E=0;E<o.length;E++)if(o[E].isEdge()){o[E]=w,v=w,h=T??h;break}}}else o.push(w),v=w,h=T??h}function p(w){var T=w.outerWidth()+2*f,E=w.outerHeight()+2*f,k=T/2,D=E/2,C=w.position();if(C.x-k<=t&&t<=C.x+k&&C.y-D<=e&&e<=C.y+D){var P=i.nodeShapes[a.getNodeShape(w)];if(P.checkPoint(t,e,0,T,E,C.x,C.y))return m(w,0),!0}}function y(w){var T=w._private,E=T.rscratch,k=w.pstyle("width").pfValue,D=w.pstyle("arrow-scale").value,C=k/2+c,P=C*C,M=C*2,F=T.source,V=T.target,N;if(E.edgeType==="segments"||E.edgeType==="straight"||E.edgeType==="haystack"){for(var O=E.allpts,B=0;B+3<O.length;B+=2)if(uC(t,e,O[B],O[B+1],O[B+2],O[B+3],M)&&P>(N=hC(t,e,O[B],O[B+1],O[B+2],O[B+3])))return m(w,N),!0}else if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"){for(var O=E.allpts,B=0;B+5<E.allpts.length;B+=4)if(lC(t,e,O[B],O[B+1],O[B+2],O[B+3],O[B+4],O[B+5],M)&&P>(N=dC(t,e,O[B],O[B+1],O[B+2],O[B+3],O[B+4],O[B+5])))return m(w,N),!0}for(var F=F||T.source,V=V||T.target,Y=a.getArrowWidth(k,D),z=[{name:"source",x:E.arrowStartX,y:E.arrowStartY,angle:E.srcArrowAngle},{name:"target",x:E.arrowEndX,y:E.arrowEndY,angle:E.tgtArrowAngle},{name:"mid-source",x:E.midX,y:E.midY,angle:E.midsrcArrowAngle},{name:"mid-target",x:E.midX,y:E.midY,angle:E.midtgtArrowAngle}],B=0;B<z.length;B++){var $=z[B],G=i.arrowShapes[w.pstyle($.name+"-arrow-shape").value],A=w.pstyle("width").pfValue;if(G.roughCollide(t,e,Y,$.angle,{x:$.x,y:$.y},A,c)&&G.collide(t,e,Y,$.angle,{x:$.x,y:$.y},A,c))return m(w),!0}l&&o.length>0&&(p(F),p(V))}function b(w,T,E){return or(w,T,E)}function _(w,T){var E=w._private,k=d,D;T?D=T+"-":D="",w.boundingBox();var C=E.labelBounds[T||"main"],P=w.pstyle(D+"label").value,M=w.pstyle("text-events").strValue==="yes";if(!(!M||!P)){var N=b(E.rscratch,"labelX",T),O=b(E.rscratch,"labelY",T),B=b(E.rscratch,"labelAngle",T),F=w.pstyle(D+"text-margin-x").pfValue,V=w.pstyle(D+"text-margin-y").pfValue,Y=C.x1-k-F,z=C.x2+k-F,$=C.y1-k-V,G=C.y2+k-V;if(B){var A=Math.cos(B),I=Math.sin(B),q=function(he,ne){return he=he-N,ne=ne-O,{x:he*A-ne*I+N,y:he*I+ne*A+O}},L=q(Y,$),H=q(Y,G),U=q(z,$),X=q(z,G),re=[L.x+F,L.y+V,U.x+F,U.y+V,X.x+F,X.y+V,H.x+F,H.y+V];if(qt(t,e,re))return m(w),!0}else if(na(C,t,e))return m(w),!0}}for(var x=s.length-1;x>=0;x--){var S=s[x];S.isNode()?p(S)||_(S):y(S)||_(S)||_(S,"source")||_(S,"target")}return o};Mn.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=[],s=Math.min(t,r),o=Math.max(t,r),u=Math.min(e,n),l=Math.max(e,n);t=s,r=o,e=u,n=l;for(var c=zt({x1:t,y1:e,x2:r,y2:n}),f=0;f<a.length;f++){var d=a[f];if(d.isNode()){var h=d,v=h.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Pd(c,v)&&!Jy(v,c)&&i.push(h)}else{var g=d,m=g._private,p=m.rscratch;if(p.startX!=null&&p.startY!=null&&!na(c,p.startX,p.startY)||p.endX!=null&&p.endY!=null&&!na(c,p.endX,p.endY))continue;if(p.edgeType==="bezier"||p.edgeType==="multibezier"||p.edgeType==="self"||p.edgeType==="compound"||p.edgeType==="segments"||p.edgeType==="haystack"){for(var y=m.rstyle.bezierPts||m.rstyle.linePts||m.rstyle.haystackPts,b=!0,_=0;_<y.length;_++)if(!oC(c,y[_])){b=!1;break}b&&i.push(g)}else(p.edgeType==="haystack"||p.edgeType==="straight")&&i.push(g)}}return i};var ls={};ls.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",u,l,c,f,d,h,p,y;if(r?(c=e.haystackPts[0],f=e.haystackPts[1],d=e.haystackPts[2],h=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,d=e.arrowEndX,h=e.arrowEndY),p=e.midX,y=e.midY,i)u=c-e.segpts[0],l=f-e.segpts[1];else if(a||s||o||n){var v=e.allpts,g=pt(v[0],v[2],v[4],.1),m=pt(v[1],v[3],v[5],.1);u=c-g,l=f-m}else u=c-p,l=f-y;e.srcArrowAngle=Pi(u,l);var p=e.midX,y=e.midY;if(r&&(p=(c+d)/2,y=(f+h)/2),u=d-c,l=h-f,i){var v=e.allpts;if(v.length/2%2===0){var b=v.length/2,_=b-2;u=v[b]-v[_],l=v[b+1]-v[_+1]}else{var b=v.length/2-1,_=b-2,x=b+2;u=v[b]-v[_],l=v[b+1]-v[_+1]}}else if(a||s||o){var v=e.allpts,S=e.ctrlpts,w,T,E,k;if(S.length/2%2===0){var D=v.length/2-1,C=D+2,P=C+2;w=pt(v[D],v[C],v[P],0),T=pt(v[D+1],v[C+1],v[P+1],0),E=pt(v[D],v[C],v[P],1e-4),k=pt(v[D+1],v[C+1],v[P+1],1e-4)}else{var C=v.length/2-1,D=C-2,P=C+2;w=pt(v[D],v[C],v[P],.4999),T=pt(v[D+1],v[C+1],v[P+1],.4999),E=pt(v[D],v[C],v[P],.5),k=pt(v[D+1],v[C+1],v[P+1],.5)}u=E-w,l=k-T}if(e.midtgtArrowAngle=Pi(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,i){var v=e.allpts;if(v.length/2%2!==0){var b=v.length/2-1,x=b+2;u=-(v[x]-v[b]),l=-(v[x+1]-v[b+1])}}if(e.midsrcArrowAngle=Pi(u,l),i)u=d-e.segpts[e.segpts.length-2],l=h-e.segpts[e.segpts.length-1];else if(a||s||o||n){var v=e.allpts,M=v.length,g=pt(v[M-6],v[M-4],v[M-2],.9),m=pt(v[M-5],v[M-3],v[M-1],.9);u=d-g,l=h-m}else u=d-p,l=h-y;e.tgtArrowAngle=Pi(u,l)};ls.getArrowWidth=ls.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var At={};At.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var s=n.source,o=n.target,u=s.position(),l=o.position(),c=s.width(),f=o.width(),d=s.height(),h=o.height(),v=r.pstyle("haystack-radius").value,g=v/2;a.haystackPts=a.allpts=[a.source.x*c*g+u.x,a.source.y*d*g+u.y,a.target.x*f*g+l.x,a.target.y*h*g+l.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};At.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=e.posPts,a=e.intersectionPts,i=e.vectorNormInverse,s=t.pstyle("edge-distances").value,o=t.pstyle("segment-weights"),u=t.pstyle("segment-distances"),l=Math.min(o.pfValue.length,u.pfValue.length);r.edgeType="segments",r.segpts=[];for(var c=0;c<l;c++){var f=o.pfValue[c],d=u.pfValue[c],h=1-f,v=f,g=s==="node-position"?n:a,m={x:g.x1*h+g.x2*v,y:g.y1*h+g.y2*v};r.segpts.push(m.x+i.x*d,m.y+i.y*d)}};At.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),u=o?o.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,f=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var d=r,h=f;n&&(d=0,h=u);var v=l-Math.PI/2,g=v-c/2,m=v+c/2,p=l+"_"+c;d=i[p]===void 0?i[p]=0:++i[p],a.ctrlpts=[s.x+Math.cos(g)*1.4*h*(d/3+1),s.y+Math.sin(g)*1.4*h*(d/3+1),s.x+Math.cos(m)*1.4*h*(d/3+1),s.y+Math.sin(m)*1.4*h*(d/3+1)]};At.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,s=e.tgtPos,o=e.srcW,u=e.srcH,l=e.tgtW,c=e.tgtH,f=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),h=d?d.pfValue[0]:void 0,v=r,g=f;n&&(v=0,g=h);var m=50,p={x:i.x-o/2,y:i.y-u/2},y={x:s.x-l/2,y:s.y-c/2},b={x:Math.min(p.x,y.x),y:Math.min(p.y,y.y)},_=.5,x=Math.max(_,Math.log(o*.01)),S=Math.max(_,Math.log(l*.01));a.ctrlpts=[b.x,b.y-(1+Math.pow(m,1.12)/100)*g*(v/3+1)*x,b.x-(1+Math.pow(m,1.12)/100)*g*(v/3+1)*S,b.y]};At.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};At.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,s=e.vectorNormInverse,o=e.posPts,u=e.intersectionPts,l=t.pstyle("edge-distances").value,c=t.pstyle("control-point-step-size").pfValue,f=t.pstyle("control-point-distances"),d=t.pstyle("control-point-weights"),h=f&&d?Math.min(f.value.length,d.value.length):1,v=f?f.pfValue[0]:void 0,g=d.value[0],m=n;i.edgeType=m?"multibezier":"bezier",i.ctrlpts=[];for(var p=0;p<h;p++){var y=(.5-e.eles.length/2+r)*c*(a?-1:1),b=void 0,_=Qy(y);m&&(v=f?f.pfValue[p]:c,g=d.value[p]),n?b=v:b=v!==void 0?_*v:void 0;var x=b!==void 0?b:y,S=1-g,w=g,T=l==="node-position"?o:u,E={x:T.x1*S+T.x2*w,y:T.y1*S+T.y2*w};i.ctrlpts.push(E.x+s.x*x,E.y+s.y*x)}};At.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",s="rightward",o="downward",u="upward",l="auto",c=e.posPts,f=e.srcW,d=e.srcH,h=e.tgtW,v=e.tgtH,g=t.pstyle("edge-distances").value,m=g!=="node-position",p=t.pstyle("taxi-direction").value,y=p,b=t.pstyle("taxi-turn"),_=b.units==="%",x=b.pfValue,S=x<0,w=t.pstyle("taxi-turn-min-distance").pfValue,T=m?(f+h)/2:0,E=m?(d+v)/2:0,k=c.x2-c.x1,D=c.y2-c.y1,C=function(ee,ve){return ee>0?Math.max(ee-ve,0):Math.min(ee+ve,0)},P=C(k,T),M=C(D,E),N=!1;y===l?p=Math.abs(P)>Math.abs(M)?a:n:y===u||y===o?(p=n,N=!0):(y===i||y===s)&&(p=a,N=!0);var O=p===n,B=O?M:P,F=O?D:k,V=Qy(F),Y=!1;!(N&&(_||S))&&(y===o&&F<0||y===u&&F>0||y===i&&F>0||y===s&&F<0)&&(V*=-1,B=V*Math.abs(B),Y=!0);var z;if(_){var $=x<0?1+x:x;z=$*B}else{var G=x<0?B:0;z=G+x*V}var A=function(ee){return Math.abs(ee)<w||Math.abs(ee)>=Math.abs(B)},I=A(z),q=A(Math.abs(B)-Math.abs(z)),L=I||q;if(L&&!Y)if(O){var H=Math.abs(F)<=d/2,U=Math.abs(k)<=h/2;if(H){var X=(c.x1+c.x2)/2,re=c.y1,ye=c.y2;r.segpts=[X,re,X,ye]}else if(U){var he=(c.y1+c.y2)/2,ne=c.x1,K=c.x2;r.segpts=[ne,he,K,he]}else r.segpts=[c.x1,c.y2]}else{var ue=Math.abs(F)<=f/2,te=Math.abs(D)<=v/2;if(ue){var ie=(c.y1+c.y2)/2,le=c.x1,Te=c.x2;r.segpts=[le,ie,Te,ie]}else if(te){var Se=(c.x1+c.x2)/2,de=c.y1,xe=c.y2;r.segpts=[Se,de,Se,xe]}else r.segpts=[c.x2,c.y1]}else if(O){var Q=c.y1+z+(m?d/2*V:0),R=c.x1,W=c.x2;r.segpts=[R,Q,W,Q]}else{var J=c.x1+z+(m?f/2*V:0),j=c.y1,Z=c.y2;r.segpts=[J,j,J,Z]}};At.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,s=e.srcH,o=e.tgtW,u=e.tgtH,l=e.srcShape,c=e.tgtShape,f=!se(r.startX)||!se(r.startY),d=!se(r.arrowStartX)||!se(r.arrowStartY),h=!se(r.endX)||!se(r.endY),v=!se(r.arrowEndX)||!se(r.arrowEndY),g=3,m=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,p=g*m,y=wn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),b=y<p,_=wn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),x=_<p,S=!1;if(f||d||b){S=!0;var w={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},T=Math.sqrt(w.x*w.x+w.y*w.y),E={x:w.x/T,y:w.y/T},k=Math.max(i,s),D={x:r.ctrlpts[0]+E.x*2*k,y:r.ctrlpts[1]+E.y*2*k},C=l.intersectLine(n.x,n.y,i,s,D.x,D.y,0);b?(r.ctrlpts[0]=r.ctrlpts[0]+E.x*(p-y),r.ctrlpts[1]=r.ctrlpts[1]+E.y*(p-y)):(r.ctrlpts[0]=C[0]+E.x*p,r.ctrlpts[1]=C[1]+E.y*p)}if(h||v||x){S=!0;var P={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},M=Math.sqrt(P.x*P.x+P.y*P.y),N={x:P.x/M,y:P.y/M},O=Math.max(i,s),B={x:r.ctrlpts[0]+N.x*2*O,y:r.ctrlpts[1]+N.y*2*O},F=c.intersectLine(a.x,a.y,o,u,B.x,B.y,0);x?(r.ctrlpts[0]=r.ctrlpts[0]+N.x*(p-_),r.ctrlpts[1]=r.ctrlpts[1]+N.y*(p-_)):(r.ctrlpts[0]=F[0]+N.x*p,r.ctrlpts[1]=F[1]+N.y*p)}S&&this.findEndpoints(t)}};At.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=pt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=pt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments")if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4===0){var i=e.segpts.length/2,s=i-2;e.midX=(e.segpts[s]+e.segpts[i])/2,e.midY=(e.segpts[s+1]+e.segpts[i+1])/2}else{var o=e.segpts.length/2-1;e.midX=e.segpts[o],e.midY=e.segpts[o+1]}};At.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||se(e.startX)&&se(e.startY)&&se(e.endX)&&se(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Ye("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};At.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i={map:new yr,get:function(w){var T=this.map.get(w[0]);return T!=null?T.get(w[1]):null},set:function(w,T){var E=this.map.get(w[0]);E==null&&(E=new yr,this.map.set(w[0],E)),E.set(w[1],T)}},s=[],o=[],u=0;u<t.length;u++){var l=t[u],c=l._private,f=l.pstyle("curve-style").value;if(!(l.removed()||!l.takesUpSpace())){if(f==="haystack"){o.push(l);continue}var d=f==="unbundled-bezier"||f==="segments"||f==="straight"||f==="straight-triangle"||f==="taxi",h=f==="unbundled-bezier"||f==="bezier",v=c.source,g=c.target,m=v.poolIndex(),p=g.poolIndex(),y=[m,p].sort(),b=i.get(y);b==null&&(b={eles:[]},i.set(y,b),s.push(y)),b.eles.push(l),d&&(b.hasUnbundled=!0),h&&(b.hasBezier=!0)}}for(var _=function(w){var T=s[w],E=i.get(T),k=void 0;if(!E.hasUnbundled){var D=E.eles[0].parallelEdges().filter(function(xe){return xe.isBundledBezier()});Md(E.eles),D.forEach(function(xe){return E.eles.push(xe)}),E.eles.sort(function(xe,Q){return xe.poolIndex()-Q.poolIndex()})}var C=E.eles[0],P=C.source(),M=C.target();if(P.poolIndex()>M.poolIndex()){var N=P;P=M,M=N}var O=E.srcPos=P.position(),B=E.tgtPos=M.position(),F=E.srcW=P.outerWidth(),V=E.srcH=P.outerHeight(),Y=E.tgtW=M.outerWidth(),z=E.tgtH=M.outerHeight(),$=E.srcShape=r.nodeShapes[e.getNodeShape(P)],G=E.tgtShape=r.nodeShapes[e.getNodeShape(M)];E.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var A=0;A<E.eles.length;A++){var I=E.eles[A],q=I[0]._private.rscratch,L=I.pstyle("curve-style").value,H=L==="unbundled-bezier"||L==="segments"||L==="taxi",U=!P.same(I.source());if(!E.calculatedIntersection&&P!==M&&(E.hasBezier||E.hasUnbundled)){E.calculatedIntersection=!0;var X=$.intersectLine(O.x,O.y,F,V,B.x,B.y,0),re=E.srcIntn=X,ye=G.intersectLine(B.x,B.y,Y,z,O.x,O.y,0),he=E.tgtIntn=ye,ne=E.intersectionPts={x1:X[0],x2:ye[0],y1:X[1],y2:ye[1]},K=E.posPts={x1:O.x,x2:B.x,y1:O.y,y2:B.y},ue=ye[1]-X[1],te=ye[0]-X[0],ie=Math.sqrt(te*te+ue*ue),le=E.vector={x:te,y:ue},Te=E.vectorNorm={x:le.x/ie,y:le.y/ie},Se={x:-Te.y,y:Te.x};E.nodesOverlap=!se(ie)||G.checkPoint(X[0],X[1],0,Y,z,B.x,B.y)||$.checkPoint(ye[0],ye[1],0,F,V,O.x,O.y),E.vectorNormInverse=Se,k={nodesOverlap:E.nodesOverlap,dirCounts:E.dirCounts,calculatedIntersection:!0,hasBezier:E.hasBezier,hasUnbundled:E.hasUnbundled,eles:E.eles,srcPos:B,tgtPos:O,srcW:Y,srcH:z,tgtW:F,tgtH:V,srcIntn:he,tgtIntn:re,srcShape:G,tgtShape:$,posPts:{x1:K.x2,y1:K.y2,x2:K.x1,y2:K.y1},intersectionPts:{x1:ne.x2,y1:ne.y2,x2:ne.x1,y2:ne.y1},vector:{x:-le.x,y:-le.y},vectorNorm:{x:-Te.x,y:-Te.y},vectorNormInverse:{x:-Se.x,y:-Se.y}}}var de=U?k:E;q.nodesOverlap=de.nodesOverlap,q.srcIntn=de.srcIntn,q.tgtIntn=de.tgtIntn,a&&(P.isParent()||P.isChild()||M.isParent()||M.isChild())&&(P.parents().anySame(M)||M.parents().anySame(P)||P.same(M)&&P.isParent())?e.findCompoundLoopPoints(I,de,A,H):P===M?e.findLoopPoints(I,de,A,H):L==="segments"?e.findSegmentsPoints(I,de):L==="taxi"?e.findTaxiPoints(I,de):L==="straight"||!H&&E.eles.length%2===1&&A===Math.floor(E.eles.length/2)?e.findStraightEdgePoints(I):e.findBezierPoints(I,de,A,H,U),e.findEndpoints(I),e.tryToCorrectInvalidPoints(I,de),e.checkForInvalidEdgeWarning(I),e.storeAllpts(I),e.storeEdgeProjections(I),e.calculateArrowAngles(I),e.recalculateEdgeLabelProjections(I),e.calculateLabelAngles(I)}},x=0;x<s.length;x++)_(x);this.findHaystackPoints(o)}};function z1(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}At.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),z1(e.segpts)};At.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),z1(e.ctrlpts)};At.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var pi={};pi.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight();if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*a),e.units[1]==="%"&&(s[1]=s[1]*i),s[0]+=n.x,s[1]+=n.y,s}else{var o=e.pfValue[0];o=-Math.PI/2+o;var u=2*Math.max(a,i),l=[n.x+Math.cos(o)*u,n.y+Math.sin(o)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,l[0],l[1],0)}};pi.findEndpoints=function(t){var e=this,r,n=t.source()[0],a=t.target()[0],i=n.position(),s=a.position(),o=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,l=t.pstyle("target-distance-from-node").pfValue,c=t.pstyle("source-distance-from-node").pfValue,f=t.pstyle("curve-style").value,d=t._private.rscratch,h=d.edgeType,v=f==="taxi",g=h==="self"||h==="compound",m=h==="bezier"||h==="multibezier"||g,p=h!=="bezier",y=h==="straight"||h==="segments",b=h==="segments",_=m||p||y,x=g||v,S=t.pstyle("source-endpoint"),w=x?"outside-to-node":S.value,T=t.pstyle("target-endpoint"),E=x?"outside-to-node":T.value;d.srcManEndpt=S,d.tgtManEndpt=T;var k,D,C,P;if(m){var M=[d.ctrlpts[0],d.ctrlpts[1]],N=p?[d.ctrlpts[d.ctrlpts.length-2],d.ctrlpts[d.ctrlpts.length-1]]:M;k=N,D=M}else if(y){var O=b?d.segpts.slice(0,2):[s.x,s.y],B=b?d.segpts.slice(d.segpts.length-2):[i.x,i.y];k=B,D=O}if(E==="inside-to-node")r=[s.x,s.y];else if(T.units)r=this.manualEndptToPx(a,T);else if(E==="outside-to-line")r=d.tgtIntn;else if(E==="outside-to-node"||E==="outside-to-node-or-label"?C=k:(E==="outside-to-line"||E==="outside-to-line-or-label")&&(C=[i.x,i.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(s.x,s.y,a.outerWidth(),a.outerHeight(),C[0],C[1],0),E==="outside-to-node-or-label"||E==="outside-to-line-or-label"){var F=a._private.rscratch,V=F.labelWidth,Y=F.labelHeight,z=F.labelX,$=F.labelY,G=V/2,A=Y/2,I=a.pstyle("text-valign").value;I==="top"?$-=A:I==="bottom"&&($+=A);var q=a.pstyle("text-halign").value;q==="left"?z-=G:q==="right"&&(z+=G);var L=Xa(C[0],C[1],[z-G,$-A,z+G,$-A,z+G,$+A,z-G,$+A],s.x,s.y);if(L.length>0){var H=i,U=vn(H,$n(r)),X=vn(H,$n(L)),re=U;if(X<U&&(r=L,re=X),L.length>2){var ye=vn(H,{x:L[2],y:L[3]});ye<re&&(r=[L[2],L[3]])}}}var he=Oi(r,k,e.arrowShapes[o].spacing(t)+l),ne=Oi(r,k,e.arrowShapes[o].gap(t)+l);if(d.endX=ne[0],d.endY=ne[1],d.arrowEndX=he[0],d.arrowEndY=he[1],w==="inside-to-node")r=[i.x,i.y];else if(S.units)r=this.manualEndptToPx(n,S);else if(w==="outside-to-line")r=d.srcIntn;else if(w==="outside-to-node"||w==="outside-to-node-or-label"?P=D:(w==="outside-to-line"||w==="outside-to-line-or-label")&&(P=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),P[0],P[1],0),w==="outside-to-node-or-label"||w==="outside-to-line-or-label"){var K=n._private.rscratch,ue=K.labelWidth,te=K.labelHeight,ie=K.labelX,le=K.labelY,Te=ue/2,Se=te/2,de=n.pstyle("text-valign").value;de==="top"?le-=Se:de==="bottom"&&(le+=Se);var xe=n.pstyle("text-halign").value;xe==="left"?ie-=Te:xe==="right"&&(ie+=Te);var Q=Xa(P[0],P[1],[ie-Te,le-Se,ie+Te,le-Se,ie+Te,le+Se,ie-Te,le+Se],i.x,i.y);if(Q.length>0){var R=s,W=vn(R,$n(r)),J=vn(R,$n(Q)),j=W;if(J<W&&(r=[Q[0],Q[1]],j=J),Q.length>2){var Z=vn(R,{x:Q[2],y:Q[3]});Z<j&&(r=[Q[2],Q[3]])}}}var we=Oi(r,D,e.arrowShapes[u].spacing(t)+c),ee=Oi(r,D,e.arrowShapes[u].gap(t)+c);d.startX=ee[0],d.startY=ee[1],d.arrowStartX=we[0],d.arrowStartY=we[1],_&&(!se(d.startX)||!se(d.startY)||!se(d.endX)||!se(d.endY)?d.badLine=!0:d.badLine=!1)};pi.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};pi.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Vd={};function z4(t,e,r){for(var n=function(l,c,f,d){return pt(l,c,f,d)},a=e._private,i=a.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];i.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}Vd.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)z4(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Vd.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Sr={};Sr.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!rn(e)){var r,n,a=t._private,i=t.width(),s=t.height(),o=t.padding(),u=t.position(),l=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,f=a.rscratch,d=a.rstyle;switch(l){case"left":r=u.x-i/2-o;break;case"right":r=u.x+i/2+o;break;default:r=u.x}switch(c){case"top":n=u.y-s/2-o;break;case"bottom":n=u.y+s/2+o;break;default:n=u.y}f.labelX=r,f.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var V1=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},H1=function(e,r){var n=r.x-e.x,a=r.y-e.y;return V1(n,a)},V4=function(e,r,n,a){var i=Ka(0,a-.001,1),s=Ka(0,a+.001,1),o=Gn(e,r,n,i),u=Gn(e,r,n,s);return H1(o,u)};Sr.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var s=function(f,d,h){Zr(r.rscratch,f,d,h),Zr(r.rstyle,f,d,h)};s("labelX",null,e.x),s("labelY",null,e.y);var o=V1(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var u=function c(){if(c.cache)return c.cache;for(var f=[],d=0;d+5<n.allpts.length;d+=4){var h={x:n.allpts[d],y:n.allpts[d+1]},v={x:n.allpts[d+2],y:n.allpts[d+3]},g={x:n.allpts[d+4],y:n.allpts[d+5]};f.push({p0:h,p1:v,p2:g,startDist:0,length:0,segments:[]})}var m=r.rstyle.bezierPts,p=a.bezierProjPcts.length;function y(w,T,E,k,D){var C=wn(T,E),P=w.segments[w.segments.length-1],M={p0:T,p1:E,t0:k,t1:D,startDist:P?P.startDist+P.length:0,length:C};w.segments.push(M),w.length+=C}for(var b=0;b<f.length;b++){var _=f[b],x=f[b-1];x&&(_.startDist=x.startDist+x.length),y(_,_.p0,m[b*p],0,a.bezierProjPcts[0]);for(var S=0;S<p-1;S++)y(_,m[b*p+S],m[b*p+S+1],a.bezierProjPcts[S],a.bezierProjPcts[S+1]);y(_,m[b*p+p-1],_.p2,a.bezierProjPcts[p-1],1)}return c.cache=f},l=function(f){var d,h=f==="source";if(i[f]){var v=t.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var g=u(),m,p=0,y=0,b=0;b<g.length;b++){for(var _=g[h?b:g.length-1-b],x=0;x<_.segments.length;x++){var S=_.segments[h?x:_.segments.length-1-x],w=b===g.length-1&&x===_.segments.length-1;if(p=y,y+=S.length,y>=v||w){m={cp:_,segment:S};break}}if(m)break}var T=m.cp,E=m.segment,k=(v-p)/E.length,D=E.t1-E.t0,C=h?E.t0+D*k:E.t1-D*k;C=Ka(0,C,1),e=Gn(T.p0,T.p1,T.p2,C),d=V4(T.p0,T.p1,T.p2,C);break}case"straight":case"segments":case"haystack":{for(var P=0,M,N,O,B,F=n.allpts.length,V=0;V+3<F&&(h?(O={x:n.allpts[V],y:n.allpts[V+1]},B={x:n.allpts[V+2],y:n.allpts[V+3]}):(O={x:n.allpts[F-2-V],y:n.allpts[F-1-V]},B={x:n.allpts[F-4-V],y:n.allpts[F-3-V]}),M=wn(O,B),N=P,P+=M,!(P>=v));V+=2);var Y=v-N,z=Y/M;z=Ka(0,z,1),e=rC(O,B,z),d=H1(O,B);break}}s("labelX",f,e.x),s("labelY",f,e.y),s("labelAutoAngle",f,d)}};l("source"),l("target"),this.applyLabelDimensions(t)}};Sr.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Sr.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=this.calculateLabelDimensions(t,n),i=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,o=or(r.rscratch,"labelWrapCachedLines",e)||[],u=s!=="wrap"?1:Math.max(o.length,1),l=a.height/u,c=l*i,f=a.width,d=a.height+(u-1)*(i-1)*l;Zr(r.rstyle,"labelWidth",e,f),Zr(r.rscratch,"labelWidth",e,f),Zr(r.rstyle,"labelHeight",e,d),Zr(r.rscratch,"labelHeight",e,d),Zr(r.rscratch,"labelLineHeight",e,c)};Sr.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,s=function(Y,z){return z?(Zr(r.rscratch,Y,e,z),z):or(r.rscratch,Y,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var u=s("labelKey");if(u!=null&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var l="​",c=a.split(`
`),f=t.pstyle("text-max-width").pfValue,d=t.pstyle("text-overflow-wrap").value,h=d==="anywhere",v=[],g=/[\s\u200b]+/,m=h?"":" ",p=0;p<c.length;p++){var y=c[p],b=this.calculateLabelDimensions(t,y),_=b.width;if(h){var x=y.split("").join(l);y=x}if(_>f){for(var S=y.split(g),w="",T=0;T<S.length;T++){var E=S[T],k=w.length===0?E:w+m+E,D=this.calculateLabelDimensions(t,k),C=D.width;C<=f?w+=E+m:(w&&v.push(w),w=E+m)}w.match(/^[\s\u200b]+$/)||v.push(w)}else v.push(y)}s("labelWrapCachedLines",v),a=s("labelWrapCachedText",v.join(`
`)),s("labelWrapKey",u)}else if(o==="ellipsis"){var P=t.pstyle("text-max-width").pfValue,M="",N="…",O=!1;if(this.calculateLabelDimensions(t,a).width<P)return a;for(var B=0;B<a.length;B++){var F=this.calculateLabelDimensions(t,M+a[B]+N).width;if(F>P)break;M+=a[B],B===a.length-1&&(O=!0)}return O||(M+=N),M}return a};Sr.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Sr.calculateLabelDimensions=function(t,e){var r=this,n=_n(e,t._private.labelDimsKey),a=r.labelDimCache||(r.labelDimCache=[]),i=a[n];if(i!=null)return i;var s=0,o=t.pstyle("font-style").strValue,u=t.pstyle("font-size").pfValue,l=t.pstyle("font-family").strValue,c=t.pstyle("font-weight").strValue,f=this.labelCalcCanvas,d=this.labelCalcCanvasContext;if(!f){f=this.labelCalcCanvas=document.createElement("canvas"),d=this.labelCalcCanvasContext=f.getContext("2d");var h=f.style;h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none"}d.font="".concat(o," ").concat(c," ").concat(u,"px ").concat(l);for(var v=0,g=0,m=e.split(`
`),p=0;p<m.length;p++){var y=m[p],b=d.measureText(y),_=Math.ceil(b.width),x=u;v=Math.max(_,v),g+=x}return v+=s,g+=s,a[n]={width:v,height:g}};Sr.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",s=t.pstyle(i+"text-rotation"),o=s.strValue;return o==="none"?0:a&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue};Sr.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Y1={},Vv=28,Hv=!1;Y1.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<Vv||t.height()<Vv))return Hv||(Ye("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Hv=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var zs={};zs.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var u=0;u<s.length;u++){var l=s[u],c=l._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var a=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],c=l._private.rstyle;l.isNode()&&!c.cleanConnected&&(n(l.connectedEdges()),c.cleanConnected=!0)}if(o)for(var f=0;f<o.length;f++){var d=o[f];d(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};zs.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};zs.recalculateRenderedStyle=function(t,e){var r=function(_){return _._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var s=t[i],o=s._private,u=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(u.clean=!1),!(e&&u.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?a.push(s):n.push(s),u.clean=!0)}for(var l=0;l<a.length;l++){var c=a[l],f=c._private,d=f.rstyle,h=c.position();this.recalculateNodeLabelProjection(c),d.nodeX=h.x,d.nodeY=h.y,d.nodeW=c.pstyle("width").pfValue,d.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var g=n[v],m=g._private,p=m.rstyle,y=m.rscratch;p.srcX=y.arrowStartX,p.srcY=y.arrowStartY,p.tgtX=y.arrowEndX,p.tgtY=y.arrowEndY,p.midX=y.midX,p.midY=y.midY,p.labelAngle=y.labelAngle,p.sourceLabelAngle=y.sourceLabelAngle,p.targetLabelAngle=y.targetLabelAngle}}};var Vs={};Vs.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Vs.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Vs.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(M1),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var $1={};[Mn,ls,At,pi,Vd,Sr,Y1,zs,Vs].forEach(function(t){be($1,t)});var W1={};W1.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var s=i.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",u=t.substring(0,o.length).toLowerCase()===o;return u||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var ya={};ya.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]),i=this.binder(t);return i.on.apply(i,a)};ya.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||oT(t);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var s=function(u,l,c){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:s,addEventListener:s,addListener:s,bind:s}};ya.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};ya.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};ya.load=function(){var t=this,e=t.cy.window(),r=function(R){return R.selected()},n=function(R,W,J,j){R==null&&(R=t.cy);for(var Z=0;Z<W.length;Z++){var we=W[Z];R.emit({originalEvent:J,type:we,position:j})}},a=function(R){return R.shiftKey||R.metaKey||R.ctrlKey},i=function(R,W){var J=!0;if(t.cy.hasCompoundNodes()&&R&&R.pannable())for(var j=0;W&&j<W.length;j++){var R=W[j];if(R.isNode()&&R.isParent()&&!R.pannable()){J=!1;break}}else J=!0;return J},s=function(R){R[0]._private.grabbed=!0},o=function(R){R[0]._private.grabbed=!1},u=function(R){R[0]._private.rscratch.inDragLayer=!0},l=function(R){R[0]._private.rscratch.inDragLayer=!1},c=function(R){R[0]._private.rscratch.isGrabTarget=!0},f=function(R){R[0]._private.rscratch.isGrabTarget=!1},d=function(R,W){var J=W.addToList,j=J.has(R);!j&&R.grabbable()&&!R.locked()&&(J.merge(R),s(R))},h=function(R,W){if(R.cy().hasCompoundNodes()&&!(W.inDragLayer==null&&W.addToList==null)){var J=R.descendants();W.inDragLayer&&(J.forEach(u),J.connectedEdges().forEach(u)),W.addToList&&d(J,W)}},v=function(R,W){W=W||{};var J=R.cy().hasCompoundNodes();W.inDragLayer&&(R.forEach(u),R.neighborhood().stdFilter(function(j){return!J||j.isEdge()}).forEach(u)),W.addToList&&R.forEach(function(j){d(j,W)}),h(R,W),p(R,{inDragLayer:W.inDragLayer}),t.updateCachedGrabbedEles()},g=v,m=function(R){R&&(t.getCachedZSortedEles().forEach(function(W){o(W),l(W),f(W)}),t.updateCachedGrabbedEles())},p=function(R,W){if(!(W.inDragLayer==null&&W.addToList==null)&&R.cy().hasCompoundNodes()){var J=R.ancestors().orphans();if(!J.same(R)){var j=J.descendants().spawnSelf().merge(J).unmerge(R).unmerge(R.descendants()),Z=j.connectedEdges();W.inDragLayer&&(Z.forEach(u),j.forEach(u)),W.addToList&&j.forEach(function(we){d(we,W)})}}},y=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},b=typeof MutationObserver<"u",_=typeof ResizeObserver<"u";b?(t.removeObserver=new MutationObserver(function(Q){for(var R=0;R<Q.length;R++){var W=Q[R],J=W.removedNodes;if(J)for(var j=0;j<J.length;j++){var Z=J[j];if(Z===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Q){t.destroy()});var x=Ds.default(function(){t.cy.resize()},100);b&&(t.styleObserver=new MutationObserver(x),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",x),_&&(t.resizeObserver=new ResizeObserver(x),t.resizeObserver.observe(t.container));var S=function(R,W){for(;R!=null;)W(R),R=R.parentNode},w=function(){t.invalidateContainerClientCoordsCache()};S(t.container,function(Q){t.registerBinding(Q,"transitionend",w),t.registerBinding(Q,"animationend",w),t.registerBinding(Q,"scroll",w)}),t.registerBinding(t.container,"contextmenu",function(Q){Q.preventDefault()});var T=function(){return t.selection[4]!==0},E=function(R){for(var W=t.findContainerClientCoords(),J=W[0],j=W[1],Z=W[2],we=W[3],ee=R.touches?R.touches:[R],ve=!1,Ce=0;Ce<ee.length;Ce++){var Le=ee[Ce];if(J<=Le.clientX&&Le.clientX<=J+Z&&j<=Le.clientY&&Le.clientY<=j+we){ve=!0;break}}if(!ve)return!1;for(var De=t.container,Ve=R.target,Ee=Ve.parentNode,Me=!1;Ee;){if(Ee===De){Me=!0;break}Ee=Ee.parentNode}return!!Me};t.registerBinding(t.container,"mousedown",function(R){if(E(R)){R.preventDefault(),y(),t.hoverData.capture=!0,t.hoverData.which=R.which;var W=t.cy,J=[R.clientX,R.clientY],j=t.projectIntoViewport(J[0],J[1]),Z=t.selection,we=t.findNearestElements(j[0],j[1],!0,!1),ee=we[0],ve=t.dragData.possibleDragElements;t.hoverData.mdownPos=j,t.hoverData.mdownGPos=J;var Ce=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var rt=t.hoverData.down;rt?rt.emit({originalEvent:R,type:"taphold",position:{x:j[0],y:j[1]}}):W.emit({originalEvent:R,type:"taphold",position:{x:j[0],y:j[1]}})}},t.tapholdDuration)};if(R.which==3){t.hoverData.cxtStarted=!0;var Le={originalEvent:R,type:"cxttapstart",position:{x:j[0],y:j[1]}};ee?(ee.activate(),ee.emit(Le),t.hoverData.down=ee):W.emit(Le),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(R.which==1){ee&&ee.activate();{if(ee!=null&&t.nodeIsGrabbable(ee)){var De=function(rt){return{originalEvent:R,type:rt,position:{x:j[0],y:j[1]}}},Ve=function(rt){rt.emit(De("grab"))};if(c(ee),!ee.selected())ve=t.dragData.possibleDragElements=W.collection(),g(ee,{addToList:ve}),ee.emit(De("grabon")).emit(De("grab"));else{ve=t.dragData.possibleDragElements=W.collection();var Ee=W.$(function(Me){return Me.isNode()&&Me.selected()&&t.nodeIsGrabbable(Me)});v(Ee,{addToList:ve}),ee.emit(De("grabon")),Ee.forEach(Ve)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ee,t.hoverData.downs=we,t.hoverData.downTime=new Date().getTime()}n(ee,["mousedown","tapstart","vmousedown"],R,{x:j[0],y:j[1]}),ee==null?(Z[4]=1,t.data.bgActivePosistion={x:j[0],y:j[1]},t.redrawHint("select",!0),t.redraw()):ee.pannable()&&(Z[4]=1),Ce()}Z[0]=Z[2]=j[0],Z[1]=Z[3]=j[1]}},!1),t.registerBinding(e,"mousemove",function(R){var W=t.hoverData.capture;if(!(!W&&!E(R))){var J=!1,j=t.cy,Z=j.zoom(),we=[R.clientX,R.clientY],ee=t.projectIntoViewport(we[0],we[1]),ve=t.hoverData.mdownPos,Ce=t.hoverData.mdownGPos,Le=t.selection,De=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(De=t.findNearestElement(ee[0],ee[1],!0,!1));var Ve=t.hoverData.last,Ee=t.hoverData.down,Me=[ee[0]-Le[2],ee[1]-Le[3]],rt=t.dragData.possibleDragElements,gt;if(Ce){var tr=we[0]-Ce[0],rr=tr*tr,mt=we[1]-Ce[1],Gt=mt*mt,Pt=rr+Gt;t.hoverData.isOverThresholdDrag=gt=Pt>=t.desktopTapThreshold2}var Cr=a(R);gt&&(t.hoverData.tapholdCancelled=!0);var Wr=function(){var pr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];pr.length===0?(pr.push(Me[0]),pr.push(Me[1])):(pr[0]+=Me[0],pr[1]+=Me[1])};J=!0,n(De,["mousemove","vmousemove","tapdrag"],R,{x:ee[0],y:ee[1]});var An=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||j.emit({originalEvent:R,type:"boxstart",position:{x:ee[0],y:ee[1]}}),Le[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(gt){var fn={originalEvent:R,type:"cxtdrag",position:{x:ee[0],y:ee[1]}};Ee?Ee.emit(fn):j.emit(fn),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||De!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:R,type:"cxtdragout",position:{x:ee[0],y:ee[1]}}),t.hoverData.cxtOver=De,De&&De.emit({originalEvent:R,type:"cxtdragover",position:{x:ee[0],y:ee[1]}}))}}else if(t.hoverData.dragging){if(J=!0,j.panningEnabled()&&j.userPanningEnabled()){var In;if(t.hoverData.justStartedPan){var ki=t.hoverData.mdownPos;In={x:(ee[0]-ki[0])*Z,y:(ee[1]-ki[1])*Z},t.hoverData.justStartedPan=!1}else In={x:Me[0]*Z,y:Me[1]*Z};j.panBy(In),j.emit("dragpan"),t.hoverData.dragged=!0}ee=t.projectIntoViewport(R.clientX,R.clientY)}else if(Le[4]==1&&(Ee==null||Ee.pannable())){if(gt){if(!t.hoverData.dragging&&j.boxSelectionEnabled()&&(Cr||!j.panningEnabled()||!j.userPanningEnabled()))An();else if(!t.hoverData.selecting&&j.panningEnabled()&&j.userPanningEnabled()){var dn=i(Ee,t.hoverData.downs);dn&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Le[4]=0,t.data.bgActivePosistion=$n(ve),t.redrawHint("select",!0),t.redraw())}Ee&&Ee.pannable()&&Ee.active()&&Ee.unactivate()}}else{if(Ee&&Ee.pannable()&&Ee.active()&&Ee.unactivate(),(!Ee||!Ee.grabbed())&&De!=Ve&&(Ve&&n(Ve,["mouseout","tapdragout"],R,{x:ee[0],y:ee[1]}),De&&n(De,["mouseover","tapdragover"],R,{x:ee[0],y:ee[1]}),t.hoverData.last=De),Ee)if(gt){if(j.boxSelectionEnabled()&&Cr)Ee&&Ee.grabbed()&&(m(rt),Ee.emit("freeon"),rt.emit("free"),t.dragData.didDrag&&(Ee.emit("dragfreeon"),rt.emit("dragfree"))),An();else if(Ee&&Ee.grabbed()&&t.nodeIsDraggable(Ee)){var It=!t.dragData.didDrag;It&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||v(rt,{inDragLayer:!0});var xt={x:0,y:0};if(se(Me[0])&&se(Me[1])&&(xt.x+=Me[0],xt.y+=Me[1],It)){var Bt=t.hoverData.dragDelta;Bt&&se(Bt[0])&&se(Bt[1])&&(xt.x+=Bt[0],xt.y+=Bt[1])}t.hoverData.draggingEles=!0,rt.silentShift(xt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Wr();J=!0}if(Le[2]=ee[0],Le[3]=ee[1],J)return R.stopPropagation&&R.stopPropagation(),R.preventDefault&&R.preventDefault(),!1}},!1);var k,D,C;t.registerBinding(e,"mouseup",function(R){var W=t.hoverData.capture;if(W){t.hoverData.capture=!1;var J=t.cy,j=t.projectIntoViewport(R.clientX,R.clientY),Z=t.selection,we=t.findNearestElement(j[0],j[1],!0,!1),ee=t.dragData.possibleDragElements,ve=t.hoverData.down,Ce=a(R);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,ve&&ve.unactivate(),t.hoverData.which===3){var Le={originalEvent:R,type:"cxttapend",position:{x:j[0],y:j[1]}};if(ve?ve.emit(Le):J.emit(Le),!t.hoverData.cxtDragged){var De={originalEvent:R,type:"cxttap",position:{x:j[0],y:j[1]}};ve?ve.emit(De):J.emit(De)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(n(we,["mouseup","tapend","vmouseup"],R,{x:j[0],y:j[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(n(ve,["click","tap","vclick"],R,{x:j[0],y:j[1]}),D=!1,R.timeStamp-C<=J.multiClickDebounceTime()?(k&&clearTimeout(k),D=!0,C=null,n(ve,["dblclick","dbltap","vdblclick"],R,{x:j[0],y:j[1]})):(k=setTimeout(function(){D||n(ve,["oneclick","onetap","voneclick"],R,{x:j[0],y:j[1]})},J.multiClickDebounceTime()),C=R.timeStamp)),ve==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(R)&&(J.$(r).unselect(["tapunselect"]),ee.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ee=J.collection()),we==ve&&!t.dragData.didDrag&&!t.hoverData.selecting&&we!=null&&we._private.selectable&&(t.hoverData.dragging||(J.selectionType()==="additive"||Ce?we.selected()?we.unselect(["tapunselect"]):we.select(["tapselect"]):Ce||(J.$(r).unmerge(we).unselect(["tapunselect"]),we.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Ve=J.collection(t.getAllInBox(Z[0],Z[1],Z[2],Z[3]));t.redrawHint("select",!0),Ve.length>0&&t.redrawHint("eles",!0),J.emit({type:"boxend",originalEvent:R,position:{x:j[0],y:j[1]}});var Ee=function(gt){return gt.selectable()&&!gt.selected()};J.selectionType()==="additive"||Ce||J.$(r).unmerge(Ve).unselect(),Ve.emit("box").stdFilter(Ee).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!Z[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Me=ve&&ve.grabbed();m(ee),Me&&(ve.emit("freeon"),ee.emit("free"),t.dragData.didDrag&&(ve.emit("dragfreeon"),ee.emit("dragfree")))}}Z[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1);var P=function(R){if(!t.scrollingPage){var W=t.cy,J=W.zoom(),j=W.pan(),Z=t.projectIntoViewport(R.clientX,R.clientY),we=[Z[0]*J+j.x,Z[1]*J+j.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||T()){R.preventDefault();return}if(W.panningEnabled()&&W.userPanningEnabled()&&W.zoomingEnabled()&&W.userZoomingEnabled()){R.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ee;R.deltaY!=null?ee=R.deltaY/-250:R.wheelDeltaY!=null?ee=R.wheelDeltaY/1e3:ee=R.wheelDelta/1e3,ee=ee*t.wheelSensitivity;var ve=R.deltaMode===1;ve&&(ee*=33);var Ce=W.zoom()*Math.pow(10,ee);R.type==="gesturechange"&&(Ce=t.gestureStartZoom*R.scale),W.zoom({level:Ce,renderedPosition:{x:we[0],y:we[1]}}),W.emit(R.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",P,!0),t.registerBinding(e,"scroll",function(R){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(R){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||R.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Q){t.hasTouchStarted||P(Q)},!0),t.registerBinding(t.container,"mouseout",function(R){var W=t.projectIntoViewport(R.clientX,R.clientY);t.cy.emit({originalEvent:R,type:"mouseout",position:{x:W[0],y:W[1]}})},!1),t.registerBinding(t.container,"mouseover",function(R){var W=t.projectIntoViewport(R.clientX,R.clientY);t.cy.emit({originalEvent:R,type:"mouseover",position:{x:W[0],y:W[1]}})},!1);var M,N,O,B,F,V,Y,z,$,G,A,I,q,L=function(R,W,J,j){return Math.sqrt((J-R)*(J-R)+(j-W)*(j-W))},H=function(R,W,J,j){return(J-R)*(J-R)+(j-W)*(j-W)},U;t.registerBinding(t.container,"touchstart",U=function(R){if(t.hasTouchStarted=!0,!!E(R)){y(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var W=t.cy,J=t.touchData.now,j=t.touchData.earlier;if(R.touches[0]){var Z=t.projectIntoViewport(R.touches[0].clientX,R.touches[0].clientY);J[0]=Z[0],J[1]=Z[1]}if(R.touches[1]){var Z=t.projectIntoViewport(R.touches[1].clientX,R.touches[1].clientY);J[2]=Z[0],J[3]=Z[1]}if(R.touches[2]){var Z=t.projectIntoViewport(R.touches[2].clientX,R.touches[2].clientY);J[4]=Z[0],J[5]=Z[1]}if(R.touches[1]){t.touchData.singleTouchMoved=!0,m(t.dragData.touchDragEles);var we=t.findContainerClientCoords();$=we[0],G=we[1],A=we[2],I=we[3],M=R.touches[0].clientX-$,N=R.touches[0].clientY-G,O=R.touches[1].clientX-$,B=R.touches[1].clientY-G,q=0<=M&&M<=A&&0<=O&&O<=A&&0<=N&&N<=I&&0<=B&&B<=I;var ee=W.pan(),ve=W.zoom();F=L(M,N,O,B),V=H(M,N,O,B),Y=[(M+O)/2,(N+B)/2],z=[(Y[0]-ee.x)/ve,(Y[1]-ee.y)/ve];var Ce=200,Le=Ce*Ce;if(V<Le&&!R.touches[2]){var De=t.findNearestElement(J[0],J[1],!0,!0),Ve=t.findNearestElement(J[2],J[3],!0,!0);De&&De.isNode()?(De.activate().emit({originalEvent:R,type:"cxttapstart",position:{x:J[0],y:J[1]}}),t.touchData.start=De):Ve&&Ve.isNode()?(Ve.activate().emit({originalEvent:R,type:"cxttapstart",position:{x:J[0],y:J[1]}}),t.touchData.start=Ve):W.emit({originalEvent:R,type:"cxttapstart",position:{x:J[0],y:J[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(R.touches[2])W.boxSelectionEnabled()&&R.preventDefault();else if(!R.touches[1]){if(R.touches[0]){var Ee=t.findNearestElements(J[0],J[1],!0,!0),Me=Ee[0];if(Me!=null&&(Me.activate(),t.touchData.start=Me,t.touchData.starts=Ee,t.nodeIsGrabbable(Me))){var rt=t.dragData.touchDragEles=W.collection(),gt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Me.selected()?(gt=W.$(function(Pt){return Pt.selected()&&t.nodeIsGrabbable(Pt)}),v(gt,{addToList:rt})):g(Me,{addToList:rt}),c(Me);var tr=function(Cr){return{originalEvent:R,type:Cr,position:{x:J[0],y:J[1]}}};Me.emit(tr("grabon")),gt?gt.forEach(function(Pt){Pt.emit(tr("grab"))}):Me.emit(tr("grab"))}n(Me,["touchstart","tapstart","vmousedown"],R,{x:J[0],y:J[1]}),Me==null&&(t.data.bgActivePosistion={x:Z[0],y:Z[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&n(t.touchData.start,["taphold"],R,{x:J[0],y:J[1]})},t.tapholdDuration)}}if(R.touches.length>=1){for(var rr=t.touchData.startPosition=[null,null,null,null,null,null],mt=0;mt<J.length;mt++)rr[mt]=j[mt]=J[mt];var Gt=R.touches[0];t.touchData.startGPosition=[Gt.clientX,Gt.clientY]}}},!1);var X;t.registerBinding(window,"touchmove",X=function(R){var W=t.touchData.capture;if(!(!W&&!E(R))){var J=t.selection,j=t.cy,Z=t.touchData.now,we=t.touchData.earlier,ee=j.zoom();if(R.touches[0]){var ve=t.projectIntoViewport(R.touches[0].clientX,R.touches[0].clientY);Z[0]=ve[0],Z[1]=ve[1]}if(R.touches[1]){var ve=t.projectIntoViewport(R.touches[1].clientX,R.touches[1].clientY);Z[2]=ve[0],Z[3]=ve[1]}if(R.touches[2]){var ve=t.projectIntoViewport(R.touches[2].clientX,R.touches[2].clientY);Z[4]=ve[0],Z[5]=ve[1]}var Ce=t.touchData.startGPosition,Le;if(W&&R.touches[0]&&Ce){for(var De=[],Ve=0;Ve<Z.length;Ve++)De[Ve]=Z[Ve]-we[Ve];var Ee=R.touches[0].clientX-Ce[0],Me=Ee*Ee,rt=R.touches[0].clientY-Ce[1],gt=rt*rt,tr=Me+gt;Le=tr>=t.touchTapThreshold2}if(W&&t.touchData.cxt){R.preventDefault();var rr=R.touches[0].clientX-$,mt=R.touches[0].clientY-G,Gt=R.touches[1].clientX-$,Pt=R.touches[1].clientY-G,Cr=H(rr,mt,Gt,Pt),Wr=Cr/V,An=150,fn=An*An,In=1.5,ki=In*In;if(Wr>=ki||Cr>=fn){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var dn={originalEvent:R,type:"cxttapend",position:{x:Z[0],y:Z[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(dn),t.touchData.start=null):j.emit(dn)}}if(W&&t.touchData.cxt){var dn={originalEvent:R,type:"cxtdrag",position:{x:Z[0],y:Z[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(dn):j.emit(dn),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var It=t.findNearestElement(Z[0],Z[1],!0,!0);(!t.touchData.cxtOver||It!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:R,type:"cxtdragout",position:{x:Z[0],y:Z[1]}}),t.touchData.cxtOver=It,It&&It.emit({originalEvent:R,type:"cxtdragover",position:{x:Z[0],y:Z[1]}}))}else if(W&&R.touches[2]&&j.boxSelectionEnabled())R.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||j.emit({originalEvent:R,type:"boxstart",position:{x:Z[0],y:Z[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,J[4]=1,!J||J.length===0||J[0]===void 0?(J[0]=(Z[0]+Z[2]+Z[4])/3,J[1]=(Z[1]+Z[3]+Z[5])/3,J[2]=(Z[0]+Z[2]+Z[4])/3+1,J[3]=(Z[1]+Z[3]+Z[5])/3+1):(J[2]=(Z[0]+Z[2]+Z[4])/3,J[3]=(Z[1]+Z[3]+Z[5])/3),t.redrawHint("select",!0),t.redraw();else if(W&&R.touches[1]&&!t.touchData.didSelect&&j.zoomingEnabled()&&j.panningEnabled()&&j.userZoomingEnabled()&&j.userPanningEnabled()){R.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var xt=t.dragData.touchDragEles;if(xt){t.redrawHint("drag",!0);for(var Bt=0;Bt<xt.length;Bt++){var Di=xt[Bt]._private;Di.grabbed=!1,Di.rscratch.inDragLayer=!1}}var pr=t.touchData.start,rr=R.touches[0].clientX-$,mt=R.touches[0].clientY-G,Gt=R.touches[1].clientX-$,Pt=R.touches[1].clientY-G,Ch=L(rr,mt,Gt,Pt),u2=Ch/F;if(q){var l2=rr-M,c2=mt-N,f2=Gt-O,d2=Pt-B,h2=(l2+f2)/2,v2=(c2+d2)/2,Ta=j.zoom(),go=Ta*u2,Mi=j.pan(),kh=z[0]*Ta+Mi.x,Dh=z[1]*Ta+Mi.y,p2={x:-go/Ta*(kh-Mi.x-h2)+kh,y:-go/Ta*(Dh-Mi.y-v2)+Dh};if(pr&&pr.active()){var xt=t.dragData.touchDragEles;m(xt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),pr.unactivate().emit("freeon"),xt.emit("free"),t.dragData.didDrag&&(pr.emit("dragfreeon"),xt.emit("dragfree"))}j.viewport({zoom:go,pan:p2,cancelOnFailedZoom:!0}),j.emit("pinchzoom"),F=Ch,M=rr,N=mt,O=Gt,B=Pt,t.pinching=!0}if(R.touches[0]){var ve=t.projectIntoViewport(R.touches[0].clientX,R.touches[0].clientY);Z[0]=ve[0],Z[1]=ve[1]}if(R.touches[1]){var ve=t.projectIntoViewport(R.touches[1].clientX,R.touches[1].clientY);Z[2]=ve[0],Z[3]=ve[1]}if(R.touches[2]){var ve=t.projectIntoViewport(R.touches[2].clientX,R.touches[2].clientY);Z[4]=ve[0],Z[5]=ve[1]}}else if(R.touches[0]&&!t.touchData.didSelect){var nr=t.touchData.start,mo=t.touchData.last,It;if(!t.hoverData.draggingEles&&!t.swipePanning&&(It=t.findNearestElement(Z[0],Z[1],!0,!0)),W&&nr!=null&&R.preventDefault(),W&&nr!=null&&t.nodeIsDraggable(nr))if(Le){var xt=t.dragData.touchDragEles,Mh=!t.dragData.didDrag;Mh&&v(xt,{inDragLayer:!0}),t.dragData.didDrag=!0;var Ca={x:0,y:0};if(se(De[0])&&se(De[1])&&(Ca.x+=De[0],Ca.y+=De[1],Mh)){t.redrawHint("eles",!0);var ar=t.touchData.dragDelta;ar&&se(ar[0])&&se(ar[1])&&(Ca.x+=ar[0],Ca.y+=ar[1])}t.hoverData.draggingEles=!0,xt.silentShift(Ca).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==we[0]&&t.touchData.startPosition[1]==we[1]&&t.redrawHint("eles",!0),t.redraw()}else{var ar=t.touchData.dragDelta=t.touchData.dragDelta||[];ar.length===0?(ar.push(De[0]),ar.push(De[1])):(ar[0]+=De[0],ar[1]+=De[1])}if(n(nr||It,["touchmove","tapdrag","vmousemove"],R,{x:Z[0],y:Z[1]}),(!nr||!nr.grabbed())&&It!=mo&&(mo&&mo.emit({originalEvent:R,type:"tapdragout",position:{x:Z[0],y:Z[1]}}),It&&It.emit({originalEvent:R,type:"tapdragover",position:{x:Z[0],y:Z[1]}})),t.touchData.last=It,W)for(var Bt=0;Bt<Z.length;Bt++)Z[Bt]&&t.touchData.startPosition[Bt]&&Le&&(t.touchData.singleTouchMoved=!0);if(W&&(nr==null||nr.pannable())&&j.panningEnabled()&&j.userPanningEnabled()){var g2=i(nr,t.touchData.starts);g2&&(R.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=$n(t.touchData.startPosition)),t.swipePanning?(j.panBy({x:De[0]*ee,y:De[1]*ee}),j.emit("dragpan")):Le&&(t.swipePanning=!0,j.panBy({x:Ee*ee,y:rt*ee}),j.emit("dragpan"),nr&&(nr.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var ve=t.projectIntoViewport(R.touches[0].clientX,R.touches[0].clientY);Z[0]=ve[0],Z[1]=ve[1]}}for(var Ve=0;Ve<Z.length;Ve++)we[Ve]=Z[Ve];W&&R.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var re;t.registerBinding(e,"touchcancel",re=function(R){var W=t.touchData.start;t.touchData.capture=!1,W&&W.unactivate()});var ye,he,ne,K;if(t.registerBinding(e,"touchend",ye=function(R){var W=t.touchData.start,J=t.touchData.capture;if(J)R.touches.length===0&&(t.touchData.capture=!1),R.preventDefault();else return;var j=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var Z=t.cy,we=Z.zoom(),ee=t.touchData.now,ve=t.touchData.earlier;if(R.touches[0]){var Ce=t.projectIntoViewport(R.touches[0].clientX,R.touches[0].clientY);ee[0]=Ce[0],ee[1]=Ce[1]}if(R.touches[1]){var Ce=t.projectIntoViewport(R.touches[1].clientX,R.touches[1].clientY);ee[2]=Ce[0],ee[3]=Ce[1]}if(R.touches[2]){var Ce=t.projectIntoViewport(R.touches[2].clientX,R.touches[2].clientY);ee[4]=Ce[0],ee[5]=Ce[1]}W&&W.unactivate();var Le;if(t.touchData.cxt){if(Le={originalEvent:R,type:"cxttapend",position:{x:ee[0],y:ee[1]}},W?W.emit(Le):Z.emit(Le),!t.touchData.cxtDragged){var De={originalEvent:R,type:"cxttap",position:{x:ee[0],y:ee[1]}};W?W.emit(De):Z.emit(De)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!R.touches[2]&&Z.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Ve=Z.collection(t.getAllInBox(j[0],j[1],j[2],j[3]));j[0]=void 0,j[1]=void 0,j[2]=void 0,j[3]=void 0,j[4]=0,t.redrawHint("select",!0),Z.emit({type:"boxend",originalEvent:R,position:{x:ee[0],y:ee[1]}});var Ee=function(fn){return fn.selectable()&&!fn.selected()};Ve.emit("box").stdFilter(Ee).select().emit("boxselect"),Ve.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(W!=null&&W.unactivate(),R.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!R.touches[1]){if(!R.touches[0]){if(!R.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Me=t.dragData.touchDragEles;if(W!=null){var rt=W._private.grabbed;m(Me),t.redrawHint("drag",!0),t.redrawHint("eles",!0),rt&&(W.emit("freeon"),Me.emit("free"),t.dragData.didDrag&&(W.emit("dragfreeon"),Me.emit("dragfree"))),n(W,["touchend","tapend","vmouseup","tapdragout"],R,{x:ee[0],y:ee[1]}),W.unactivate(),t.touchData.start=null}else{var gt=t.findNearestElement(ee[0],ee[1],!0,!0);n(gt,["touchend","tapend","vmouseup","tapdragout"],R,{x:ee[0],y:ee[1]})}var tr=t.touchData.startPosition[0]-ee[0],rr=tr*tr,mt=t.touchData.startPosition[1]-ee[1],Gt=mt*mt,Pt=rr+Gt,Cr=Pt*we*we;t.touchData.singleTouchMoved||(W||Z.$(":selected").unselect(["tapunselect"]),n(W,["tap","vclick"],R,{x:ee[0],y:ee[1]}),he=!1,R.timeStamp-K<=Z.multiClickDebounceTime()?(ne&&clearTimeout(ne),he=!0,K=null,n(W,["dbltap","vdblclick"],R,{x:ee[0],y:ee[1]})):(ne=setTimeout(function(){he||n(W,["onetap","voneclick"],R,{x:ee[0],y:ee[1]})},Z.multiClickDebounceTime()),K=R.timeStamp)),W!=null&&!t.dragData.didDrag&&W._private.selectable&&Cr<t.touchTapThreshold2&&!t.pinching&&(Z.selectionType()==="single"?(Z.$(r).unmerge(W).unselect(["tapunselect"]),W.select(["tapselect"])):W.selected()?W.unselect(["tapunselect"]):W.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Wr=0;Wr<ee.length;Wr++)ve[Wr]=ee[Wr];t.dragData.didDrag=!1,R.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),R.touches.length<2&&(R.touches.length===1&&(t.touchData.startGPosition=[R.touches[0].clientX,R.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var ue=[],te=function(R){return{clientX:R.clientX,clientY:R.clientY,force:1,identifier:R.pointerId,pageX:R.pageX,pageY:R.pageY,radiusX:R.width/2,radiusY:R.height/2,screenX:R.screenX,screenY:R.screenY,target:R.target}},ie=function(R){return{event:R,touch:te(R)}},le=function(R){ue.push(ie(R))},Te=function(R){for(var W=0;W<ue.length;W++){var J=ue[W];if(J.event.pointerId===R.pointerId){ue.splice(W,1);return}}},Se=function(R){var W=ue.filter(function(J){return J.event.pointerId===R.pointerId})[0];W.event=R,W.touch=te(R)},de=function(R){R.touches=ue.map(function(W){return W.touch})},xe=function(R){return R.pointerType==="mouse"||R.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Q){xe(Q)||(Q.preventDefault(),le(Q),de(Q),U(Q))}),t.registerBinding(t.container,"pointerup",function(Q){xe(Q)||(Te(Q),de(Q),ye(Q))}),t.registerBinding(t.container,"pointercancel",function(Q){xe(Q)||(Te(Q),de(Q),re(Q))}),t.registerBinding(t.container,"pointermove",function(Q){xe(Q)||(Q.preventDefault(),Se(Q),de(Q),X(Q))})}};var Fr={};Fr.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,s,o){this.renderer.nodeShapeImpl("polygon",n,a,i,s,o,this.points)},intersectLine:function(n,a,i,s,o,u,l){return Xa(o,u,this.points,n,a,i/2,s/2,l)},checkPoint:function(n,a,i,s,o,u,l){return Br(n,a,this.points,u,l,s,o,[0,-1],i)}}};Fr.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o){return pC(i,s,e,r,n/2+o,a/2+o)},checkPoint:function(e,r,n,a,i,s,o){return mn(e,r,a,i,s,o,n)}}};Fr.generateRoundPolygon=function(t,e){for(var r=new Array(e.length*2),n=0;n<e.length/2;n++){var a=n*2,i=void 0;n<e.length/2-1?i=(n+1)*2:i=0,r[n*4]=e[a],r[n*4+1]=e[a+1];var s=e[i]-e[a],o=e[i+1]-e[a+1],u=Math.sqrt(s*s+o*o);r[n*4+2]=s/u,r[n*4+3]=o/u}return this.nodeShapes[t]={renderer:this,name:t,points:r,draw:function(c,f,d,h,v){this.renderer.nodeShapeImpl("round-polygon",c,f,d,h,v,this.points)},intersectLine:function(c,f,d,h,v,g,m){return gC(v,g,this.points,c,f,d,h)},checkPoint:function(c,f,d,h,v,g,m){return vC(c,f,this.points,g,m,h,v)}}};Fr.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ot(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o){return e1(i,s,e,r,n,a,o)},checkPoint:function(e,r,n,a,i,s,o){var u=di(a,i),l=u*2;return!!(Br(e,r,this.points,s,o,a,i-l,[0,-1],n)||Br(e,r,this.points,s,o,a-l,i,[0,-1],n)||mn(e,r,l,l,s-a/2+u,o-i/2+u,n)||mn(e,r,l,l,s+a/2-u,o-i/2+u,n)||mn(e,r,l,l,s+a/2-u,o+i/2-u,n)||mn(e,r,l,l,s-a/2+u,o+i/2-u,n))}}};Fr.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:a1(),points:Ot(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},generateCutTrianglePts:function(e,r,n,a){var i=this.cornerLength,s=r/2,o=e/2,u=n-o,l=n+o,c=a-s,f=a+s;return{topLeft:[u,c+i,u+i,c,u+i,c+i],topRight:[l-i,c,l,c+i,l-i,c+i],bottomRight:[l,f-i,l-i,f,l-i,f-i],bottomLeft:[u+i,f,u,f-i,u+i,f-i]}},intersectLine:function(e,r,n,a,i,s,o){var u=this.generateCutTrianglePts(n+2*o,a+2*o,e,r),l=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return Xa(i,s,l,e,r)},checkPoint:function(e,r,n,a,i,s,o){if(Br(e,r,this.points,s,o,a,i-2*this.cornerLength,[0,-1],n)||Br(e,r,this.points,s,o,a-2*this.cornerLength,i,[0,-1],n))return!0;var u=this.generateCutTrianglePts(a,i,s,o);return qt(e,r,u.topLeft)||qt(e,r,u.topRight)||qt(e,r,u.bottomRight)||qt(e,r,u.bottomLeft)}}};Fr.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ot(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o){var u=.15,l=.5,c=.85,f=this.generateBarrelBezierPts(n+2*o,a+2*o,e,r),d=function(g){var m=Gn({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},u),p=Gn({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},l),y=Gn({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},c);return[g[0],g[1],m.x,m.y,p.x,p.y,y.x,y.y,g[4],g[5]]},h=[].concat(d(f.topLeft),d(f.topRight),d(f.bottomRight),d(f.bottomLeft));return Xa(i,s,h,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,s=e/2,o=n-s,u=n+s,l=a-i,c=a+i,f=Xf(e,r),d=f.heightOffset,h=f.widthOffset,v=f.ctrlPtOffsetPct*e,g={topLeft:[o,l+d,o+v,l,o+h,l],topRight:[u-h,l,u-v,l,u,l+d],bottomRight:[u,c-d,u-v,c,u-h,c],bottomLeft:[o+h,c,o+v,c,o,c-d]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,r,n,a,i,s,o){var u=Xf(a,i),l=u.heightOffset,c=u.widthOffset;if(Br(e,r,this.points,s,o,a,i-2*l,[0,-1],n)||Br(e,r,this.points,s,o,a-2*c,i,[0,-1],n))return!0;for(var f=this.generateBarrelBezierPts(a,i,s,o),d=function(w,T,E){var k=E[4],D=E[2],C=E[0],P=E[5],M=E[1],N=Math.min(k,C),O=Math.max(k,C),B=Math.min(P,M),F=Math.max(P,M);if(N<=w&&w<=O&&B<=T&&T<=F){var V=mC(k,D,C),Y=cC(V[0],V[1],V[2],w),z=Y.filter(function($){return 0<=$&&$<=1});if(z.length>0)return z[0]}return null},h=Object.keys(f),v=0;v<h.length;v++){var g=h[v],m=f[g],p=d(e,r,m);if(p!=null){var y=m[5],b=m[3],_=m[1],x=pt(y,b,_,p);if(m.isTop&&x<=r||m.isBottom&&r<=x)return!0}}return!1}}};Fr.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ot(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o){var u=e-(n/2+o),l=r-(a/2+o),c=l,f=e+(n/2+o),d=Kr(i,s,e,r,u,l,f,c,!1);return d.length>0?d:e1(i,s,e,r,n,a,o)},checkPoint:function(e,r,n,a,i,s,o){var u=di(a,i),l=2*u;if(Br(e,r,this.points,s,o,a,i-l,[0,-1],n)||Br(e,r,this.points,s,o,a-l,i,[0,-1],n))return!0;var c=a/2+2*n,f=i/2+2*n,d=[s-c,o-f,s-c,o,s+c,o,s+c,o-f];return!!(qt(e,r,d)||mn(e,r,l,l,s+a/2-u,o+i/2-u,n)||mn(e,r,l,l,s-a/2+u,o+i/2-u,n))}}};Fr.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Ot(3,0)),this.generateRoundPolygon("round-triangle",Ot(3,0)),this.generatePolygon("rectangle",Ot(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Ot(5,0)),this.generateRoundPolygon("round-pentagon",Ot(5,0)),this.generatePolygon("hexagon",Ot(6,0)),this.generateRoundPolygon("round-hexagon",Ot(6,0)),this.generatePolygon("heptagon",Ot(7,0)),this.generateRoundPolygon("round-heptagon",Ot(7,0)),this.generatePolygon("octagon",Ot(8,0)),this.generateRoundPolygon("round-octagon",Ot(8,0));var n=new Array(20);{var a=Kf(5,0),i=Kf(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<i.length/2;o++)i[o*2]*=s,i[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=a[o*2],n[o*4+1]=a[o*2+1],n[o*4+2]=i[o*2],n[o*4+3]=i[o*2+1]}n=n1(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(l){var c=l.join("$"),f="polygon-"+c,d;return(d=this[f])?d:e.generatePolygon(f,l)}};var gi={};gi.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};gi.redraw=function(t){t=t||Ky();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};gi.beforeRender=function(t,e){if(!this.destroyed){e==null&&nt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var Yv=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};gi.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Yv(t,!0,a);var i=Ir();t.render(t.renderOptions);var s=t.lastDrawTime=Ir();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-i;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else Yv(t,!1,a);t.skipFrame=!1,ns(n)}};ns(r)}};var H4=function(e){this.init(e)},U1=H4,ba=U1.prototype;ba.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];ba.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",u=a.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!u){var l=a.createElement("style");l.id=s,l.textContent="."+o+" { position: relative; }",i.insertBefore(l,i.children[0])}var c=n.getComputedStyle(r),f=c.getPropertyValue("position");f==="static"&&Ye("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=se(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};ba.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};ba.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};ba.isHeadless=function(){return!1};[zd,$1,W1,ya,Fr,gi].forEach(function(t){be(ba,t)});var Oo=1e3/60,G1={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=Ds.default(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),s=function(l,c){var f=Ir(),d=a.averageRedrawTime,h=a.lastRedrawTime,v=[],g=a.cy.extent(),m=a.getPixelRatio();for(l||a.flushRenderedStyleQueue();;){var p=Ir(),y=p-f,b=p-c;if(h<Oo){var _=Oo-(l?d:0);if(b>=e.deqFastCost*_)break}else if(l){if(y>=e.deqCost*h||y>=e.deqAvgCost*d)break}else if(b>=e.deqNoDrawCost*Oo)break;var x=e.deq(n,m,g);if(x.length>0)for(var S=0;S<x.length;S++)v.push(x[S]);else break}v.length>0&&(e.onDeqd(n,v),!l&&e.shouldRedraw(n,v,m,g)&&i())},o=e.priority||Dd;a.beforeRender(s,o(n))}}}},Y4=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:as;xd(this,t),this.idsByKey=new yr,this.keyForId=new yr,this.cachesByLvl=new yr,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Ed(t,[{key:"getIdsFor",value:function(r){r==null&&nt("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new va,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new yr,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}]),t}(),$v=25,zi=50,Xi=-4,ad=3,$4=7.99,W4=8,U4=1024,G4=1024,j4=1024,Z4=.2,K4=.8,X4=10,Q4=.15,J4=.1,e3=.9,t3=.9,r3=100,n3=1,Wn={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},a3=wt({getKey:null,doesEleInvalidateKey:as,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Gy,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),qa=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=a3(r);be(n,a),n.lookup=new Y4(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},vt=qa.prototype;vt.reasons=Wn;vt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};vt.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};vt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new li.default(function(r,n){return n.reqs-r.reqs});return e};vt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};vt.getElement=function(t,e,r,n,a){var i=this,s=this.renderer,o=s.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(Rd(o*r))),n<Xi)n=Xi;else if(o>=$4||n>ad)return null;var l=Math.pow(2,n),c=e.h*l,f=e.w*l,d=s.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,d))return null;var h=u.get(t,n);if(h&&h.invalidated&&(h.invalidated=!1,h.texture.invalidatedWidth-=h.width),h)return h;var v;if(c<=$v?v=$v:c<=zi?v=zi:v=Math.ceil(c/zi)*zi,c>j4||f>G4)return null;var g=i.getTextureQueue(v),m=g[g.length-2],p=function(){return i.recycleTexture(v,f)||i.addTexture(v,f)};m||(m=g[g.length-1]),m||(m=p()),m.width-m.usedWidth<f&&(m=p());for(var y=function(O){return O&&O.scaledLabelShown===d},b=a&&a===Wn.dequeue,_=a&&a===Wn.highQuality,x=a&&a===Wn.downscale,S,w=n+1;w<=ad;w++){var T=u.get(t,w);if(T){S=T;break}}var E=S&&S.level===n+1?S:null,k=function(){m.context.drawImage(E.texture.canvas,E.x,0,E.width,E.height,m.usedWidth,0,f,c)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,f,v),y(E))k();else if(y(S))if(_){for(var D=S.level;D>n;D--)E=i.getElement(t,e,r,D,Wn.downscale);k()}else return i.queueElement(t,S.level-1),S;else{var C;if(!b&&!_&&!x)for(var P=n-1;P>=Xi;P--){var M=u.get(t,P);if(M){C=M;break}}if(y(C))return i.queueElement(t,n),C;m.context.translate(m.usedWidth,0),m.context.scale(l,l),this.drawElement(m.context,t,e,d,!1),m.context.scale(1/l,1/l),m.context.translate(-m.usedWidth,0)}return h={x:m.usedWidth,texture:m,level:n,scale:l,width:f,height:c,scaledLabelShown:d},m.usedWidth+=Math.ceil(f+W4),m.eleCaches.push(h),u.set(t,n,h),i.checkTextureFullness(m),h};vt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};vt.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=Xi;i<=ad;i++){var s=r.getForCachedKey(t,i);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var u=0;u<n.length;u++){var l=n[u],c=l.texture;c.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};vt.checkTextureUtility=function(t){t.invalidatedWidth>=Z4*t.width&&this.retireTexture(t)};vt.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>K4&&t.fullnessChecks>=X4?nn(r,t):t.fullnessChecks++};vt.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;nn(n,t),t.retired=!0;for(var i=t.eleCaches,s=0;s<i.length;s++){var o=i[s];a.deleteCache(o.key,o.level)}Md(i);var u=e.getRetiredTextureQueue(r);u.push(t)};vt.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(U4,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};vt.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var s=a[i];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,Md(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),nn(a,s),n.push(s),s}};vt.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),s=a[i];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(o),a[i]=o}};vt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,s=0;s<n3&&r.size()>0;s++){var o=r.pop(),u=o.key,l=o.eles[0],c=i.hasCache(l,o.level);if(n[u]=null,c)continue;a.push(o);var f=e.getBoundingBox(l);e.getElement(l,f,t,o.level,Wn.dequeue)}return a};vt.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=kd,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))};vt.onDequeue=function(t){this.onDequeues.push(t)};vt.offDequeue=function(t){nn(this.onDequeues,t)};vt.setupDequeueing=G1.setupDequeueing({deqRedrawThreshold:r3,deqCost:Q4,deqAvgCost:J4,deqNoDrawCost:e3,deqFastCost:t3,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var s=r[i].eles,o=0;o<s.length;o++){var u=s[o].boundingBox();if(Pd(u,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var i3=1,Ya=-4,cs=2,s3=3.99,o3=50,u3=50,l3=.15,c3=.1,f3=.9,d3=.9,h3=1,Wv=250,v3=4e3*4e3,p3=!0,j1=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Ir()-2*Wv,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=Ds.default(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},u3),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=Wv?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(o,u){return u.reqs-o.reqs};r.layersQueue=new li.default(i),r.setupDequeueing()},St=j1.prototype,Uv=0,g3=Math.pow(2,53)-1;St.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),s={id:Uv=++Uv%g3,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,u=-s.bb.x1,l=-s.bb.y1;return o.scale(r,r),o.translate(u,l),s};St.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,s=i.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(Rd(s*e)),r<Ya)r=Ya;else if(s>=s3||r>cs)return null}n.validateLayersElesOrdering(r,t);var u=n.layersByLevel,l=Math.pow(2,r),c=u[r]=u[r]||[],f,d=n.levelIsComplete(r,t),h,v=function(){var k=function(N){if(n.validateLayersElesOrdering(N,t),n.levelIsComplete(N,t))return h=u[N],!0},D=function(N){if(!h)for(var O=r+N;Ya<=O&&O<=cs&&!k(O);O+=N);};D(1),D(-1);for(var C=c.length-1;C>=0;C--){var P=c[C];P.invalid&&nn(c,P)}};if(!d)v();else return c;var g=function(){if(!f){f=zt();for(var k=0;k<t.length;k++)iC(f,t[k].boundingBox())}return f},m=function(k){k=k||{};var D=k.after;g();var C=f.w*l*(f.h*l);if(C>v3)return null;var P=n.makeLayer(f,r);if(D!=null){var M=c.indexOf(D)+1;c.splice(M,0,P)}else(k.insert===void 0||k.insert)&&c.unshift(P);return P};if(n.skipping&&!o)return null;for(var p=null,y=t.length/i3,b=!o,_=0;_<t.length;_++){var x=t[_],S=x._private.rscratch,w=S.imgLayerCaches=S.imgLayerCaches||{},T=w[r];if(T){p=T;continue}if((!p||p.eles.length>=y||!Jy(p.bb,x.boundingBox()))&&(p=m({insert:!0,after:p}),!p))return null;h||b?n.queueLayer(p,x):n.drawEleInLayer(p,x,r,e),p.eles.push(x),w[r]=p}return h||(b?null:c)};St.getEleLevelForLayerLevel=function(t,e){return t};St.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(s,!1),i.drawCachedElement(s,e,null,null,r,p3),i.setImgSmoothing(s,!0))};St.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var s=n[i];if(s.reqs>0||s.invalid)return!1;a+=s.eles.length}return a===e.length};St.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,s=0;s<e.length;s++)if(a.eles[0]===e[s]){i=s;break}if(i<0){this.invalidateLayer(a);continue}for(var o=i,s=0;s<a.eles.length;s++)if(a.eles[s]!==e[o+s]){this.invalidateLayer(a);break}}};St.updateElementsInLayers=function(t,e){for(var r=this,n=fi(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],s=n?t[a]:t[a].ele,o=s._private.rscratch,u=o.imgLayerCaches=o.imgLayerCaches||{},l=Ya;l<=cs;l++){var c=u[l];c&&(i&&r.getEleLevelForLayerLevel(c.level)!==i.level||e(c,s,i))}};St.haveLayers=function(){for(var t=this,e=!1,r=Ya;r<=cs;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};St.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Ir(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))};St.invalidateLayer=function(t){if(this.lastInvalidationTime=Ir(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];nn(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};St.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})};St.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};St.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};St.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<h3&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var s=i.elesQueue.shift();s&&(e.drawEleInLayer(i,s,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};St.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var s=t.eles[i]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};St.requestRedraw=Ds.default(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);St.setupDequeueing=G1.setupDequeueing({deqRedrawThreshold:o3,deqCost:l3,deqAvgCost:c3,deqNoDrawCost:f3,deqFastCost:d3,deq:function(e,r){return e.dequeue(r)},onDeqd:Dd,shouldRedraw:Gy,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Z1={},Gv;function m3(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function y3(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function jv(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var a=1;a<s.length;a++){var i=s[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function b3(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,s=i[0];t.moveTo(s.x,s.y);for(var o=0;o<i.length;o++){var u=i[o];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function _3(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}Z1.arrowShapeImpl=function(t){return(Gv||(Gv={polygon:m3,"triangle-backcurve":y3,"triangle-tee":jv,"circle-triangle":b3,"triangle-cross":jv,circle:_3}))[t]};var xr={};xr.drawElement=function(t,e,r,n,a,i){var s=this;e.isNode()?s.drawNode(t,e,r,n,a,i):s.drawEdge(t,e,r,n,a,i)};xr.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};xr.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};xr.drawCachedElementPortion=function(t,e,r,n,a,i,s,o){var u=this,l=r.getBoundingBox(e);if(!(l.w===0||l.h===0)){var c=r.getElement(e,l,n,a,i);if(c!=null){var f=o(u,e);if(f===0)return;var d=s(u,e),h=l.x1,v=l.y1,g=l.w,m=l.h,p,y,b,_,x;if(d!==0){var S=r.getRotationPoint(e);b=S.x,_=S.y,t.translate(b,_),t.rotate(d),x=u.getImgSmoothing(t),x||u.setImgSmoothing(t,!0);var w=r.getRotationOffset(e);p=w.x,y=w.y}else p=h,y=v;var T;f!==1&&(T=t.globalAlpha,t.globalAlpha=T*f),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,p,y,g,m),f!==1&&(t.globalAlpha=T),d!==0&&(t.rotate(-d),t.translate(-b,-_),x||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var w3=function(){return 0},S3=function(e,r){return e.getTextAngle(r,null)},x3=function(e,r){return e.getTextAngle(r,"source")},E3=function(e,r){return e.getTextAngle(r,"target")},T3=function(e,r){return r.effectiveOpacity()},Lo=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};xr.drawCachedElement=function(t,e,r,n,a,i){var s=this,o=s.data,u=o.eleTxrCache,l=o.lblTxrCache,c=o.slbTxrCache,f=o.tlbTxrCache,d=e.boundingBox(),h=i===!0?u.reasons.highQuality:null;if(!(d.w===0||d.h===0||!e.visible())&&(!n||Pd(d,n))){var v=e.isEdge(),g=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,u,r,a,h,w3,T3),(!v||!g)&&s.drawCachedElementPortion(t,e,l,r,a,h,S3,Lo),v&&!g&&(s.drawCachedElementPortion(t,e,c,r,a,h,x3,Lo),s.drawCachedElementPortion(t,e,f,r,a,h,E3,Lo)),s.drawElementOverlay(t,e)}};xr.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};xr.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];a.drawCachedElement(t,s,r,n)}};xr.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];s.isNode()&&a.drawCachedElement(t,s,r,n)}};xr.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var s=0;s<i.length;s++){var o=i[s],u=o.bb;u.w===0||u.h===0||t.drawImage(o.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(t,e,r,n)};var zr={};zr.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(i&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var u;r&&(u=r,t.translate(-u.x1,-u.y1));var l=i?e.pstyle("opacity").value:1,c=i?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,h=e.pstyle("width").pfValue,v=e.pstyle("line-cap").value,g=l*c,m=l*c,p=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;f==="straight-triangle"?(s.eleStrokeStyle(t,e,C),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=h,t.lineCap=v,s.eleStrokeStyle(t,e,C),s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},y=function(){a&&s.drawEdgeOverlay(t,e)},b=function(){a&&s.drawEdgeUnderlay(t,e)},_=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;s.drawArrowheads(t,e,C)},x=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var S=e.pstyle("ghost").value==="yes";if(S){var w=e.pstyle("ghost-offset-x").pfValue,T=e.pstyle("ghost-offset-y").pfValue,E=e.pstyle("ghost-opacity").value,k=g*E;t.translate(w,T),p(k),_(k),t.translate(-w,-T)}b(),p(),_(),y(),x(),r&&t.translate(u.x1,u.y1)}};var K1=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,s=i.usePaths(),o=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,l=2*u,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=l,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,c[0],c[1],c[2],a),i.drawEdgePath(n,r,o.allpts,"solid")}}}};zr.drawEdgeOverlay=K1("overlay");zr.drawEdgeUnderlay=K1("underlay");zr.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,s,o=!1,u=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(u){var f=r.join("$"),d=a.pathCacheKey&&a.pathCacheKey===f;d?(s=e=a.pathCache,o=!0):(s=e=new Path2D,a.pathCacheKey=f,a.pathCache=s)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(l),i.lineDashOffset=c;break;case"solid":i.setLineDash([]);break}if(!o&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<r.length;h+=4)e.quadraticCurveTo(r[h],r[h+1],r[h+2],r[h+3]);break;case"straight":case"segments":case"haystack":for(var v=2;v+1<r.length;v+=2)e.lineTo(r[v],r[v+1]);break}e=i,u?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};zr.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],s=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=[i[1]/s,-i[0]/s],u=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[a]-u[0],r[a+1]-u[1]),e.lineTo(r[a]+u[0],r[a+1]+u[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};zr.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};zr.drawArrowhead=function(t,e,r,n,a,i,s){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var o=this,u=e.pstyle(r+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,f=e.pstyle("width").pfValue,d=e.pstyle("opacity").value;s===void 0&&(s=d);var h=t.globalCompositeOperation;(s!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,l,f,u,n,a,i),t.globalCompositeOperation=h);var v=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,v[0],v[1],v[2],s),o.colorStrokeStyle(t,v[0],v[1],v[2],s),o.drawArrowShape(e,t,c,f,u,n,a,i)}}};zr.drawArrowShape=function(t,e,r,n,a,i,s,o){var u=this,l=this.usePaths()&&a!=="triangle-cross",c=!1,f,d=e,h={x:i,y:s},v=t.pstyle("arrow-scale").value,g=this.getArrowWidth(n,v),m=u.arrowShapes[a];if(l){var p=u.arrowPathCache=u.arrowPathCache||[],y=_n(a),b=p[y];b!=null?(f=e=b,c=!0):(f=e=new Path2D,p[y]=f)}c||(e.beginPath&&e.beginPath(),l?m.draw(e,1,0,{x:0,y:0},1):m.draw(e,g,o,h,n),e.closePath&&e.closePath()),e=d,l&&(e.translate(i,s),e.rotate(o),e.scale(g,g)),(r==="filled"||r==="both")&&(l?e.fill(f):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=(m.matchEdgeWidth?n:1)/(l?g:1),e.lineJoin="miter",l?e.stroke(f):e.stroke()),l&&(e.scale(1/g,1/g),e.rotate(-o),e.translate(-i,-s))};var Hd={};Hd.safeDrawImage=function(t,e,r,n,a,i,s,o,u,l){if(!(a<=0||i<=0||u<=0||l<=0))try{t.drawImage(e,r,n,a,i,s,o,u,l)}catch(c){Ye(c)}};Hd.drawInscribedImage=function(t,e,r,n,a){var i=this,s=r.position(),o=s.x,u=s.y,l=r.cy().style(),c=l.getIndexedStyle.bind(l),f=c(r,"background-fit","value",n),d=c(r,"background-repeat","value",n),h=r.width(),v=r.height(),g=r.padding()*2,m=h+(c(r,"background-width-relative-to","value",n)==="inner"?0:g),p=v+(c(r,"background-height-relative-to","value",n)==="inner"?0:g),y=r._private.rscratch,b=c(r,"background-clip","value",n),_=b==="node",x=c(r,"background-image-opacity","value",n)*a,S=c(r,"background-image-smoothing","value",n),w=e.width||e.cachedW,T=e.height||e.cachedH;(w==null||T==null)&&(document.body.appendChild(e),w=e.cachedW=e.width||e.offsetWidth,T=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var E=w,k=T;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?E=c(r,"background-width","pfValue",n)*m:E=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?k=c(r,"background-height","pfValue",n)*p:k=c(r,"background-height","pfValue",n)),!(E===0||k===0)){if(f==="contain"){var D=Math.min(m/E,p/k);E*=D,k*=D}else if(f==="cover"){var D=Math.max(m/E,p/k);E*=D,k*=D}var C=o-m/2,P=c(r,"background-position-x","units",n),M=c(r,"background-position-x","pfValue",n);P==="%"?C+=(m-E)*M:C+=M;var N=c(r,"background-offset-x","units",n),O=c(r,"background-offset-x","pfValue",n);N==="%"?C+=(m-E)*O:C+=O;var B=u-p/2,F=c(r,"background-position-y","units",n),V=c(r,"background-position-y","pfValue",n);F==="%"?B+=(p-k)*V:B+=V;var Y=c(r,"background-offset-y","units",n),z=c(r,"background-offset-y","pfValue",n);Y==="%"?B+=(p-k)*z:B+=z,y.pathCache&&(C-=o,B-=u,o=0,u=0);var $=t.globalAlpha;t.globalAlpha=x;var G=i.getImgSmoothing(t),A=!1;if(S==="no"&&G?(i.setImgSmoothing(t,!1),A=!0):S==="yes"&&!G&&(i.setImgSmoothing(t,!0),A=!0),d==="no-repeat")_&&(t.save(),y.pathCache?t.clip(y.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,o,u,m,p),t.clip())),i.safeDrawImage(t,e,0,0,w,T,C,B,E,k),_&&t.restore();else{var I=t.createPattern(e,d);t.fillStyle=I,i.nodeShapes[i.getNodeShape(r)].draw(t,o,u,m,p),t.translate(C,B),t.fill(),t.translate(-C,-B)}t.globalAlpha=$,A&&i.setImgSmoothing(t,G)}};var Rn={};Rn.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(Rd(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(i<s)};Rn.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(i&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var u=s.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),d=e.pstyle("target-label");if(l||(!c||!c.value)&&(!f||!f.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var h=!r,v;r&&(v=r,t.translate(-v.x1,-v.y1)),a==null?(s.drawText(t,e,null,h,i),e.isEdge()&&(s.drawText(t,e,"source",h,i),s.drawText(t,e,"target",h,i))):s.drawText(t,e,a,h,i),r&&t.translate(v.x1,v.y1)};Rn.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Rn.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*o,l=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],o),this.colorStrokeStyle(t,c[0],c[1],c[2],u)};function C3(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5;t.beginPath(),t.moveTo(e+i,r),t.lineTo(e+n-i,r),t.quadraticCurveTo(e+n,r,e+n,r+i),t.lineTo(e+n,r+a-i),t.quadraticCurveTo(e+n,r+a,e+n-i,r+a),t.lineTo(e+i,r+a),t.quadraticCurveTo(e,r+a,e,r+a-i),t.lineTo(e,r+i),t.quadraticCurveTo(e,r,e+i,r),t.closePath(),t.fill()}Rn.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",s=t.pstyle(i+"text-rotation"),o=or(a,"labelAngle",e);return s.strValue==="autorotate"?r=t.isEdge()?o:0:s.strValue==="none"?r=0:r=s.pfValue,r};Rn.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,s=i.rscratch,o=a?e.effectiveOpacity():1;if(!(a&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=or(s,"labelX",r),l=or(s,"labelY",r),c,f,d=this.getLabelText(e,r);if(d!=null&&d!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(t,e,a);var h=r?r+"-":"",v=or(s,"labelWidth",r),g=or(s,"labelHeight",r),m=e.pstyle(h+"text-margin-x").pfValue,p=e.pstyle(h+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle("text-halign").value,_=e.pstyle("text-valign").value;y&&(b="center",_="center"),u+=m,l+=p;var x;switch(n?x=this.getTextAngle(e,r):x=0,x!==0&&(c=u,f=l,t.translate(c,f),t.rotate(x),u=0,l=0),_){case"top":break;case"center":l+=g/2;break;case"bottom":l+=g;break}var S=e.pstyle("text-background-opacity").value,w=e.pstyle("text-border-opacity").value,T=e.pstyle("text-border-width").pfValue,E=e.pstyle("text-background-padding").pfValue;if(S>0||T>0&&w>0){var k=u-E;switch(b){case"left":k-=v;break;case"center":k-=v/2;break}var D=l-g-E,C=v+2*E,P=g+2*E;if(S>0){var M=t.fillStyle,N=e.pstyle("text-background-color").value;t.fillStyle="rgba("+N[0]+","+N[1]+","+N[2]+","+S*o+")";var O=e.pstyle("text-background-shape").strValue;O.indexOf("round")===0?C3(t,k,D,C,P,2):t.fillRect(k,D,C,P),t.fillStyle=M}if(T>0&&w>0){var B=t.strokeStyle,F=t.lineWidth,V=e.pstyle("text-border-color").value,Y=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+V[0]+","+V[1]+","+V[2]+","+w*o+")",t.lineWidth=T,t.setLineDash)switch(Y){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=T/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(t.strokeRect(k,D,C,P),Y==="double"){var z=T/2;t.strokeRect(k+z,D+z,C-z*2,P-z*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=F,t.strokeStyle=B}}var $=2*e.pstyle("text-outline-width").pfValue;if($>0&&(t.lineWidth=$),e.pstyle("text-wrap").value==="wrap"){var G=or(s,"labelWrapCachedLines",r),A=or(s,"labelLineHeight",r),I=v/2,q=this.getLabelJustification(e);switch(q==="auto"||(b==="left"?q==="left"?u+=-v:q==="center"&&(u+=-I):b==="center"?q==="left"?u+=-I:q==="right"&&(u+=I):b==="right"&&(q==="center"?u+=I:q==="right"&&(u+=v))),_){case"top":l-=(G.length-1)*A;break;case"center":case"bottom":l-=(G.length-1)*A;break}for(var L=0;L<G.length;L++)$>0&&t.strokeText(G[L],u,l),t.fillText(G[L],u,l),l+=A}else $>0&&t.strokeText(d,u,l),t.fillText(d,u,l);x!==0&&(t.rotate(-x),t.translate(-c,-f))}}};var _a={};_a.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,u,l=e._private,c=l.rscratch,f=e.position();if(!(!se(f.x)||!se(f.y))&&!(i&&!e.visible())){var d=i?e.effectiveOpacity():1,h=s.usePaths(),v,g=!1,m=e.padding();o=e.width()+2*m,u=e.height()+2*m;var p;r&&(p=r,t.translate(-p.x1,-p.y1));for(var y=e.pstyle("background-image"),b=y.value,_=new Array(b.length),x=new Array(b.length),S=0,w=0;w<b.length;w++){var T=b[w],E=_[w]=T!=null&&T!=="none";if(E){var k=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",w);S++,x[w]=s.getCachedImage(T,k,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var D=e.pstyle("background-blacken").value,C=e.pstyle("border-width").pfValue,P=e.pstyle("background-opacity").value*d,M=e.pstyle("border-color").value,N=e.pstyle("border-style").value,O=e.pstyle("border-opacity").value*d;t.lineJoin="miter";var B=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P;s.eleFillStyle(t,e,ie)},F=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O;s.colorStrokeStyle(t,M[0],M[1],M[2],ie)},V=e.pstyle("shape").strValue,Y=e.pstyle("shape-polygon-points").pfValue;if(h){t.translate(f.x,f.y);var z=s.nodePathCache=s.nodePathCache||[],$=Uy(V==="polygon"?V+","+Y.join(","):V,""+u,""+o),G=z[$];G!=null?(v=G,g=!0,c.pathCache=v):(v=new Path2D,z[$]=c.pathCache=v)}var A=function(){if(!g){var ie=f;h&&(ie={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(v||t,ie.x,ie.y,o,u)}h?t.fill(v):t.fill()},I=function(){for(var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Te=l.backgrounding,Se=0,de=0;de<x.length;de++){var xe=e.cy().style().getIndexedStyle(e,"background-image-containment","value",de);if(le&&xe==="over"||!le&&xe==="inside"){Se++;continue}_[de]&&x[de].complete&&!x[de].error&&(Se++,s.drawInscribedImage(t,x[de],e,de,ie))}l.backgrounding=Se!==S,Te!==l.backgrounding&&e.updateStyle(!1)},q=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;s.hasPie(e)&&(s.drawPie(t,e,le),ie&&(h||s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,u)))},L=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,le=(D>0?D:-D)*ie,Te=D>0?0:255;D!==0&&(s.colorFillStyle(t,Te,Te,Te,le),h?t.fill(v):t.fill())},H=function(){if(C>0){if(t.lineWidth=C,t.lineCap="butt",t.setLineDash)switch(N){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}if(h?t.stroke(v):t.stroke(),N==="double"){t.lineWidth=C/3;var ie=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",h?t.stroke(v):t.stroke(),t.globalCompositeOperation=ie}t.setLineDash&&t.setLineDash([])}},U=function(){a&&s.drawNodeOverlay(t,e,f,o,u)},X=function(){a&&s.drawNodeUnderlay(t,e,f,o,u)},re=function(){s.drawElementText(t,e,null,n)},ye=e.pstyle("ghost").value==="yes";if(ye){var he=e.pstyle("ghost-offset-x").pfValue,ne=e.pstyle("ghost-offset-y").pfValue,K=e.pstyle("ghost-opacity").value,ue=K*d;t.translate(he,ne),B(K*P),A(),I(ue,!0),F(K*O),H(),q(D!==0||C!==0),I(ue,!1),L(ue),t.translate(-he,-ne)}h&&t.translate(-f.x,-f.y),X(),h&&t.translate(f.x,f.y),B(),A(),I(d,!0),F(),H(),q(D!==0||C!==0),I(d,!1),L(),h&&t.translate(-f.x,-f.y),re(),U(),r&&t.translate(p.x1,p.y1)}};var X1=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,s){var o=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value;if(l>0){if(a=a||n.position(),i==null||s==null){var d=n.padding();i=n.width()+2*d,s=n.height()+2*d}o.colorFillStyle(r,c[0],c[1],c[2],l),o.nodeShapes[f].draw(r,a.x,a.y,i+u*2,s+u*2),r.fill()}}}};_a.drawNodeOverlay=X1("overlay");_a.drawNodeUnderlay=X1("underlay");_a.hasPie=function(t){return t=t[0],t._private.hasPie};_a.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),s=n.x,o=n.y,u=e.width(),l=e.height(),c=Math.min(u,l)/2,f=0,d=this.usePaths();d&&(s=0,o=0),i.units==="%"?c=c*i.pfValue:i.pfValue!==void 0&&(c=i.pfValue/2);for(var h=1;h<=a.pieBackgroundN;h++){var v=e.pstyle("pie-"+h+"-background-size").value,g=e.pstyle("pie-"+h+"-background-color").value,m=e.pstyle("pie-"+h+"-background-opacity").value*r,p=v/100;p+f>1&&(p=1-f);var y=1.5*Math.PI+2*Math.PI*f,b=2*Math.PI*p,_=y+b;v===0||f>=1||f+p>1||(t.beginPath(),t.moveTo(s,o),t.arc(s,o,c,y,_),t.closePath(),this.colorFillStyle(t,g[0],g[1],g[2],m),t.fill(),f+=p)}};var Wt={},k3=100;Wt.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e};Wt.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Wt.createGradientStyleFor=function(t,e,r,n,a){var i,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),c=r.targetEndpoint(),f=r.midpoint(),d=wn(l,f),h=wn(c,f);i=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(d,h))}else{var v=s?{x:0,y:0}:r.position(),g=r.paddedWidth(),m=r.paddedHeight();i=t.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(g,m))}else if(r.isEdge()){var p=r.sourceEndpoint(),y=r.targetEndpoint();i=t.createLinearGradient(p.x,p.y,y.x,y.y)}else{var b=s?{x:0,y:0}:r.position(),_=r.paddedWidth(),x=r.paddedHeight(),S=_/2,w=x/2,T=r.pstyle("background-gradient-direction").value;switch(T){case"to-bottom":i=t.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":i=t.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":i=t.createLinearGradient(b.x+S,b.y,b.x-S,b.y);break;case"to-right":i=t.createLinearGradient(b.x-S,b.y,b.x+S,b.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(b.x-S,b.y-w,b.x+S,b.y+w);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(b.x-S,b.y+w,b.x+S,b.y-w);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(b.x+S,b.y-w,b.x-S,b.y+w);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(b.x+S,b.y+w,b.x-S,b.y-w);break}}if(!i)return null;for(var E=u.length===o.length,k=o.length,D=0;D<k;D++)i.addColorStop(E?u[D]:D/(k-1),"rgba("+o[D][0]+","+o[D][1]+","+o[D][2]+","+a+")");return i};Wt.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};Wt.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};Wt.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};Wt.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};Wt.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};Wt.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};Wt.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var u=a*s,l=i*s,c;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var f=r.canvasContainer;f.style.width=a+"px",f.style.height=i+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)c=r.canvases[d],c.width=u,c.height=l,c.style.width=a+"px",c.style.height=i+"px";for(var d=0;d<e.BUFFER_COUNT;d++)c=r.bufferCanvases[d],c.width=u,c.height=l,c.style.width=a+"px",c.style.height=i+"px";e.textureMult=1,s<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=u*e.textureMult,c.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l}};Wt.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Wt.render=function(t){t=t||Ky();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,a=t.forcedZoom,i=t.forcedPan,s=this,o=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=s.cy,l=s.data,c=l.canvasNeedsRedraw,f=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),d=t.motionBlur!==void 0?t.motionBlur:s.motionBlur,h=s.motionBlurPxRatio,v=u.hasCompoundNodes(),g=s.hoverData.draggingEles,m=!!(s.hoverData.selecting||s.touchData.selecting);d=d&&!e&&s.motionBlurEnabled&&!m;var p=d;e||(s.prevPxRatio!==o&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=o),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),d&&(s.mbFrames==null&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(p=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!f&&(c[s.NODE]=!0,c[s.SELECT_BOX]=!0);var y=u.style(),b=u.zoom(),_=a!==void 0?a:b,x=u.pan(),S={x:x.x,y:x.y},w={zoom:b,pan:{x:x.x,y:x.y}},T=s.prevViewport,E=T===void 0||w.zoom!==T.zoom||w.pan.x!==T.pan.x||w.pan.y!==T.pan.y;!E&&!(g&&!v)&&(s.motionBlurPxRatio=1),i&&(S=i),_*=o,S.x*=o,S.y*=o;var k=s.getCachedZSortedEles();function D(ne,K,ue,te,ie){var le=ne.globalCompositeOperation;ne.globalCompositeOperation="destination-out",s.colorFillStyle(ne,255,255,255,s.motionBlurTransparency),ne.fillRect(K,ue,te,ie),ne.globalCompositeOperation=le}function C(ne,K){var ue,te,ie,le;!s.clearingMotionBlur&&(ne===l.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]||ne===l.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG])?(ue={x:x.x*h,y:x.y*h},te=b*h,ie=s.canvasWidth*h,le=s.canvasHeight*h):(ue=S,te=_,ie=s.canvasWidth,le=s.canvasHeight),ne.setTransform(1,0,0,1,0,0),K==="motionBlur"?D(ne,0,0,ie,le):!e&&(K===void 0||K)&&ne.clearRect(0,0,ie,le),r||(ne.translate(ue.x,ue.y),ne.scale(te,te)),i&&ne.translate(i.x,i.y),a&&ne.scale(a,a)}if(f||(s.textureDrawLastFrame=!1),f){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=u.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var P=s.data.bufferContexts[s.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:o*s.textureMult});var w=s.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:s.canvasWidth,height:s.canvasHeight};w.mpan={x:(0-w.pan.x)/w.zoom,y:(0-w.pan.y)/w.zoom}}c[s.DRAG]=!1,c[s.NODE]=!1;var M=l.contexts[s.NODE],N=s.textureCache.texture,w=s.textureCache.viewport;M.setTransform(1,0,0,1,0,0),d?D(M,0,0,w.width,w.height):M.clearRect(0,0,w.width,w.height);var O=y.core("outside-texture-bg-color").value,B=y.core("outside-texture-bg-opacity").value;s.colorFillStyle(M,O[0],O[1],O[2],B),M.fillRect(0,0,w.width,w.height);var b=u.zoom();C(M,!1),M.clearRect(w.mpan.x,w.mpan.y,w.width/w.zoom/o,w.height/w.zoom/o),M.drawImage(N,w.mpan.x,w.mpan.y,w.width/w.zoom/o,w.height/w.zoom/o)}else s.textureOnViewport&&!e&&(s.textureCache=null);var F=u.extent(),V=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),Y=s.hideEdgesOnViewport&&V,z=[];if(z[s.NODE]=!c[s.NODE]&&d&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,z[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),z[s.DRAG]=!c[s.DRAG]&&d&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,z[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),c[s.NODE]||r||n||z[s.NODE]){var $=d&&!z[s.NODE]&&h!==1,M=e||($?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:l.contexts[s.NODE]),G=d&&!$?"motionBlur":void 0;C(M,G),Y?s.drawCachedNodes(M,k.nondrag,o,F):s.drawLayeredElements(M,k.nondrag,o,F),s.debug&&s.drawDebugPoints(M,k.nondrag),!r&&!d&&(c[s.NODE]=!1)}if(!n&&(c[s.DRAG]||r||z[s.DRAG])){var $=d&&!z[s.DRAG]&&h!==1,M=e||($?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:l.contexts[s.DRAG]);C(M,d&&!$?"motionBlur":void 0),Y?s.drawCachedNodes(M,k.drag,o,F):s.drawCachedElements(M,k.drag,o,F),s.debug&&s.drawDebugPoints(M,k.drag),!r&&!d&&(c[s.DRAG]=!1)}if(s.showFps||!n&&c[s.SELECT_BOX]&&!r){var M=e||l.contexts[s.SELECT_BOX];if(C(M),s.selection[4]==1&&(s.hoverData.selecting||s.touchData.selecting)){var b=s.cy.zoom(),A=y.core("selection-box-border-width").value/b;M.lineWidth=A,M.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",M.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),A>0&&(M.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",M.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(l.bgActivePosistion&&!s.hoverData.selecting){var b=s.cy.zoom(),I=l.bgActivePosistion;M.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",M.beginPath(),M.arc(I.x,I.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),M.fill()}var q=s.lastRedrawTime;if(s.showFps&&q){q=Math.round(q);var L=Math.round(1e3/q);M.setTransform(1,0,0,1,0,0),M.fillStyle="rgba(255, 0, 0, 0.75)",M.strokeStyle="rgba(255, 0, 0, 0.75)",M.lineWidth=1,M.fillText("1 frame = "+q+" ms = "+L+" fps",0,20);var H=60;M.strokeRect(0,30,250,20),M.fillRect(0,30,250*Math.min(L/H,1),20)}r||(c[s.SELECT_BOX]=!1)}if(d&&h!==1){var U=l.contexts[s.NODE],X=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],re=l.contexts[s.DRAG],ye=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],he=function(K,ue,te){K.setTransform(1,0,0,1,0,0),te||!p?K.clearRect(0,0,s.canvasWidth,s.canvasHeight):D(K,0,0,s.canvasWidth,s.canvasHeight);var ie=h;K.drawImage(ue,0,0,s.canvasWidth*ie,s.canvasHeight*ie,0,0,s.canvasWidth,s.canvasHeight)};(c[s.NODE]||z[s.NODE])&&(he(U,X,z[s.NODE]),c[s.NODE]=!1),(c[s.DRAG]||z[s.DRAG])&&(he(re,ye,z[s.DRAG]),c[s.DRAG]=!1)}s.prevViewport=w,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),d&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!f,s.mbFrames=0,c[s.NODE]=!0,c[s.DRAG]=!0,s.redraw()},k3)),e||u.emit("render")};var ln={};ln.drawPolygonPath=function(t,e,r,n,a,i){var s=n/2,o=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*i[0],r+o*i[1]);for(var u=1;u<i.length/2;u++)t.lineTo(e+s*i[u*2],r+o*i[u*2+1]);t.closePath()};ln.drawRoundPolygonPath=function(t,e,r,n,a,i){var s=n/2,o=a/2,u=Od(n,a);t.beginPath&&t.beginPath();for(var l=0;l<i.length/4;l++){var c=void 0,f=void 0;l===0?c=i.length-2:c=l*4-2,f=l*4+2;var d=e+s*i[l*4],h=r+o*i[l*4+1],v=-i[c]*i[f]-i[c+1]*i[f+1],g=u/Math.tan(Math.acos(v)/2),m=d-g*i[c],p=h-g*i[c+1],y=d+g*i[f],b=h+g*i[f+1];l===0?t.moveTo(m,p):t.lineTo(m,p),t.arcTo(d,h,y,b,u)}t.closePath()};ln.drawRoundRectanglePath=function(t,e,r,n,a){var i=n/2,s=a/2,o=di(n,a);t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.arcTo(e+i,r-s,e+i,r,o),t.arcTo(e+i,r+s,e,r+s,o),t.arcTo(e-i,r+s,e-i,r,o),t.arcTo(e-i,r-s,e,r-s,o),t.lineTo(e,r-s),t.closePath()};ln.drawBottomRoundRectanglePath=function(t,e,r,n,a){var i=n/2,s=a/2,o=di(n,a);t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.lineTo(e+i,r-s),t.lineTo(e+i,r),t.arcTo(e+i,r+s,e,r+s,o),t.arcTo(e-i,r+s,e-i,r,o),t.lineTo(e-i,r-s),t.lineTo(e,r-s),t.closePath()};ln.drawCutRectanglePath=function(t,e,r,n,a){var i=n/2,s=a/2,o=a1();t.beginPath&&t.beginPath(),t.moveTo(e-i+o,r-s),t.lineTo(e+i-o,r-s),t.lineTo(e+i,r-s+o),t.lineTo(e+i,r+s-o),t.lineTo(e+i-o,r+s),t.lineTo(e-i+o,r+s),t.lineTo(e-i,r+s-o),t.lineTo(e-i,r-s+o),t.closePath()};ln.drawBarrelPath=function(t,e,r,n,a){var i=n/2,s=a/2,o=e-i,u=e+i,l=r-s,c=r+s,f=Xf(n,a),d=f.widthOffset,h=f.heightOffset,v=f.ctrlPtOffsetPct*d;t.beginPath&&t.beginPath(),t.moveTo(o,l+h),t.lineTo(o,c-h),t.quadraticCurveTo(o+v,c,o+d,c),t.lineTo(u-d,c),t.quadraticCurveTo(u-v,c,u,c-h),t.lineTo(u,l+h),t.quadraticCurveTo(u-v,l,u-d,l),t.lineTo(o+d,l),t.quadraticCurveTo(o+v,l,o,l+h),t.closePath()};var Zv=Math.sin(0),Kv=Math.cos(0),id={},sd={},Q1=Math.PI/40;for(var zn=0*Math.PI;zn<2*Math.PI;zn+=Q1)id[zn]=Math.sin(zn),sd[zn]=Math.cos(zn);ln.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,s,o=n/2,u=a/2,l=0*Math.PI;l<2*Math.PI;l+=Q1)i=e-o*id[l]*Zv+o*sd[l]*Kv,s=r+u*sd[l]*Zv+u*id[l]*Kv,l===0?t.moveTo(i,s):t.lineTo(i,s);t.closePath()};var mi={};mi.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};mi.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],s=t.full?Math.ceil(n.h):a[3],o=se(t.maxWidth)||se(t.maxHeight),u=this.getPixelRatio(),l=1;if(t.scale!==void 0)i*=t.scale,s*=t.scale,l=t.scale;else if(o){var c=1/0,f=1/0;se(t.maxWidth)&&(c=l*t.maxWidth/i),se(t.maxHeight)&&(f=l*t.maxHeight/s),l=Math.min(c,f),i*=l,s*=l}o||(i*=u,s*=u,l*=u);var d=document.createElement("canvas");d.width=i,d.height=s,d.style.width=i+"px",d.style.height=s+"px";var h=d.getContext("2d");if(i>0&&s>0){h.clearRect(0,0,i,s),h.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(t.full)h.translate(-n.x1*l,-n.y1*l),h.scale(l,l),this.drawElements(h,v),h.scale(1/l,1/l),h.translate(n.x1*l,n.y1*l);else{var g=e.pan(),m={x:g.x*l,y:g.y*l};l*=e.zoom(),h.translate(m.x,m.y),h.scale(l,l),this.drawElements(h,v),h.scale(1/l,1/l),h.translate(-m.x,-m.y)}t.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=t.bg,h.rect(0,0,i,s),h.fill())}return d};function D3(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function Xv(t){var e=t.indexOf(",");return t.substr(e+1)}function J1(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new pa(function(a,i){try{e.toBlob(function(s){s!=null?a(s):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){i(s)}});case"blob":return D3(Xv(n()),r);case"base64":return Xv(n());case"base64uri":default:return n()}}mi.png=function(t){return J1(t,this.bufferCanvasImage(t),"image/png")};mi.jpg=function(t){return J1(t,this.bufferCanvasImage(t),"image/jpeg")};var eb={};eb.nodeShapeImpl=function(t,e,r,n,a,i,s){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var M3=tb,Ne=tb.prototype;Ne.CANVAS_LAYERS=3;Ne.SELECT_BOX=0;Ne.DRAG=1;Ne.NODE=2;Ne.BUFFER_COUNT=3;Ne.TEXTURE_BUFFER=0;Ne.MOTIONBLUR_BUFFER_NODE=1;Ne.MOTIONBLUR_BUFFER_DRAG=2;function tb(t){var e=this;e.data={canvases:new Array(Ne.CANVAS_LAYERS),contexts:new Array(Ne.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ne.CANVAS_LAYERS),bufferCanvases:new Array(Ne.BUFFER_COUNT),bufferContexts:new Array(Ne.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var a=e.data.canvasContainer.style;e.data.canvasContainer.style[r]=n,a.position="relative",a.zIndex="0",a.overflow="hidden";var i=t.cy.container();i.appendChild(e.data.canvasContainer),i.style[r]=n;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};cT()&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var o=0;o<Ne.CANVAS_LAYERS;o++){var u=e.data.canvases[o]=document.createElement("canvas");e.data.contexts[o]=u.getContext("2d"),Object.keys(s).forEach(function(q){u.style[q]=s[q]}),u.style.position="absolute",u.setAttribute("data-id","layer"+o),u.style.zIndex=String(Ne.CANVAS_LAYERS-o),e.data.canvasContainer.appendChild(u),e.data.canvasNeedsRedraw[o]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Ne.NODE].setAttribute("data-id","layer"+Ne.NODE+"-node"),e.data.canvases[Ne.SELECT_BOX].setAttribute("data-id","layer"+Ne.SELECT_BOX+"-selectbox"),e.data.canvases[Ne.DRAG].setAttribute("data-id","layer"+Ne.DRAG+"-drag");for(var o=0;o<Ne.BUFFER_COUNT;o++)e.data.bufferCanvases[o]=document.createElement("canvas"),e.data.bufferContexts[o]=e.data.bufferCanvases[o].getContext("2d"),e.data.bufferCanvases[o].style.position="absolute",e.data.bufferCanvases[o].setAttribute("data-id","buffer"+o),e.data.bufferCanvases[o].style.zIndex=String(-o-1),e.data.bufferCanvases[o].style.visibility="hidden";e.pathsEnabled=!0;var l=zt(),c=function(L){return{x:(L.x1+L.x2)/2,y:(L.y1+L.y2)/2}},f=function(L){return{x:-L.w/2,y:-L.h/2}},d=function(L){var H=L[0]._private,U=H.oldBackgroundTimestamp===H.backgroundTimestamp;return!U},h=function(L){return L[0]._private.nodeKey},v=function(L){return L[0]._private.labelStyleKey},g=function(L){return L[0]._private.sourceLabelStyleKey},m=function(L){return L[0]._private.targetLabelStyleKey},p=function(L,H,U,X,re){return e.drawElement(L,H,U,!1,!1,re)},y=function(L,H,U,X,re){return e.drawElementText(L,H,U,X,"main",re)},b=function(L,H,U,X,re){return e.drawElementText(L,H,U,X,"source",re)},_=function(L,H,U,X,re){return e.drawElementText(L,H,U,X,"target",re)},x=function(L){return L.boundingBox(),L[0]._private.bodyBounds},S=function(L){return L.boundingBox(),L[0]._private.labelBounds.main||l},w=function(L){return L.boundingBox(),L[0]._private.labelBounds.source||l},T=function(L){return L.boundingBox(),L[0]._private.labelBounds.target||l},E=function(L,H){return H},k=function(L){return c(x(L))},D=function(L,H,U){var X=L?L+"-":"";return{x:H.x+U.pstyle(X+"text-margin-x").pfValue,y:H.y+U.pstyle(X+"text-margin-y").pfValue}},C=function(L,H,U){var X=L[0]._private.rscratch;return{x:X[H],y:X[U]}},P=function(L){return D("",C(L,"labelX","labelY"),L)},M=function(L){return D("source",C(L,"sourceLabelX","sourceLabelY"),L)},N=function(L){return D("target",C(L,"targetLabelX","targetLabelY"),L)},O=function(L){return f(x(L))},B=function(L){return f(w(L))},F=function(L){return f(T(L))},V=function(L){var H=S(L),U=f(S(L));if(L.isNode()){switch(L.pstyle("text-halign").value){case"left":U.x=-H.w;break;case"right":U.x=0;break}switch(L.pstyle("text-valign").value){case"top":U.y=-H.h;break;case"bottom":U.y=0;break}}return U},Y=e.data.eleTxrCache=new qa(e,{getKey:h,doesEleInvalidateKey:d,drawElement:p,getBoundingBox:x,getRotationPoint:k,getRotationOffset:O,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),z=e.data.lblTxrCache=new qa(e,{getKey:v,drawElement:y,getBoundingBox:S,getRotationPoint:P,getRotationOffset:V,isVisible:E}),$=e.data.slbTxrCache=new qa(e,{getKey:g,drawElement:b,getBoundingBox:w,getRotationPoint:M,getRotationOffset:B,isVisible:E}),G=e.data.tlbTxrCache=new qa(e,{getKey:m,drawElement:_,getBoundingBox:T,getRotationPoint:N,getRotationOffset:F,isVisible:E}),A=e.data.lyrTxrCache=new j1(e);e.onUpdateEleCalcs(function(L,H){Y.invalidateElements(H),z.invalidateElements(H),$.invalidateElements(H),G.invalidateElements(H),A.invalidateElements(H);for(var U=0;U<H.length;U++){var X=H[U]._private;X.oldBackgroundTimestamp=X.backgroundTimestamp}});var I=function(L){for(var H=0;H<L.length;H++)A.enqueueElementRefinement(L[H].ele)};Y.onDequeue(I),z.onDequeue(I),$.onDequeue(I),G.onDequeue(I)}Ne.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Ne.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Ne.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Ne.SELECT_BOX]=e;break}};var R3=typeof Path2D<"u";Ne.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Ne.usePaths=function(){return R3&&this.pathsEnabled};Ne.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Ne.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Ne.makeOffscreenCanvas=function(t,e){var r;return(typeof OffscreenCanvas>"u"?"undefined":ht(OffscreenCanvas))!=="undefined"?r=new OffscreenCanvas(t,e):(r=document.createElement("canvas"),r.width=t,r.height=e),r};[Z1,xr,zr,Hd,Rn,_a,Wt,ln,mi,eb].forEach(function(t){be(Ne,t)});var P3=[{name:"null",impl:F1},{name:"base",impl:U1},{name:"canvas",impl:M3}],O3=[{type:"layout",extensions:F4},{type:"renderer",extensions:P3}],rb={},nb={};function ab(t,e,r){var n=r,a=function(T){Ye("Can not register `"+e+"` for `"+t+"` since `"+T+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(ti.prototype[e])return a(e);ti.prototype[e]=r}else if(t==="collection"){if(_t.prototype[e])return a(e);_t.prototype[e]=r}else if(t==="layout"){for(var i=function(T){this.options=T,r.call(this,T),Be(this._private)||(this._private={}),this._private.cy=T.cy,this._private.listeners=[],this.createEmitter()},s=i.prototype=Object.create(r.prototype),o=[],u=0;u<o.length;u++){var l=o[u];s[l]=s[l]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var c=r.prototype.stop;s.stop=function(){var w=this.options;if(w&&w.animate){var T=this.animations;if(T)for(var E=0;E<T.length;E++)T[E].stop()}return c?c.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var f=function(T){return T._private.cy},d={addEventFields:function(T,E){E.layout=T,E.cy=f(T),E.target=T},bubble:function(){return!0},parent:function(T){return f(T)}};be(s,{createEmitter:function(){return this._private.emitter=new As(d,this),this},emitter:function(){return this._private.emitter},on:function(T,E){return this.emitter().on(T,E),this},one:function(T,E){return this.emitter().one(T,E),this},once:function(T,E){return this.emitter().one(T,E),this},removeListener:function(T,E){return this.emitter().removeListener(T,E),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(T,E){return this.emitter().emit(T,E),this}}),He.eventAliasesOn(s),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var h=ib("renderer","base"),v=h.prototype,g=r,m=r.prototype,p=function(){h.apply(this,arguments),g.apply(this,arguments)},y=p.prototype;for(var b in v){var _=v[b],x=m[b]!=null;if(x)return a(b);y[b]=_}for(var S in m)y[S]=m[S];v.clientFunctions.forEach(function(w){y[w]=y[w]||function(){nt("Renderer does not implement `renderer."+w+"()` on its prototype")}}),n=p}else if(t==="__proto__"||t==="constructor"||t==="prototype")return nt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Vy({map:rb,keys:[t,e],value:n})}function ib(t,e){return Hy({map:rb,keys:[t,e]})}function L3(t,e,r,n,a){return Vy({map:nb,keys:[t,e,r,n],value:a})}function A3(t,e,r,n){return Hy({map:nb,keys:[t,e,r,n]})}var od=function(){if(arguments.length===2)return ib.apply(null,arguments);if(arguments.length===3)return ab.apply(null,arguments);if(arguments.length===4)return A3.apply(null,arguments);if(arguments.length===5)return L3.apply(null,arguments);nt("Invalid extension access syntax")};ti.prototype.extension=od;O3.forEach(function(t){t.extensions.forEach(function(e){ab(t.type,e.name,e.impl)})});var sb=function t(){if(!(this instanceof t))return new t;this.length=0},En=sb.prototype;En.instanceString=function(){return"stylesheet"};En.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};En.css=function(t,e){var r=this.length-1;if(pe(t))this[r].properties.push({name:t,value:e});else if(Be(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var s=a[i],o=n[s];if(o!=null){var u=Et.properties[s]||Et.properties[Ms(s)];if(u!=null){var l=u.name,c=o;this[r].properties.push({name:l,value:c})}}}return this};En.style=En.css;En.generateStyle=function(t){var e=new Et(t);return this.appendToStyle(e)};En.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var s=a[i];t.css(s.name,s.value)}}return t};var I3="3.26.0",Tn=function(e){if(e===void 0&&(e={}),Be(e))return new ti(e);if(pe(e))return od.apply(od,arguments)};Tn.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Tn),t.apply(null,e),this};Tn.warnings=function(t){return jy(t)};Tn.version=I3;Tn.stylesheet=Tn.Stylesheet=sb;var B3=Tn;const ob=oa(B3);var ub={exports:{}};function Yd(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ao,Qv;function N3(){if(Qv)return Ao;Qv=1;var t=ws;function e(){this.__data__=new t,this.size=0}return Ao=e,Ao}var Io,Jv;function q3(){if(Jv)return Io;Jv=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Io=t,Io}var Bo,ep;function F3(){if(ep)return Bo;ep=1;function t(e){return this.__data__.get(e)}return Bo=t,Bo}var No,tp;function z3(){if(tp)return No;tp=1;function t(e){return this.__data__.has(e)}return No=t,No}var qo,rp;function V3(){if(rp)return qo;rp=1;var t=ws,e=yd,r=bd,n=200;function a(i,s){var o=this.__data__;if(o instanceof t){var u=o.__data__;if(!e||u.length<n-1)return u.push([i,s]),this.size=++o.size,this;o=this.__data__=new r(u)}return o.set(i,s),this.size=o.size,this}return qo=a,qo}var Fo,np;function Hs(){if(np)return Fo;np=1;var t=ws,e=N3(),r=q3(),n=F3(),a=z3(),i=V3();function s(o){var u=this.__data__=new t(o);this.size=u.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Fo=s,Fo}var zo,ap;function $d(){if(ap)return zo;ap=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a&&r(e[n],n,e)!==!1;);return e}return zo=t,zo}var Vo,ip;function yi(){if(ip)return Vo;ip=1;var t=Cs,e=Ts;function r(n,a,i,s){var o=!i;i||(i={});for(var u=-1,l=a.length;++u<l;){var c=a[u],f=s?s(i[c],n[c],c,i,n):void 0;f===void 0&&(f=n[c]),o?e(i,c,f):t(i,c,f)}return i}return Vo=r,Vo}var Ho,sp;function H3(){if(sp)return Ho;sp=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return Ho=t,Ho}var Yo,op;function Y3(){if(op)return Yo;op=1;var t=Cn,e=wr,r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return Yo=n,Yo}var $o,up;function bi(){if(up)return $o;up=1;var t=Y3(),e=wr,r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return $o=i,$o}var Fa={exports:{}},Wo,lp;function $3(){if(lp)return Wo;lp=1;function t(){return!1}return Wo=t,Wo}Fa.exports;var cp;function wa(){return cp||(cp=1,function(t,e){var r=hr,n=$3(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?r.Buffer:void 0,u=o?o.isBuffer:void 0,l=u||n;t.exports=l}(Fa,Fa.exports)),Fa.exports}var Uo,fp;function Wd(){if(fp)return Uo;fp=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Uo=e,Uo}var Go,dp;function W3(){if(dp)return Go;dp=1;var t=Cn,e=Wd(),r=wr,n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",v="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",p="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",S="[object Int32Array]",w="[object Uint8Array]",T="[object Uint8ClampedArray]",E="[object Uint16Array]",k="[object Uint32Array]",D={};D[y]=D[b]=D[_]=D[x]=D[S]=D[w]=D[T]=D[E]=D[k]=!0,D[n]=D[a]=D[m]=D[i]=D[p]=D[s]=D[o]=D[u]=D[l]=D[c]=D[f]=D[d]=D[h]=D[v]=D[g]=!1;function C(P){return r(P)&&e(P.length)&&!!D[t(P)]}return Go=C,Go}var jo,hp;function Ys(){if(hp)return jo;hp=1;function t(e){return function(r){return e(r)}}return jo=t,jo}var za={exports:{}};za.exports;var vp;function Ud(){return vp||(vp=1,function(t,e){var r=xy,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var u=a&&a.require&&a.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(za,za.exports)),za.exports}var Zo,pp;function _i(){if(pp)return Zo;pp=1;var t=W3(),e=Ys(),r=Ud(),n=r&&r.isTypedArray,a=n?e(n):t;return Zo=a,Zo}var Ko,gp;function lb(){if(gp)return Ko;gp=1;var t=H3(),e=bi(),r=ut,n=wa(),a=ks,i=_i(),s=Object.prototype,o=s.hasOwnProperty;function u(l,c){var f=r(l),d=!f&&e(l),h=!f&&!d&&n(l),v=!f&&!d&&!h&&i(l),g=f||d||h||v,m=g?t(l.length,String):[],p=m.length;for(var y in l)(c||o.call(l,y))&&!(g&&(y=="length"||h&&(y=="offset"||y=="parent")||v&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||a(y,p)))&&m.push(y);return m}return Ko=u,Ko}var Xo,mp;function $s(){if(mp)return Xo;mp=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Xo=e,Xo}var Qo,yp;function cb(){if(yp)return Qo;yp=1;function t(e,r){return function(n){return e(r(n))}}return Qo=t,Qo}var Jo,bp;function U3(){if(bp)return Jo;bp=1;var t=cb(),e=t(Object.keys,Object);return Jo=e,Jo}var eu,_p;function Gd(){if(_p)return eu;_p=1;var t=$s(),e=U3(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var o in Object(i))n.call(i,o)&&o!="constructor"&&s.push(o);return s}return eu=a,eu}var tu,wp;function Vr(){if(wp)return tu;wp=1;var t=si(),e=Wd();function r(n){return n!=null&&e(n.length)&&!t(n)}return tu=r,tu}var ru,Sp;function cn(){if(Sp)return ru;Sp=1;var t=lb(),e=Gd(),r=Vr();function n(a){return r(a)?t(a):e(a)}return ru=n,ru}var nu,xp;function G3(){if(xp)return nu;xp=1;var t=yi(),e=cn();function r(n,a){return n&&t(a,e(a),n)}return nu=r,nu}var au,Ep;function j3(){if(Ep)return au;Ep=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return au=t,au}var iu,Tp;function Z3(){if(Tp)return iu;Tp=1;var t=$t,e=$s(),r=j3(),n=Object.prototype,a=n.hasOwnProperty;function i(s){if(!t(s))return r(s);var o=e(s),u=[];for(var l in s)l=="constructor"&&(o||!a.call(s,l))||u.push(l);return u}return iu=i,iu}var su,Cp;function Pn(){if(Cp)return su;Cp=1;var t=lb(),e=Z3(),r=Vr();function n(a){return r(a)?t(a,!0):e(a)}return su=n,su}var ou,kp;function K3(){if(kp)return ou;kp=1;var t=yi(),e=Pn();function r(n,a){return n&&t(a,e(a),n)}return ou=r,ou}var Va={exports:{}};Va.exports;var Dp;function fb(){return Dp||(Dp=1,function(t,e){var r=hr,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,d=o?o(f):new l.constructor(f);return l.copy(d),d}t.exports=u}(Va,Va.exports)),Va.exports}var uu,Mp;function db(){if(Mp)return uu;Mp=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,s=[];++n<a;){var o=e[n];r(o,n,e)&&(s[i++]=o)}return s}return uu=t,uu}var lu,Rp;function hb(){if(Rp)return lu;Rp=1;function t(){return[]}return lu=t,lu}var cu,Pp;function jd(){if(Pp)return cu;Pp=1;var t=db(),e=hb(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(o){return n.call(s,o)}))}:e;return cu=i,cu}var fu,Op;function X3(){if(Op)return fu;Op=1;var t=yi(),e=jd();function r(n,a){return t(n,e(n),a)}return fu=r,fu}var du,Lp;function Zd(){if(Lp)return du;Lp=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return du=t,du}var hu,Ap;function Ws(){if(Ap)return hu;Ap=1;var t=cb(),e=t(Object.getPrototypeOf,Object);return hu=e,hu}var vu,Ip;function vb(){if(Ip)return vu;Ip=1;var t=Zd(),e=Ws(),r=jd(),n=hb(),a=Object.getOwnPropertySymbols,i=a?function(s){for(var o=[];s;)t(o,r(s)),s=e(s);return o}:n;return vu=i,vu}var pu,Bp;function Q3(){if(Bp)return pu;Bp=1;var t=yi(),e=vb();function r(n,a){return t(n,e(n),a)}return pu=r,pu}var gu,Np;function pb(){if(Np)return gu;Np=1;var t=Zd(),e=ut;function r(n,a,i){var s=a(n);return e(n)?s:t(s,i(n))}return gu=r,gu}var mu,qp;function gb(){if(qp)return mu;qp=1;var t=pb(),e=jd(),r=cn();function n(a){return t(a,r,e)}return mu=n,mu}var yu,Fp;function J3(){if(Fp)return yu;Fp=1;var t=pb(),e=vb(),r=Pn();function n(a){return t(a,r,e)}return yu=n,yu}var bu,zp;function e5(){if(zp)return bu;zp=1;var t=Dn,e=hr,r=t(e,"DataView");return bu=r,bu}var _u,Vp;function t5(){if(Vp)return _u;Vp=1;var t=Dn,e=hr,r=t(e,"Promise");return _u=r,_u}var wu,Hp;function mb(){if(Hp)return wu;Hp=1;var t=Dn,e=hr,r=t(e,"Set");return wu=r,wu}var Su,Yp;function r5(){if(Yp)return Su;Yp=1;var t=Dn,e=hr,r=t(e,"WeakMap");return Su=r,Su}var xu,$p;function Sa(){if($p)return xu;$p=1;var t=e5(),e=yd,r=t5(),n=mb(),a=r5(),i=Cn,s=Dy(),o="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=s(t),v=s(e),g=s(r),m=s(n),p=s(a),y=i;return(t&&y(new t(new ArrayBuffer(1)))!=d||e&&y(new e)!=o||r&&y(r.resolve())!=l||n&&y(new n)!=c||a&&y(new a)!=f)&&(y=function(b){var _=i(b),x=_==u?b.constructor:void 0,S=x?s(x):"";if(S)switch(S){case h:return d;case v:return o;case g:return l;case m:return c;case p:return f}return _}),xu=y,xu}var Eu,Wp;function n5(){if(Wp)return Eu;Wp=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var a=n.length,i=new n.constructor(a);return a&&typeof n[0]=="string"&&e.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return Eu=r,Eu}var Tu,Up;function yb(){if(Up)return Tu;Up=1;var t=hr,e=t.Uint8Array;return Tu=e,Tu}var Cu,Gp;function Kd(){if(Gp)return Cu;Gp=1;var t=yb();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return Cu=e,Cu}var ku,jp;function a5(){if(jp)return ku;jp=1;var t=Kd();function e(r,n){var a=n?t(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)}return ku=e,ku}var Du,Zp;function i5(){if(Zp)return Du;Zp=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return Du=e,Du}var Mu,Kp;function s5(){if(Kp)return Mu;Kp=1;var t=ua,e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(a){return r?Object(r.call(a)):{}}return Mu=n,Mu}var Ru,Xp;function bb(){if(Xp)return Ru;Xp=1;var t=Kd();function e(r,n){var a=n?t(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}return Ru=e,Ru}var Pu,Qp;function o5(){if(Qp)return Pu;Qp=1;var t=Kd(),e=a5(),r=i5(),n=s5(),a=bb(),i="[object Boolean]",s="[object Date]",o="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",v="[object DataView]",g="[object Float32Array]",m="[object Float64Array]",p="[object Int8Array]",y="[object Int16Array]",b="[object Int32Array]",_="[object Uint8Array]",x="[object Uint8ClampedArray]",S="[object Uint16Array]",w="[object Uint32Array]";function T(E,k,D){var C=E.constructor;switch(k){case h:return t(E);case i:case s:return new C(+E);case v:return e(E,D);case g:case m:case p:case y:case b:case _:case x:case S:case w:return a(E,D);case o:return new C;case u:case f:return new C(E);case l:return r(E);case c:return new C;case d:return n(E)}}return Pu=T,Pu}var Ou,Jp;function _b(){if(Jp)return Ou;Jp=1;var t=$t,e=Object.create,r=function(){function n(){}return function(a){if(!t(a))return{};if(e)return e(a);n.prototype=a;var i=new n;return n.prototype=void 0,i}}();return Ou=r,Ou}var Lu,eg;function wb(){if(eg)return Lu;eg=1;var t=_b(),e=Ws(),r=$s();function n(a){return typeof a.constructor=="function"&&!r(a)?t(e(a)):{}}return Lu=n,Lu}var Au,tg;function u5(){if(tg)return Au;tg=1;var t=Sa(),e=wr,r="[object Map]";function n(a){return e(a)&&t(a)==r}return Au=n,Au}var Iu,rg;function l5(){if(rg)return Iu;rg=1;var t=u5(),e=Ys(),r=Ud(),n=r&&r.isMap,a=n?e(n):t;return Iu=a,Iu}var Bu,ng;function c5(){if(ng)return Bu;ng=1;var t=Sa(),e=wr,r="[object Set]";function n(a){return e(a)&&t(a)==r}return Bu=n,Bu}var Nu,ag;function f5(){if(ag)return Nu;ag=1;var t=c5(),e=Ys(),r=Ud(),n=r&&r.isSet,a=n?e(n):t;return Nu=a,Nu}var qu,ig;function Sb(){if(ig)return qu;ig=1;var t=Hs(),e=$d(),r=Cs,n=G3(),a=K3(),i=fb(),s=Sd,o=X3(),u=Q3(),l=gb(),c=J3(),f=Sa(),d=n5(),h=o5(),v=wb(),g=ut,m=wa(),p=l5(),y=$t,b=f5(),_=cn(),x=Pn(),S=1,w=2,T=4,E="[object Arguments]",k="[object Array]",D="[object Boolean]",C="[object Date]",P="[object Error]",M="[object Function]",N="[object GeneratorFunction]",O="[object Map]",B="[object Number]",F="[object Object]",V="[object RegExp]",Y="[object Set]",z="[object String]",$="[object Symbol]",G="[object WeakMap]",A="[object ArrayBuffer]",I="[object DataView]",q="[object Float32Array]",L="[object Float64Array]",H="[object Int8Array]",U="[object Int16Array]",X="[object Int32Array]",re="[object Uint8Array]",ye="[object Uint8ClampedArray]",he="[object Uint16Array]",ne="[object Uint32Array]",K={};K[E]=K[k]=K[A]=K[I]=K[D]=K[C]=K[q]=K[L]=K[H]=K[U]=K[X]=K[O]=K[B]=K[F]=K[V]=K[Y]=K[z]=K[$]=K[re]=K[ye]=K[he]=K[ne]=!0,K[P]=K[M]=K[G]=!1;function ue(te,ie,le,Te,Se,de){var xe,Q=ie&S,R=ie&w,W=ie&T;if(le&&(xe=Se?le(te,Te,Se,de):le(te)),xe!==void 0)return xe;if(!y(te))return te;var J=g(te);if(J){if(xe=d(te),!Q)return s(te,xe)}else{var j=f(te),Z=j==M||j==N;if(m(te))return i(te,Q);if(j==F||j==E||Z&&!Se){if(xe=R||Z?{}:v(te),!Q)return R?u(te,a(xe,te)):o(te,n(xe,te))}else{if(!K[j])return Se?te:{};xe=h(te,j,Q)}}de||(de=new t);var we=de.get(te);if(we)return we;de.set(te,xe),b(te)?te.forEach(function(Ce){xe.add(ue(Ce,ie,le,Ce,te,de))}):p(te)&&te.forEach(function(Ce,Le){xe.set(Le,ue(Ce,ie,le,Le,te,de))});var ee=W?R?c:l:R?x:_,ve=J?void 0:ee(te);return e(ve||te,function(Ce,Le){ve&&(Le=Ce,Ce=te[Le]),r(xe,Le,ue(Ce,ie,le,Le,te,de))}),xe}return qu=ue,qu}var Fu,sg;function d5(){if(sg)return Fu;sg=1;var t=Sb(),e=4;function r(n){return t(n,e)}return Fu=r,Fu}var zu,og;function Xd(){if(og)return zu;og=1;function t(e){return function(){return e}}return zu=t,zu}var Vu,ug;function h5(){if(ug)return Vu;ug=1;function t(e){return function(r,n,a){for(var i=-1,s=Object(r),o=a(r),u=o.length;u--;){var l=o[e?u:++i];if(n(s[l],l,s)===!1)break}return r}}return Vu=t,Vu}var Hu,lg;function Qd(){if(lg)return Hu;lg=1;var t=h5(),e=t();return Hu=e,Hu}var Yu,cg;function Jd(){if(cg)return Yu;cg=1;var t=Qd(),e=cn();function r(n,a){return n&&t(n,a,e)}return Yu=r,Yu}var $u,fg;function v5(){if(fg)return $u;fg=1;var t=Vr();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var s=a.length,o=n?s:-1,u=Object(a);(n?o--:++o<s)&&i(u[o],o,u)!==!1;);return a}}return $u=e,$u}var Wu,dg;function Us(){if(dg)return Wu;dg=1;var t=Jd(),e=v5(),r=e(t);return Wu=r,Wu}var Uu,hg;function On(){if(hg)return Uu;hg=1;function t(e){return e}return Uu=t,Uu}var Gu,vg;function xb(){if(vg)return Gu;vg=1;var t=On();function e(r){return typeof r=="function"?r:t}return Gu=e,Gu}var ju,pg;function Eb(){if(pg)return ju;pg=1;var t=$d(),e=Us(),r=xb(),n=ut;function a(i,s){var o=n(i)?t:e;return o(i,r(s))}return ju=a,ju}var Zu,gg;function Tb(){return gg||(gg=1,Zu=Eb()),Zu}var Ku,mg;function p5(){if(mg)return Ku;mg=1;var t=Us();function e(r,n){var a=[];return t(r,function(i,s,o){n(i,s,o)&&a.push(i)}),a}return Ku=e,Ku}var Xu,yg;function g5(){if(yg)return Xu;yg=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Xu=e,Xu}var Qu,bg;function m5(){if(bg)return Qu;bg=1;function t(e){return this.__data__.has(e)}return Qu=t,Qu}var Ju,_g;function Cb(){if(_g)return Ju;_g=1;var t=bd,e=g5(),r=m5();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Ju=n,Ju}var el,wg;function y5(){if(wg)return el;wg=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return el=t,el}var tl,Sg;function kb(){if(Sg)return tl;Sg=1;function t(e,r){return e.has(r)}return tl=t,tl}var rl,xg;function Db(){if(xg)return rl;xg=1;var t=Cb(),e=y5(),r=kb(),n=1,a=2;function i(s,o,u,l,c,f){var d=u&n,h=s.length,v=o.length;if(h!=v&&!(d&&v>h))return!1;var g=f.get(s),m=f.get(o);if(g&&m)return g==o&&m==s;var p=-1,y=!0,b=u&a?new t:void 0;for(f.set(s,o),f.set(o,s);++p<h;){var _=s[p],x=o[p];if(l)var S=d?l(x,_,p,o,s,f):l(_,x,p,s,o,f);if(S!==void 0){if(S)continue;y=!1;break}if(b){if(!e(o,function(w,T){if(!r(b,T)&&(_===w||c(_,w,u,l,f)))return b.push(T)})){y=!1;break}}else if(!(_===x||c(_,x,u,l,f))){y=!1;break}}return f.delete(s),f.delete(o),y}return rl=i,rl}var nl,Eg;function b5(){if(Eg)return nl;Eg=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return nl=t,nl}var al,Tg;function eh(){if(Tg)return al;Tg=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return al=t,al}var il,Cg;function _5(){if(Cg)return il;Cg=1;var t=ua,e=yb(),r=ca,n=Db(),a=b5(),i=eh(),s=1,o=2,u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",v="[object Set]",g="[object String]",m="[object Symbol]",p="[object ArrayBuffer]",y="[object DataView]",b=t?t.prototype:void 0,_=b?b.valueOf:void 0;function x(S,w,T,E,k,D,C){switch(T){case y:if(S.byteLength!=w.byteLength||S.byteOffset!=w.byteOffset)return!1;S=S.buffer,w=w.buffer;case p:return!(S.byteLength!=w.byteLength||!D(new e(S),new e(w)));case u:case l:case d:return r(+S,+w);case c:return S.name==w.name&&S.message==w.message;case h:case g:return S==w+"";case f:var P=a;case v:var M=E&s;if(P||(P=i),S.size!=w.size&&!M)return!1;var N=C.get(S);if(N)return N==w;E|=o,C.set(S,w);var O=n(P(S),P(w),E,k,D,C);return C.delete(S),O;case m:if(_)return _.call(S)==_.call(w)}return!1}return il=x,il}var sl,kg;function w5(){if(kg)return sl;kg=1;var t=gb(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o,u,l,c){var f=o&e,d=t(i),h=d.length,v=t(s),g=v.length;if(h!=g&&!f)return!1;for(var m=h;m--;){var p=d[m];if(!(f?p in s:n.call(s,p)))return!1}var y=c.get(i),b=c.get(s);if(y&&b)return y==s&&b==i;var _=!0;c.set(i,s),c.set(s,i);for(var x=f;++m<h;){p=d[m];var S=i[p],w=s[p];if(u)var T=f?u(w,S,p,s,i,c):u(S,w,p,i,s,c);if(!(T===void 0?S===w||l(S,w,o,u,c):T)){_=!1;break}x||(x=p=="constructor")}if(_&&!x){var E=i.constructor,k=s.constructor;E!=k&&"constructor"in i&&"constructor"in s&&!(typeof E=="function"&&E instanceof E&&typeof k=="function"&&k instanceof k)&&(_=!1)}return c.delete(i),c.delete(s),_}return sl=a,sl}var ol,Dg;function S5(){if(Dg)return ol;Dg=1;var t=Hs(),e=Db(),r=_5(),n=w5(),a=Sa(),i=ut,s=wa(),o=_i(),u=1,l="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function v(g,m,p,y,b,_){var x=i(g),S=i(m),w=x?c:a(g),T=S?c:a(m);w=w==l?f:w,T=T==l?f:T;var E=w==f,k=T==f,D=w==T;if(D&&s(g)){if(!s(m))return!1;x=!0,E=!1}if(D&&!E)return _||(_=new t),x||o(g)?e(g,m,p,y,b,_):r(g,m,w,p,y,b,_);if(!(p&u)){var C=E&&h.call(g,"__wrapped__"),P=k&&h.call(m,"__wrapped__");if(C||P){var M=C?g.value():g,N=P?m.value():m;return _||(_=new t),b(M,N,p,y,_)}}return D?(_||(_=new t),n(g,m,p,y,b,_)):!1}return ol=v,ol}var ul,Mg;function Mb(){if(Mg)return ul;Mg=1;var t=S5(),e=wr;function r(n,a,i,s,o){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,s,r,o)}return ul=r,ul}var ll,Rg;function x5(){if(Rg)return ll;Rg=1;var t=Hs(),e=Mb(),r=1,n=2;function a(i,s,o,u){var l=o.length,c=l,f=!u;if(i==null)return!c;for(i=Object(i);l--;){var d=o[l];if(f&&d[2]?d[1]!==i[d[0]]:!(d[0]in i))return!1}for(;++l<c;){d=o[l];var h=d[0],v=i[h],g=d[1];if(f&&d[2]){if(v===void 0&&!(h in i))return!1}else{var m=new t;if(u)var p=u(v,g,h,i,s,m);if(!(p===void 0?e(g,v,r|n,u,m):p))return!1}}return!0}return ll=a,ll}var cl,Pg;function Rb(){if(Pg)return cl;Pg=1;var t=$t;function e(r){return r===r&&!t(r)}return cl=e,cl}var fl,Og;function E5(){if(Og)return fl;Og=1;var t=Rb(),e=cn();function r(n){for(var a=e(n),i=a.length;i--;){var s=a[i],o=n[s];a[i]=[s,o,t(o)]}return a}return fl=r,fl}var dl,Lg;function Pb(){if(Lg)return dl;Lg=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return dl=t,dl}var hl,Ag;function T5(){if(Ag)return hl;Ag=1;var t=x5(),e=E5(),r=Pb();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return hl=n,hl}var vl,Ig;function C5(){if(Ig)return vl;Ig=1;function t(e,r){return e!=null&&r in Object(e)}return vl=t,vl}var pl,Bg;function Ob(){if(Bg)return pl;Bg=1;var t=xs,e=bi(),r=ut,n=ks,a=Wd(),i=ha;function s(o,u,l){u=t(u,o);for(var c=-1,f=u.length,d=!1;++c<f;){var h=i(u[c]);if(!(d=o!=null&&l(o,h)))break;o=o[h]}return d||++c!=f?d:(f=o==null?0:o.length,!!f&&a(f)&&n(h,f)&&(r(o)||e(o)))}return pl=s,pl}var gl,Ng;function Lb(){if(Ng)return gl;Ng=1;var t=C5(),e=Ob();function r(n,a){return n!=null&&e(n,a,t)}return gl=r,gl}var ml,qg;function k5(){if(qg)return ml;qg=1;var t=Mb(),e=Oy,r=Lb(),n=md,a=Rb(),i=Pb(),s=ha,o=1,u=2;function l(c,f){return n(c)&&a(f)?i(s(c),f):function(d){var h=e(d,c);return h===void 0&&h===f?r(d,c):t(f,h,o|u)}}return ml=l,ml}var yl,Fg;function Ab(){if(Fg)return yl;Fg=1;function t(e){return function(r){return r==null?void 0:r[e]}}return yl=t,yl}var bl,zg;function D5(){if(zg)return bl;zg=1;var t=Es;function e(r){return function(n){return t(n,r)}}return bl=e,bl}var _l,Vg;function M5(){if(Vg)return _l;Vg=1;var t=Ab(),e=D5(),r=md,n=ha;function a(i){return r(i)?t(n(i)):e(i)}return _l=a,_l}var wl,Hg;function Hr(){if(Hg)return wl;Hg=1;var t=T5(),e=k5(),r=On(),n=ut,a=M5();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):a(s)}return wl=i,wl}var Sl,Yg;function Ib(){if(Yg)return Sl;Yg=1;var t=db(),e=p5(),r=Hr(),n=ut;function a(i,s){var o=n(i)?t:e;return o(i,r(s,3))}return Sl=a,Sl}var xl,$g;function R5(){if($g)return xl;$g=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n,a){return n!=null&&e.call(n,a)}return xl=r,xl}var El,Wg;function Bb(){if(Wg)return El;Wg=1;var t=R5(),e=Ob();function r(n,a){return n!=null&&e(n,a,t)}return El=r,El}var Tl,Ug;function P5(){if(Ug)return Tl;Ug=1;var t=Gd(),e=Sa(),r=bi(),n=ut,a=Vr(),i=wa(),s=$s(),o=_i(),u="[object Map]",l="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(h){if(h==null)return!0;if(a(h)&&(n(h)||typeof h=="string"||typeof h.splice=="function"||i(h)||o(h)||r(h)))return!h.length;var v=e(h);if(v==u||v==l)return!h.size;if(s(h))return!t(h).length;for(var g in h)if(f.call(h,g))return!1;return!0}return Tl=d,Tl}var Cl,Gg;function Nb(){if(Gg)return Cl;Gg=1;function t(e){return e===void 0}return Cl=t,Cl}var kl,jg;function qb(){if(jg)return kl;jg=1;var t=Us(),e=Vr();function r(n,a){var i=-1,s=e(n)?Array(n.length):[];return t(n,function(o,u,l){s[++i]=a(o,u,l)}),s}return kl=r,kl}var Dl,Zg;function Fb(){if(Zg)return Dl;Zg=1;var t=oi,e=Hr(),r=qb(),n=ut;function a(i,s){var o=n(i)?t:r;return o(i,e(s,3))}return Dl=a,Dl}var Ml,Kg;function O5(){if(Kg)return Ml;Kg=1;function t(e,r,n,a){var i=-1,s=e==null?0:e.length;for(a&&s&&(n=e[++i]);++i<s;)n=r(n,e[i],i,e);return n}return Ml=t,Ml}var Rl,Xg;function L5(){if(Xg)return Rl;Xg=1;function t(e,r,n,a,i){return i(e,function(s,o,u){n=a?(a=!1,s):r(n,s,o,u)}),n}return Rl=t,Rl}var Pl,Qg;function zb(){if(Qg)return Pl;Qg=1;var t=O5(),e=Us(),r=Hr(),n=L5(),a=ut;function i(s,o,u){var l=a(s)?t:n,c=arguments.length<3;return l(s,r(o,4),u,c,e)}return Pl=i,Pl}var A5=Cn,I5=ut,B5=wr,N5="[object String]";function q5(t){return typeof t=="string"||!I5(t)&&B5(t)&&A5(t)==N5}var Vb=q5;const K6=oa(Vb);var Ol,Jg;function F5(){if(Jg)return Ol;Jg=1;var t=Ab(),e=t("length");return Ol=e,Ol}var Ll,e0;function z5(){if(e0)return Ll;e0=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+a+i+"]");function u(l){return o.test(l)}return Ll=u,Ll}var Al,t0;function V5(){if(t0)return Al;t0=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="["+t+"]",o="["+a+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+o+"|"+u+")",c="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",v=l+"?",g="["+i+"]?",m="(?:"+h+"(?:"+[c,f,d].join("|")+")"+g+v+")*",p=g+v+m,y="(?:"+[c+o+"?",o,f,d,s].join("|")+")",b=RegExp(u+"(?="+u+")|"+y+p,"g");function _(x){for(var S=b.lastIndex=0;b.test(x);)++S;return S}return Al=_,Al}var Il,r0;function H5(){if(r0)return Il;r0=1;var t=F5(),e=z5(),r=V5();function n(a){return e(a)?r(a):t(a)}return Il=n,Il}var Bl,n0;function Y5(){if(n0)return Bl;n0=1;var t=Gd(),e=Sa(),r=Vr(),n=Vb,a=H5(),i="[object Map]",s="[object Set]";function o(u){if(u==null)return 0;if(r(u))return n(u)?a(u):u.length;var l=e(u);return l==i||l==s?u.size:t(u).length}return Bl=o,Bl}var Nl,a0;function $5(){if(a0)return Nl;a0=1;var t=$d(),e=_b(),r=Jd(),n=Hr(),a=Ws(),i=ut,s=wa(),o=si(),u=$t,l=_i();function c(f,d,h){var v=i(f),g=v||s(f)||l(f);if(d=n(d,4),h==null){var m=f&&f.constructor;g?h=v?new m:[]:u(f)?h=o(m)?e(a(f)):{}:h={}}return(g?t:r)(f,function(p,y,b){return d(h,p,y,b)}),h}return Nl=c,Nl}var ql,i0;function W5(){if(i0)return ql;i0=1;var t=ua,e=bi(),r=ut,n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return ql=a,ql}var Fl,s0;function th(){if(s0)return Fl;s0=1;var t=Zd(),e=W5();function r(n,a,i,s,o){var u=-1,l=n.length;for(i||(i=e),o||(o=[]);++u<l;){var c=n[u];a>0&&i(c)?a>1?r(c,a-1,i,s,o):t(o,c):s||(o[o.length]=c)}return o}return Fl=r,Fl}var zl,o0;function U5(){if(o0)return zl;o0=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return zl=t,zl}var Vl,u0;function Hb(){if(u0)return Vl;u0=1;var t=U5(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var s=arguments,o=-1,u=e(s.length-a,0),l=Array(u);++o<u;)l[o]=s[a+o];o=-1;for(var c=Array(a+1);++o<a;)c[o]=s[o];return c[a]=i(l),t(n,this,c)}}return Vl=r,Vl}var Hl,l0;function G5(){if(l0)return Hl;l0=1;var t=Xd(),e=Ly,r=On(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Hl=n,Hl}var Yl,c0;function j5(){if(c0)return Yl;c0=1;var t=800,e=16,r=Date.now;function n(a){var i=0,s=0;return function(){var o=r(),u=e-(o-s);if(s=o,u>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Yl=n,Yl}var $l,f0;function Yb(){if(f0)return $l;f0=1;var t=G5(),e=j5(),r=e(t);return $l=r,$l}var Wl,d0;function Gs(){if(d0)return Wl;d0=1;var t=On(),e=Hb(),r=Yb();function n(a,i){return r(e(a,i,t),a+"")}return Wl=n,Wl}var Ul,h0;function $b(){if(h0)return Ul;h0=1;function t(e,r,n,a){for(var i=e.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(e[s],s,e))return s;return-1}return Ul=t,Ul}var Gl,v0;function Z5(){if(v0)return Gl;v0=1;function t(e){return e!==e}return Gl=t,Gl}var jl,p0;function K5(){if(p0)return jl;p0=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return jl=t,jl}var Zl,g0;function X5(){if(g0)return Zl;g0=1;var t=$b(),e=Z5(),r=K5();function n(a,i,s){return i===i?r(a,i,s):t(a,e,s)}return Zl=n,Zl}var Kl,m0;function Q5(){if(m0)return Kl;m0=1;var t=X5();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Kl=e,Kl}var Xl,y0;function J5(){if(y0)return Xl;y0=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return Xl=t,Xl}var Ql,b0;function eD(){if(b0)return Ql;b0=1;function t(){}return Ql=t,Ql}var Jl,_0;function tD(){if(_0)return Jl;_0=1;var t=mb(),e=eD(),r=eh(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return Jl=a,Jl}var ec,w0;function rD(){if(w0)return ec;w0=1;var t=Cb(),e=Q5(),r=J5(),n=kb(),a=tD(),i=eh(),s=200;function o(u,l,c){var f=-1,d=e,h=u.length,v=!0,g=[],m=g;if(c)v=!1,d=r;else if(h>=s){var p=l?null:a(u);if(p)return i(p);v=!1,d=n,m=new t}else m=l?[]:g;e:for(;++f<h;){var y=u[f],b=l?l(y):y;if(y=c||y!==0?y:0,v&&b===b){for(var _=m.length;_--;)if(m[_]===b)continue e;l&&m.push(b),g.push(y)}else d(m,b,c)||(m!==g&&m.push(b),g.push(y))}return g}return ec=o,ec}var tc,S0;function Wb(){if(S0)return tc;S0=1;var t=Vr(),e=wr;function r(n){return e(n)&&t(n)}return tc=r,tc}var rc,x0;function nD(){if(x0)return rc;x0=1;var t=th(),e=Gs(),r=rD(),n=Wb(),a=e(function(i){return r(t(i,1,n,!0))});return rc=a,rc}var nc,E0;function aD(){if(E0)return nc;E0=1;var t=oi;function e(r,n){return t(n,function(a){return r[a]})}return nc=e,nc}var ac,T0;function Ub(){if(T0)return ac;T0=1;var t=aD(),e=cn();function r(n){return n==null?[]:t(n,e(n))}return ac=r,ac}var ic,C0;function Qt(){if(C0)return ic;C0=1;var t;if(typeof Yd=="function")try{t={clone:d5(),constant:Xd(),each:Tb(),filter:Ib(),has:Bb(),isArray:ut,isEmpty:P5(),isFunction:si(),isUndefined:Nb(),keys:cn(),map:Fb(),reduce:zb(),size:Y5(),transform:$5(),union:nD(),values:Ub()}}catch{}return t||(t=window._),ic=t,ic}var sc,k0;function rh(){if(k0)return sc;k0=1;var t=Qt();sc=a;var e="\0",r="\0",n="";function a(c){this._isDirected=t.has(c,"directed")?c.directed:!0,this._isMultigraph=t.has(c,"multigraph")?c.multigraph:!1,this._isCompound=t.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}a.prototype._nodeCount=0,a.prototype._edgeCount=0,a.prototype.isDirected=function(){return this._isDirected},a.prototype.isMultigraph=function(){return this._isMultigraph},a.prototype.isCompound=function(){return this._isCompound},a.prototype.setGraph=function(c){return this._label=c,this},a.prototype.graph=function(){return this._label},a.prototype.setDefaultNodeLabel=function(c){return t.isFunction(c)||(c=t.constant(c)),this._defaultNodeLabelFn=c,this},a.prototype.nodeCount=function(){return this._nodeCount},a.prototype.nodes=function(){return t.keys(this._nodes)},a.prototype.sources=function(){var c=this;return t.filter(this.nodes(),function(f){return t.isEmpty(c._in[f])})},a.prototype.sinks=function(){var c=this;return t.filter(this.nodes(),function(f){return t.isEmpty(c._out[f])})},a.prototype.setNodes=function(c,f){var d=arguments,h=this;return t.each(c,function(v){d.length>1?h.setNode(v,f):h.setNode(v)}),this},a.prototype.setNode=function(c,f){return t.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=r,this._children[c]={},this._children[r][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},a.prototype.node=function(c){return this._nodes[c]},a.prototype.hasNode=function(c){return t.has(this._nodes,c)},a.prototype.removeNode=function(c){var f=this;if(t.has(this._nodes,c)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],t.each(this.children(c),function(h){f.setParent(h)}),delete this._children[c]),t.each(t.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],t.each(t.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},a.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(f))f=r;else{f+="";for(var d=f;!t.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},a.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},a.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==r)return f}},a.prototype.children=function(c){if(t.isUndefined(c)&&(c=r),this._isCompound){var f=this._children[c];if(f)return t.keys(f)}else{if(c===r)return this.nodes();if(this.hasNode(c))return[]}},a.prototype.predecessors=function(c){var f=this._preds[c];if(f)return t.keys(f)},a.prototype.successors=function(c){var f=this._sucs[c];if(f)return t.keys(f)},a.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return t.union(f,this.successors(c))},a.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},a.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;t.each(this._nodes,function(g,m){c(m)&&f.setNode(m,g)}),t.each(this._edgeObjs,function(g){f.hasNode(g.v)&&f.hasNode(g.w)&&f.setEdge(g,d.edge(g))});var h={};function v(g){var m=d.parent(g);return m===void 0||f.hasNode(m)?(h[g]=m,m):m in h?h[m]:v(m)}return this._isCompound&&t.each(f.nodes(),function(g){f.setParent(g,v(g))}),f},a.prototype.setDefaultEdgeLabel=function(c){return t.isFunction(c)||(c=t.constant(c)),this._defaultEdgeLabelFn=c,this},a.prototype.edgeCount=function(){return this._edgeCount},a.prototype.edges=function(){return t.values(this._edgeObjs)},a.prototype.setPath=function(c,f){var d=this,h=arguments;return t.reduce(c,function(v,g){return h.length>1?d.setEdge(v,g,f):d.setEdge(v,g),g}),this},a.prototype.setEdge=function(){var c,f,d,h,v=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(c=g.v,f=g.w,d=g.name,arguments.length===2&&(h=arguments[1],v=!0)):(c=g,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],v=!0)),c=""+c,f=""+f,t.isUndefined(d)||(d=""+d);var m=o(this._isDirected,c,f,d);if(t.has(this._edgeLabels,m))return v&&(this._edgeLabels[m]=h),this;if(!t.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[m]=v?h:this._defaultEdgeLabelFn(c,f,d);var p=u(this._isDirected,c,f,d);return c=p.v,f=p.w,Object.freeze(p),this._edgeObjs[m]=p,i(this._preds[f],c),i(this._sucs[c],f),this._in[f][m]=p,this._out[c][m]=p,this._edgeCount++,this},a.prototype.edge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,c,f,d);return this._edgeLabels[h]},a.prototype.hasEdge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,c,f,d);return t.has(this._edgeLabels,h)},a.prototype.removeEdge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,c,f,d),v=this._edgeObjs[h];return v&&(c=v.v,f=v.w,delete this._edgeLabels[h],delete this._edgeObjs[h],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][h],delete this._out[c][h],this._edgeCount--),this},a.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var h=t.values(d);return f?t.filter(h,function(v){return v.v===f}):h}},a.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var h=t.values(d);return f?t.filter(h,function(v){return v.w===f}):h}},a.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function i(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function o(c,f,d,h){var v=""+f,g=""+d;if(!c&&v>g){var m=v;v=g,g=m}return v+n+g+n+(t.isUndefined(h)?e:h)}function u(c,f,d,h){var v=""+f,g=""+d;if(!c&&v>g){var m=v;v=g,g=m}var p={v,w:g};return h&&(p.name=h),p}function l(c,f){return o(c,f.v,f.w,f.name)}return sc}var oc,D0;function iD(){return D0||(D0=1,oc="2.1.8"),oc}var uc,M0;function sD(){return M0||(M0=1,uc={Graph:rh(),version:iD()}),uc}var lc,R0;function oD(){if(R0)return lc;R0=1;var t=Qt(),e=rh();lc={write:r,read:i};function r(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:a(s)};return t.isUndefined(s.graph())||(o.value=t.clone(s.graph())),o}function n(s){return t.map(s.nodes(),function(o){var u=s.node(o),l=s.parent(o),c={v:o};return t.isUndefined(u)||(c.value=u),t.isUndefined(l)||(c.parent=l),c})}function a(s){return t.map(s.edges(),function(o){var u=s.edge(o),l={v:o.v,w:o.w};return t.isUndefined(o.name)||(l.name=o.name),t.isUndefined(u)||(l.value=u),l})}function i(s){var o=new e(s.options).setGraph(s.value);return t.each(s.nodes,function(u){o.setNode(u.v,u.value),u.parent&&o.setParent(u.v,u.parent)}),t.each(s.edges,function(u){o.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),o}return lc}var cc,P0;function uD(){if(P0)return cc;P0=1;var t=Qt();cc=e;function e(r){var n={},a=[],i;function s(o){t.has(n,o)||(n[o]=!0,i.push(o),t.each(r.successors(o),s),t.each(r.predecessors(o),s))}return t.each(r.nodes(),function(o){i=[],s(o),i.length&&a.push(i)}),a}return cc}var fc,O0;function Gb(){if(O0)return fc;O0=1;var t=Qt();fc=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(r){return r.key})},e.prototype.has=function(r){return t.has(this._keyIndices,r)},e.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(r,n){var a=this._keyIndices;if(r=String(r),!t.has(a,r)){var i=this._arr,s=i.length;return a[r]=s,i.push({key:r,priority:n}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},e.prototype.decrease=function(r,n){var a=this._keyIndices[r];if(n>this._arr[a].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[a].priority+" New: "+n);this._arr[a].priority=n,this._decrease(a)},e.prototype._heapify=function(r){var n=this._arr,a=2*r,i=a+1,s=r;a<n.length&&(s=n[a].priority<n[s].priority?a:s,i<n.length&&(s=n[i].priority<n[s].priority?i:s),s!==r&&(this._swap(r,s),this._heapify(s)))},e.prototype._decrease=function(r){for(var n=this._arr,a=n[r].priority,i;r!==0&&(i=r>>1,!(n[i].priority<a));)this._swap(r,i),r=i},e.prototype._swap=function(r,n){var a=this._arr,i=this._keyIndices,s=a[r],o=a[n];a[r]=o,a[n]=s,i[o.key]=r,i[s.key]=n},fc}var dc,L0;function jb(){if(L0)return dc;L0=1;var t=Qt(),e=Gb();dc=n;var r=t.constant(1);function n(i,s,o,u){return a(i,String(s),o||r,u||function(l){return i.outEdges(l)})}function a(i,s,o,u){var l={},c=new e,f,d,h=function(v){var g=v.v!==f?v.v:v.w,m=l[g],p=o(v),y=d.distance+p;if(p<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+p);y<m.distance&&(m.distance=y,m.predecessor=f,c.decrease(g,y))};for(i.nodes().forEach(function(v){var g=v===s?0:Number.POSITIVE_INFINITY;l[v]={distance:g},c.add(v,g)});c.size()>0&&(f=c.removeMin(),d=l[f],d.distance!==Number.POSITIVE_INFINITY);)u(f).forEach(h);return l}return dc}var hc,A0;function lD(){if(A0)return hc;A0=1;var t=jb(),e=Qt();hc=r;function r(n,a,i){return e.transform(n.nodes(),function(s,o){s[o]=t(n,o,a,i)},{})}return hc}var vc,I0;function Zb(){if(I0)return vc;I0=1;var t=Qt();vc=e;function e(r){var n=0,a=[],i={},s=[];function o(u){var l=i[u]={onStack:!0,lowlink:n,index:n++};if(a.push(u),r.successors(u).forEach(function(d){t.has(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(o(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var c=[],f;do f=a.pop(),i[f].onStack=!1,c.push(f);while(u!==f);s.push(c)}}return r.nodes().forEach(function(u){t.has(i,u)||o(u)}),s}return vc}var pc,B0;function cD(){if(B0)return pc;B0=1;var t=Qt(),e=Zb();pc=r;function r(n){return t.filter(e(n),function(a){return a.length>1||a.length===1&&n.hasEdge(a[0],a[0])})}return pc}var gc,N0;function fD(){if(N0)return gc;N0=1;var t=Qt();gc=r;var e=t.constant(1);function r(a,i,s){return n(a,i||e,s||function(o){return a.outEdges(o)})}function n(a,i,s){var o={},u=a.nodes();return u.forEach(function(l){o[l]={},o[l][l]={distance:0},u.forEach(function(c){l!==c&&(o[l][c]={distance:Number.POSITIVE_INFINITY})}),s(l).forEach(function(c){var f=c.v===l?c.w:c.v,d=i(c);o[l][f]={distance:d,predecessor:l}})}),u.forEach(function(l){var c=o[l];u.forEach(function(f){var d=o[f];u.forEach(function(h){var v=d[l],g=c[h],m=d[h],p=v.distance+g.distance;p<m.distance&&(m.distance=p,m.predecessor=g.predecessor)})})}),o}return gc}var mc,q0;function Kb(){if(q0)return mc;q0=1;var t=Qt();mc=e,e.CycleException=r;function e(n){var a={},i={},s=[];function o(u){if(t.has(i,u))throw new r;t.has(a,u)||(i[u]=!0,a[u]=!0,t.each(n.predecessors(u),o),delete i[u],s.push(u))}if(t.each(n.sinks(),o),t.size(a)!==n.nodeCount())throw new r;return s}function r(){}return r.prototype=new Error,mc}var yc,F0;function dD(){if(F0)return yc;F0=1;var t=Kb();yc=e;function e(r){try{t(r)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}return yc}var bc,z0;function Xb(){if(z0)return bc;z0=1;var t=Qt();bc=e;function e(n,a,i){t.isArray(a)||(a=[a]);var s=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],u={};return t.each(a,function(l){if(!n.hasNode(l))throw new Error("Graph does not have node: "+l);r(n,l,i==="post",u,s,o)}),o}function r(n,a,i,s,o,u){t.has(s,a)||(s[a]=!0,i||u.push(a),t.each(o(a),function(l){r(n,l,i,s,o,u)}),i&&u.push(a))}return bc}var _c,V0;function hD(){if(V0)return _c;V0=1;var t=Xb();_c=e;function e(r,n){return t(r,n,"post")}return _c}var wc,H0;function vD(){if(H0)return wc;H0=1;var t=Xb();wc=e;function e(r,n){return t(r,n,"pre")}return wc}var Sc,Y0;function pD(){if(Y0)return Sc;Y0=1;var t=Qt(),e=rh(),r=Gb();Sc=n;function n(a,i){var s=new e,o={},u=new r,l;function c(d){var h=d.v===l?d.w:d.v,v=u.priority(h);if(v!==void 0){var g=i(d);g<v&&(o[h]=l,u.decrease(h,g))}}if(a.nodeCount()===0)return s;t.each(a.nodes(),function(d){u.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),u.decrease(a.nodes()[0],0);for(var f=!1;u.size()>0;){if(l=u.removeMin(),t.has(o,l))s.setEdge(l,o[l]);else{if(f)throw new Error("Input graph is not connected: "+a);f=!0}a.nodeEdges(l).forEach(c)}return s}return Sc}var xc,$0;function gD(){return $0||($0=1,xc={components:uD(),dijkstra:jb(),dijkstraAll:lD(),findCycles:cD(),floydWarshall:fD(),isAcyclic:dD(),postorder:hD(),preorder:vD(),prim:pD(),tarjan:Zb(),topsort:Kb()}),xc}var Ec,W0;function mD(){if(W0)return Ec;W0=1;var t=sD();return Ec={Graph:t.Graph,json:oD(),alg:gD(),version:t.version},Ec}var Tc,U0;function cr(){if(U0)return Tc;U0=1;var t;if(typeof Yd=="function")try{t=mD()}catch{}return t||(t=window.graphlib),Tc=t,Tc}var Cc,G0;function yD(){if(G0)return Cc;G0=1;var t=Sb(),e=1,r=4;function n(a){return t(a,e|r)}return Cc=n,Cc}var kc,j0;function js(){if(j0)return kc;j0=1;var t=ca,e=Vr(),r=ks,n=$t;function a(i,s,o){if(!n(o))return!1;var u=typeof s;return(u=="number"?e(o)&&r(s,o.length):u=="string"&&s in o)?t(o[s],i):!1}return kc=a,kc}var Dc,Z0;function bD(){if(Z0)return Dc;Z0=1;var t=Gs(),e=ca,r=js(),n=Pn(),a=Object.prototype,i=a.hasOwnProperty,s=t(function(o,u){o=Object(o);var l=-1,c=u.length,f=c>2?u[2]:void 0;for(f&&r(u[0],u[1],f)&&(c=1);++l<c;)for(var d=u[l],h=n(d),v=-1,g=h.length;++v<g;){var m=h[v],p=o[m];(p===void 0||e(p,a[m])&&!i.call(o,m))&&(o[m]=d[m])}return o});return Dc=s,Dc}var Mc,K0;function _D(){if(K0)return Mc;K0=1;var t=Hr(),e=Vr(),r=cn();function n(a){return function(i,s,o){var u=Object(i);if(!e(i)){var l=t(s,3);i=r(i),s=function(f){return l(u[f],f,u)}}var c=a(i,s,o);return c>-1?u[l?i[c]:c]:void 0}}return Mc=n,Mc}var Rc,X0;function Qb(){if(X0)return Rc;X0=1;var t=Cy,e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return Rc=n,Rc}var Pc,Q0;function wD(){if(Q0)return Pc;Q0=1;var t=Qb();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Pc=e,Pc}var Oc,J0;function SD(){if(J0)return Oc;J0=1;var t=$b(),e=Hr(),r=wD(),n=Math.max;function a(i,s,o){var u=i==null?0:i.length;if(!u)return-1;var l=o==null?0:r(o);return l<0&&(l=n(u+l,0)),t(i,e(s,3),l)}return Oc=a,Oc}var Lc,em;function xD(){if(em)return Lc;em=1;var t=_D(),e=SD(),r=t(e);return Lc=r,Lc}var Ac,tm;function Jb(){if(tm)return Ac;tm=1;var t=th();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return Ac=e,Ac}var Ic,rm;function ED(){if(rm)return Ic;rm=1;var t=Qd(),e=xb(),r=Pn();function n(a,i){return a==null?a:t(a,e(i),r)}return Ic=n,Ic}var Bc,nm;function TD(){if(nm)return Bc;nm=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Bc=t,Bc}var Nc,am;function CD(){if(am)return Nc;am=1;var t=Ts,e=Jd(),r=Hr();function n(a,i){var s={};return i=r(i,3),e(a,function(o,u,l){t(s,u,i(o,u,l))}),s}return Nc=n,Nc}var qc,im;function nh(){if(im)return qc;im=1;var t=kn;function e(r,n,a){for(var i=-1,s=r.length;++i<s;){var o=r[i],u=n(o);if(u!=null&&(l===void 0?u===u&&!t(u):a(u,l)))var l=u,c=o}return c}return qc=e,qc}var Fc,sm;function kD(){if(sm)return Fc;sm=1;function t(e,r){return e>r}return Fc=t,Fc}var zc,om;function DD(){if(om)return zc;om=1;var t=nh(),e=kD(),r=On();function n(a){return a&&a.length?t(a,r,e):void 0}return zc=n,zc}var Vc,um;function e_(){if(um)return Vc;um=1;var t=Ts,e=ca;function r(n,a,i){(i!==void 0&&!e(n[a],i)||i===void 0&&!(a in n))&&t(n,a,i)}return Vc=r,Vc}var Hc,lm;function MD(){if(lm)return Hc;lm=1;var t=Cn,e=Ws(),r=wr,n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,o=i.hasOwnProperty,u=s.call(Object);function l(c){if(!r(c)||t(c)!=n)return!1;var f=e(c);if(f===null)return!0;var d=o.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&s.call(d)==u}return Hc=l,Hc}var Yc,cm;function t_(){if(cm)return Yc;cm=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return Yc=t,Yc}var $c,fm;function RD(){if(fm)return $c;fm=1;var t=yi(),e=Pn();function r(n){return t(n,e(n))}return $c=r,$c}var Wc,dm;function PD(){if(dm)return Wc;dm=1;var t=e_(),e=fb(),r=bb(),n=Sd,a=wb(),i=bi(),s=ut,o=Wb(),u=wa(),l=si(),c=$t,f=MD(),d=_i(),h=t_(),v=RD();function g(m,p,y,b,_,x,S){var w=h(m,y),T=h(p,y),E=S.get(T);if(E){t(m,y,E);return}var k=x?x(w,T,y+"",m,p,S):void 0,D=k===void 0;if(D){var C=s(T),P=!C&&u(T),M=!C&&!P&&d(T);k=T,C||P||M?s(w)?k=w:o(w)?k=n(w):P?(D=!1,k=e(T,!0)):M?(D=!1,k=r(T,!0)):k=[]:f(T)||i(T)?(k=w,i(w)?k=v(w):(!c(w)||l(w))&&(k=a(T))):D=!1}D&&(S.set(T,k),_(k,T,b,x,S),S.delete(T)),t(m,y,k)}return Wc=g,Wc}var Uc,hm;function OD(){if(hm)return Uc;hm=1;var t=Hs(),e=e_(),r=Qd(),n=PD(),a=$t,i=Pn(),s=t_();function o(u,l,c,f,d){u!==l&&r(l,function(h,v){if(d||(d=new t),a(h))n(u,l,v,c,o,f,d);else{var g=f?f(s(u,v),h,v+"",u,l,d):void 0;g===void 0&&(g=h),e(u,v,g)}},i)}return Uc=o,Uc}var Gc,vm;function LD(){if(vm)return Gc;vm=1;var t=Gs(),e=js();function r(n){return t(function(a,i){var s=-1,o=i.length,u=o>1?i[o-1]:void 0,l=o>2?i[2]:void 0;for(u=n.length>3&&typeof u=="function"?(o--,u):void 0,l&&e(i[0],i[1],l)&&(u=o<3?void 0:u,o=1),a=Object(a);++s<o;){var c=i[s];c&&n(a,c,s,u)}return a})}return Gc=r,Gc}var jc,pm;function AD(){if(pm)return jc;pm=1;var t=OD(),e=LD(),r=e(function(n,a,i){t(n,a,i)});return jc=r,jc}var Zc,gm;function r_(){if(gm)return Zc;gm=1;function t(e,r){return e<r}return Zc=t,Zc}var Kc,mm;function ID(){if(mm)return Kc;mm=1;var t=nh(),e=r_(),r=On();function n(a){return a&&a.length?t(a,r,e):void 0}return Kc=n,Kc}var Xc,ym;function BD(){if(ym)return Xc;ym=1;var t=nh(),e=Hr(),r=r_();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return Xc=n,Xc}var Qc,bm;function ND(){if(bm)return Qc;bm=1;var t=Es,e=Ay,r=xs;function n(a,i,s){for(var o=-1,u=i.length,l={};++o<u;){var c=i[o],f=t(a,c);s(f,c)&&e(l,r(c,a),f)}return l}return Qc=n,Qc}var Jc,_m;function qD(){if(_m)return Jc;_m=1;var t=ND(),e=Lb();function r(n,a){return t(n,a,function(i,s){return e(n,s)})}return Jc=r,Jc}var ef,wm;function FD(){if(wm)return ef;wm=1;var t=Jb(),e=Hb(),r=Yb();function n(a){return r(e(a,void 0,t),a+"")}return ef=n,ef}var tf,Sm;function n_(){if(Sm)return tf;Sm=1;var t=qD(),e=FD(),r=e(function(n,a){return n==null?{}:t(n,a)});return tf=r,tf}var rf,xm;function zD(){if(xm)return rf;xm=1;var t=Math.ceil,e=Math.max;function r(n,a,i,s){for(var o=-1,u=e(t((a-n)/(i||1)),0),l=Array(u);u--;)l[s?u:++o]=n,n+=i;return l}return rf=r,rf}var nf,Em;function VD(){if(Em)return nf;Em=1;var t=zD(),e=js(),r=Qb();function n(a){return function(i,s,o){return o&&typeof o!="number"&&e(i,s,o)&&(s=o=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),o=o===void 0?i<s?1:-1:r(o),t(i,s,o,a)}}return nf=n,nf}var af,Tm;function HD(){if(Tm)return af;Tm=1;var t=VD(),e=t();return af=e,af}var sf,Cm;function YD(){if(Cm)return sf;Cm=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return sf=t,sf}var of,km;function $D(){if(km)return of;km=1;var t=kn;function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,o=t(r),u=n!==void 0,l=n===null,c=n===n,f=t(n);if(!l&&!f&&!o&&r>n||o&&u&&c&&!l&&!f||i&&u&&c||!a&&c||!s)return 1;if(!i&&!o&&!f&&r<n||f&&a&&s&&!i&&!o||l&&a&&s||!u&&s||!c)return-1}return 0}return of=e,of}var uf,Dm;function WD(){if(Dm)return uf;Dm=1;var t=$D();function e(r,n,a){for(var i=-1,s=r.criteria,o=n.criteria,u=s.length,l=a.length;++i<u;){var c=t(s[i],o[i]);if(c){if(i>=l)return c;var f=a[i];return c*(f=="desc"?-1:1)}}return r.index-n.index}return uf=e,uf}var lf,Mm;function UD(){if(Mm)return lf;Mm=1;var t=oi,e=Es,r=Hr(),n=qb(),a=YD(),i=Ys(),s=WD(),o=On(),u=ut;function l(c,f,d){f.length?f=t(f,function(g){return u(g)?function(m){return e(m,g.length===1?g[0]:g)}:g}):f=[o];var h=-1;f=t(f,i(r));var v=n(c,function(g,m,p){var y=t(f,function(b){return b(g)});return{criteria:y,index:++h,value:g}});return a(v,function(g,m){return s(g,m,d)})}return lf=l,lf}var cf,Rm;function GD(){if(Rm)return cf;Rm=1;var t=th(),e=UD(),r=Gs(),n=js(),a=r(function(i,s){if(i==null)return[];var o=s.length;return o>1&&n(i,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return cf=a,cf}var ff,Pm;function jD(){if(Pm)return ff;Pm=1;var t=wd,e=0;function r(n){var a=++e;return t(n)+a}return ff=r,ff}var df,Om;function ZD(){if(Om)return df;Om=1;function t(e,r,n){for(var a=-1,i=e.length,s=r.length,o={};++a<i;){var u=a<s?r[a]:void 0;n(o,e[a],u)}return o}return df=t,df}var hf,Lm;function KD(){if(Lm)return hf;Lm=1;var t=Cs,e=ZD();function r(n,a){return e(n||[],a||[],t)}return hf=r,hf}var vf,Am;function et(){if(Am)return vf;Am=1;var t;if(typeof Yd=="function")try{t={cloneDeep:yD(),constant:Xd(),defaults:bD(),each:Tb(),filter:Ib(),find:xD(),flatten:Jb(),forEach:Eb(),forIn:ED(),has:Bb(),isUndefined:Nb(),last:TD(),map:Fb(),mapValues:CD(),max:DD(),merge:AD(),min:ID(),minBy:BD(),now:Ey,pick:n_(),range:HD(),reduce:zb(),sortBy:GD(),uniqueId:jD(),values:Ub(),zipObject:KD()}}catch{}return t||(t=window._),vf=t,vf}var pf,Im;function XD(){if(Im)return pf;Im=1,pf=t;function t(){var n={};n._next=n._prev=n,this._sentinel=n}t.prototype.dequeue=function(){var n=this._sentinel,a=n._prev;if(a!==n)return e(a),a},t.prototype.enqueue=function(n){var a=this._sentinel;n._prev&&n._next&&e(n),n._next=a._next,a._next._prev=n,a._next=n,n._prev=a},t.prototype.toString=function(){for(var n=[],a=this._sentinel,i=a._prev;i!==a;)n.push(JSON.stringify(i,r)),i=i._prev;return"["+n.join(", ")+"]"};function e(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function r(n,a){if(n!=="_next"&&n!=="_prev")return a}return pf}var gf,Bm;function QD(){if(Bm)return gf;Bm=1;var t=et(),e=cr().Graph,r=XD();gf=a;var n=t.constant(1);function a(l,c){if(l.nodeCount()<=1)return[];var f=o(l,c||n),d=i(f.graph,f.buckets,f.zeroIdx);return t.flatten(t.map(d,function(h){return l.outEdges(h.v,h.w)}),!0)}function i(l,c,f){for(var d=[],h=c[c.length-1],v=c[0],g;l.nodeCount();){for(;g=v.dequeue();)s(l,c,f,g);for(;g=h.dequeue();)s(l,c,f,g);if(l.nodeCount()){for(var m=c.length-2;m>0;--m)if(g=c[m].dequeue(),g){d=d.concat(s(l,c,f,g,!0));break}}}return d}function s(l,c,f,d,h){var v=h?[]:void 0;return t.forEach(l.inEdges(d.v),function(g){var m=l.edge(g),p=l.node(g.v);h&&v.push({v:g.v,w:g.w}),p.out-=m,u(c,f,p)}),t.forEach(l.outEdges(d.v),function(g){var m=l.edge(g),p=g.w,y=l.node(p);y.in-=m,u(c,f,y)}),l.removeNode(d.v),v}function o(l,c){var f=new e,d=0,h=0;t.forEach(l.nodes(),function(m){f.setNode(m,{v:m,in:0,out:0})}),t.forEach(l.edges(),function(m){var p=f.edge(m.v,m.w)||0,y=c(m),b=p+y;f.setEdge(m.v,m.w,b),h=Math.max(h,f.node(m.v).out+=y),d=Math.max(d,f.node(m.w).in+=y)});var v=t.range(h+d+3).map(function(){return new r}),g=d+1;return t.forEach(f.nodes(),function(m){u(v,g,f.node(m))}),{graph:f,buckets:v,zeroIdx:g}}function u(l,c,f){f.out?f.in?l[f.out-f.in+c].enqueue(f):l[l.length-1].enqueue(f):l[0].enqueue(f)}return gf}var mf,Nm;function JD(){if(Nm)return mf;Nm=1;var t=et(),e=QD();mf={run:r,undo:a};function r(i){var s=i.graph().acyclicer==="greedy"?e(i,o(i)):n(i);t.forEach(s,function(u){var l=i.edge(u);i.removeEdge(u),l.forwardName=u.name,l.reversed=!0,i.setEdge(u.w,u.v,l,t.uniqueId("rev"))});function o(u){return function(l){return u.edge(l).weight}}}function n(i){var s=[],o={},u={};function l(c){t.has(u,c)||(u[c]=!0,o[c]=!0,t.forEach(i.outEdges(c),function(f){t.has(o,f.w)?s.push(f):l(f.w)}),delete o[c])}return t.forEach(i.nodes(),l),s}function a(i){t.forEach(i.edges(),function(s){var o=i.edge(s);if(o.reversed){i.removeEdge(s);var u=o.forwardName;delete o.reversed,delete o.forwardName,i.setEdge(s.w,s.v,o,u)}})}return mf}var yf,qm;function Ft(){if(qm)return yf;qm=1;var t=et(),e=cr().Graph;yf={addDummyNode:r,simplify:n,asNonCompoundGraph:a,successorWeights:i,predecessorWeights:s,intersectRect:o,buildLayerMatrix:u,normalizeRanks:l,removeEmptyRanks:c,addBorderNode:f,maxRank:d,partition:h,time:v,notime:g};function r(m,p,y,b){var _;do _=t.uniqueId(b);while(m.hasNode(_));return y.dummy=p,m.setNode(_,y),_}function n(m){var p=new e().setGraph(m.graph());return t.forEach(m.nodes(),function(y){p.setNode(y,m.node(y))}),t.forEach(m.edges(),function(y){var b=p.edge(y.v,y.w)||{weight:0,minlen:1},_=m.edge(y);p.setEdge(y.v,y.w,{weight:b.weight+_.weight,minlen:Math.max(b.minlen,_.minlen)})}),p}function a(m){var p=new e({multigraph:m.isMultigraph()}).setGraph(m.graph());return t.forEach(m.nodes(),function(y){m.children(y).length||p.setNode(y,m.node(y))}),t.forEach(m.edges(),function(y){p.setEdge(y,m.edge(y))}),p}function i(m){var p=t.map(m.nodes(),function(y){var b={};return t.forEach(m.outEdges(y),function(_){b[_.w]=(b[_.w]||0)+m.edge(_).weight}),b});return t.zipObject(m.nodes(),p)}function s(m){var p=t.map(m.nodes(),function(y){var b={};return t.forEach(m.inEdges(y),function(_){b[_.v]=(b[_.v]||0)+m.edge(_).weight}),b});return t.zipObject(m.nodes(),p)}function o(m,p){var y=m.x,b=m.y,_=p.x-y,x=p.y-b,S=m.width/2,w=m.height/2;if(!_&&!x)throw new Error("Not possible to find intersection inside of the rectangle");var T,E;return Math.abs(x)*S>Math.abs(_)*w?(x<0&&(w=-w),T=w*_/x,E=w):(_<0&&(S=-S),T=S,E=S*x/_),{x:y+T,y:b+E}}function u(m){var p=t.map(t.range(d(m)+1),function(){return[]});return t.forEach(m.nodes(),function(y){var b=m.node(y),_=b.rank;t.isUndefined(_)||(p[_][b.order]=y)}),p}function l(m){var p=t.min(t.map(m.nodes(),function(y){return m.node(y).rank}));t.forEach(m.nodes(),function(y){var b=m.node(y);t.has(b,"rank")&&(b.rank-=p)})}function c(m){var p=t.min(t.map(m.nodes(),function(x){return m.node(x).rank})),y=[];t.forEach(m.nodes(),function(x){var S=m.node(x).rank-p;y[S]||(y[S]=[]),y[S].push(x)});var b=0,_=m.graph().nodeRankFactor;t.forEach(y,function(x,S){t.isUndefined(x)&&S%_!==0?--b:b&&t.forEach(x,function(w){m.node(w).rank+=b})})}function f(m,p,y,b){var _={width:0,height:0};return arguments.length>=4&&(_.rank=y,_.order=b),r(m,"border",_,p)}function d(m){return t.max(t.map(m.nodes(),function(p){var y=m.node(p).rank;if(!t.isUndefined(y))return y}))}function h(m,p){var y={lhs:[],rhs:[]};return t.forEach(m,function(b){p(b)?y.lhs.push(b):y.rhs.push(b)}),y}function v(m,p){var y=t.now();try{return p()}finally{console.log(m+" time: "+(t.now()-y)+"ms")}}function g(m,p){return p()}return yf}var bf,Fm;function eM(){if(Fm)return bf;Fm=1;var t=et(),e=Ft();bf={run:r,undo:a};function r(i){i.graph().dummyChains=[],t.forEach(i.edges(),function(s){n(i,s)})}function n(i,s){var o=s.v,u=i.node(o).rank,l=s.w,c=i.node(l).rank,f=s.name,d=i.edge(s),h=d.labelRank;if(c!==u+1){i.removeEdge(s);var v,g,m;for(m=0,++u;u<c;++m,++u)d.points=[],g={width:0,height:0,edgeLabel:d,edgeObj:s,rank:u},v=e.addDummyNode(i,"edge",g,"_d"),u===h&&(g.width=d.width,g.height=d.height,g.dummy="edge-label",g.labelpos=d.labelpos),i.setEdge(o,v,{weight:d.weight},f),m===0&&i.graph().dummyChains.push(v),o=v;i.setEdge(o,l,{weight:d.weight},f)}}function a(i){t.forEach(i.graph().dummyChains,function(s){var o=i.node(s),u=o.edgeLabel,l;for(i.setEdge(o.edgeObj,u);o.dummy;)l=i.successors(s)[0],i.removeNode(s),u.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(u.x=o.x,u.y=o.y,u.width=o.width,u.height=o.height),s=l,o=i.node(s)})}return bf}var _f,zm;function fs(){if(zm)return _f;zm=1;var t=et();_f={longestPath:e,slack:r};function e(n){var a={};function i(s){var o=n.node(s);if(t.has(a,s))return o.rank;a[s]=!0;var u=t.min(t.map(n.outEdges(s),function(l){return i(l.w)-n.edge(l).minlen}));return(u===Number.POSITIVE_INFINITY||u===void 0||u===null)&&(u=0),o.rank=u}t.forEach(n.sources(),i)}function r(n,a){return n.node(a.w).rank-n.node(a.v).rank-n.edge(a).minlen}return _f}var wf,Vm;function a_(){if(Vm)return wf;Vm=1;var t=et(),e=cr().Graph,r=fs().slack;wf=n;function n(o){var u=new e({directed:!1}),l=o.nodes()[0],c=o.nodeCount();u.setNode(l,{});for(var f,d;a(u,o)<c;)f=i(u,o),d=u.hasNode(f.v)?r(o,f):-r(o,f),s(u,o,d);return u}function a(o,u){function l(c){t.forEach(u.nodeEdges(c),function(f){var d=f.v,h=c===d?f.w:d;!o.hasNode(h)&&!r(u,f)&&(o.setNode(h,{}),o.setEdge(c,h,{}),l(h))})}return t.forEach(o.nodes(),l),o.nodeCount()}function i(o,u){return t.minBy(u.edges(),function(l){if(o.hasNode(l.v)!==o.hasNode(l.w))return r(u,l)})}function s(o,u,l){t.forEach(o.nodes(),function(c){u.node(c).rank+=l})}return wf}var Sf,Hm;function tM(){if(Hm)return Sf;Hm=1;var t=et(),e=a_(),r=fs().slack,n=fs().longestPath,a=cr().alg.preorder,i=cr().alg.postorder,s=Ft().simplify;Sf=o,o.initLowLimValues=f,o.initCutValues=u,o.calcCutValue=c,o.leaveEdge=h,o.enterEdge=v,o.exchangeEdges=g;function o(b){b=s(b),n(b);var _=e(b);f(_),u(_,b);for(var x,S;x=h(_);)S=v(_,b,x),g(_,b,x,S)}function u(b,_){var x=i(b,b.nodes());x=x.slice(0,x.length-1),t.forEach(x,function(S){l(b,_,S)})}function l(b,_,x){var S=b.node(x),w=S.parent;b.edge(x,w).cutvalue=c(b,_,x)}function c(b,_,x){var S=b.node(x),w=S.parent,T=!0,E=_.edge(x,w),k=0;return E||(T=!1,E=_.edge(w,x)),k=E.weight,t.forEach(_.nodeEdges(x),function(D){var C=D.v===x,P=C?D.w:D.v;if(P!==w){var M=C===T,N=_.edge(D).weight;if(k+=M?N:-N,p(b,x,P)){var O=b.edge(x,P).cutvalue;k+=M?-O:O}}}),k}function f(b,_){arguments.length<2&&(_=b.nodes()[0]),d(b,{},1,_)}function d(b,_,x,S,w){var T=x,E=b.node(S);return _[S]=!0,t.forEach(b.neighbors(S),function(k){t.has(_,k)||(x=d(b,_,x,k,S))}),E.low=T,E.lim=x++,w?E.parent=w:delete E.parent,x}function h(b){return t.find(b.edges(),function(_){return b.edge(_).cutvalue<0})}function v(b,_,x){var S=x.v,w=x.w;_.hasEdge(S,w)||(S=x.w,w=x.v);var T=b.node(S),E=b.node(w),k=T,D=!1;T.lim>E.lim&&(k=E,D=!0);var C=t.filter(_.edges(),function(P){return D===y(b,b.node(P.v),k)&&D!==y(b,b.node(P.w),k)});return t.minBy(C,function(P){return r(_,P)})}function g(b,_,x,S){var w=x.v,T=x.w;b.removeEdge(w,T),b.setEdge(S.v,S.w,{}),f(b),u(b,_),m(b,_)}function m(b,_){var x=t.find(b.nodes(),function(w){return!_.node(w).parent}),S=a(b,x);S=S.slice(1),t.forEach(S,function(w){var T=b.node(w).parent,E=_.edge(w,T),k=!1;E||(E=_.edge(T,w),k=!0),_.node(w).rank=_.node(T).rank+(k?E.minlen:-E.minlen)})}function p(b,_,x){return b.hasEdge(_,x)}function y(b,_,x){return x.low<=_.lim&&_.lim<=x.lim}return Sf}var xf,Ym;function rM(){if(Ym)return xf;Ym=1;var t=fs(),e=t.longestPath,r=a_(),n=tM();xf=a;function a(u){switch(u.graph().ranker){case"network-simplex":o(u);break;case"tight-tree":s(u);break;case"longest-path":i(u);break;default:o(u)}}var i=e;function s(u){e(u),r(u)}function o(u){n(u)}return xf}var Ef,$m;function nM(){if($m)return Ef;$m=1;var t=et();Ef=e;function e(a){var i=n(a);t.forEach(a.graph().dummyChains,function(s){for(var o=a.node(s),u=o.edgeObj,l=r(a,i,u.v,u.w),c=l.path,f=l.lca,d=0,h=c[d],v=!0;s!==u.w;){if(o=a.node(s),v){for(;(h=c[d])!==f&&a.node(h).maxRank<o.rank;)d++;h===f&&(v=!1)}if(!v){for(;d<c.length-1&&a.node(h=c[d+1]).minRank<=o.rank;)d++;h=c[d]}a.setParent(s,h),s=a.successors(s)[0]}})}function r(a,i,s,o){var u=[],l=[],c=Math.min(i[s].low,i[o].low),f=Math.max(i[s].lim,i[o].lim),d,h;d=s;do d=a.parent(d),u.push(d);while(d&&(i[d].low>c||f>i[d].lim));for(h=d,d=o;(d=a.parent(d))!==h;)l.push(d);return{path:u.concat(l.reverse()),lca:h}}function n(a){var i={},s=0;function o(u){var l=s;t.forEach(a.children(u),o),i[u]={low:l,lim:s++}}return t.forEach(a.children(),o),i}return Ef}var Tf,Wm;function aM(){if(Wm)return Tf;Wm=1;var t=et(),e=Ft();Tf={run:r,cleanup:s};function r(o){var u=e.addDummyNode(o,"root",{},"_root"),l=a(o),c=t.max(t.values(l))-1,f=2*c+1;o.graph().nestingRoot=u,t.forEach(o.edges(),function(h){o.edge(h).minlen*=f});var d=i(o)+1;t.forEach(o.children(),function(h){n(o,u,f,d,c,l,h)}),o.graph().nodeRankFactor=f}function n(o,u,l,c,f,d,h){var v=o.children(h);if(!v.length){h!==u&&o.setEdge(u,h,{weight:0,minlen:l});return}var g=e.addBorderNode(o,"_bt"),m=e.addBorderNode(o,"_bb"),p=o.node(h);o.setParent(g,h),p.borderTop=g,o.setParent(m,h),p.borderBottom=m,t.forEach(v,function(y){n(o,u,l,c,f,d,y);var b=o.node(y),_=b.borderTop?b.borderTop:y,x=b.borderBottom?b.borderBottom:y,S=b.borderTop?c:2*c,w=_!==x?1:f-d[h]+1;o.setEdge(g,_,{weight:S,minlen:w,nestingEdge:!0}),o.setEdge(x,m,{weight:S,minlen:w,nestingEdge:!0})}),o.parent(h)||o.setEdge(u,g,{weight:0,minlen:f+d[h]})}function a(o){var u={};function l(c,f){var d=o.children(c);d&&d.length&&t.forEach(d,function(h){l(h,f+1)}),u[c]=f}return t.forEach(o.children(),function(c){l(c,1)}),u}function i(o){return t.reduce(o.edges(),function(u,l){return u+o.edge(l).weight},0)}function s(o){var u=o.graph();o.removeNode(u.nestingRoot),delete u.nestingRoot,t.forEach(o.edges(),function(l){var c=o.edge(l);c.nestingEdge&&o.removeEdge(l)})}return Tf}var Cf,Um;function iM(){if(Um)return Cf;Um=1;var t=et(),e=Ft();Cf=r;function r(a){function i(s){var o=a.children(s),u=a.node(s);if(o.length&&t.forEach(o,i),t.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var l=u.minRank,c=u.maxRank+1;l<c;++l)n(a,"borderLeft","_bl",s,u,l),n(a,"borderRight","_br",s,u,l)}}t.forEach(a.children(),i)}function n(a,i,s,o,u,l){var c={width:0,height:0,rank:l,borderType:i},f=u[i][l-1],d=e.addDummyNode(a,"border",c,s);u[i][l]=d,a.setParent(d,o),f&&a.setEdge(f,d,{weight:1})}return Cf}var kf,Gm;function sM(){if(Gm)return kf;Gm=1;var t=et();kf={adjust:e,undo:r};function e(l){var c=l.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(l)}function r(l){var c=l.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&i(l),(c==="lr"||c==="rl")&&(o(l),n(l))}function n(l){t.forEach(l.nodes(),function(c){a(l.node(c))}),t.forEach(l.edges(),function(c){a(l.edge(c))})}function a(l){var c=l.width;l.width=l.height,l.height=c}function i(l){t.forEach(l.nodes(),function(c){s(l.node(c))}),t.forEach(l.edges(),function(c){var f=l.edge(c);t.forEach(f.points,s),t.has(f,"y")&&s(f)})}function s(l){l.y=-l.y}function o(l){t.forEach(l.nodes(),function(c){u(l.node(c))}),t.forEach(l.edges(),function(c){var f=l.edge(c);t.forEach(f.points,u),t.has(f,"x")&&u(f)})}function u(l){var c=l.x;l.x=l.y,l.y=c}return kf}var Df,jm;function oM(){if(jm)return Df;jm=1;var t=et();Df=e;function e(r){var n={},a=t.filter(r.nodes(),function(l){return!r.children(l).length}),i=t.max(t.map(a,function(l){return r.node(l).rank})),s=t.map(t.range(i+1),function(){return[]});function o(l){if(!t.has(n,l)){n[l]=!0;var c=r.node(l);s[c.rank].push(l),t.forEach(r.successors(l),o)}}var u=t.sortBy(a,function(l){return r.node(l).rank});return t.forEach(u,o),s}return Df}var Mf,Zm;function uM(){if(Zm)return Mf;Zm=1;var t=et();Mf=e;function e(n,a){for(var i=0,s=1;s<a.length;++s)i+=r(n,a[s-1],a[s]);return i}function r(n,a,i){for(var s=t.zipObject(i,t.map(i,function(d,h){return h})),o=t.flatten(t.map(a,function(d){return t.sortBy(t.map(n.outEdges(d),function(h){return{pos:s[h.w],weight:n.edge(h).weight}}),"pos")}),!0),u=1;u<i.length;)u<<=1;var l=2*u-1;u-=1;var c=t.map(new Array(l),function(){return 0}),f=0;return t.forEach(o.forEach(function(d){var h=d.pos+u;c[h]+=d.weight;for(var v=0;h>0;)h%2&&(v+=c[h+1]),h=h-1>>1,c[h]+=d.weight;f+=d.weight*v})),f}return Mf}var Rf,Km;function lM(){if(Km)return Rf;Km=1;var t=et();Rf=e;function e(r,n){return t.map(n,function(a){var i=r.inEdges(a);if(i.length){var s=t.reduce(i,function(o,u){var l=r.edge(u),c=r.node(u.v);return{sum:o.sum+l.weight*c.order,weight:o.weight+l.weight}},{sum:0,weight:0});return{v:a,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:a}})}return Rf}var Pf,Xm;function cM(){if(Xm)return Pf;Xm=1;var t=et();Pf=e;function e(a,i){var s={};t.forEach(a,function(u,l){var c=s[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:l};t.isUndefined(u.barycenter)||(c.barycenter=u.barycenter,c.weight=u.weight)}),t.forEach(i.edges(),function(u){var l=s[u.v],c=s[u.w];!t.isUndefined(l)&&!t.isUndefined(c)&&(c.indegree++,l.out.push(s[u.w]))});var o=t.filter(s,function(u){return!u.indegree});return r(o)}function r(a){var i=[];function s(l){return function(c){c.merged||(t.isUndefined(c.barycenter)||t.isUndefined(l.barycenter)||c.barycenter>=l.barycenter)&&n(l,c)}}function o(l){return function(c){c.in.push(l),--c.indegree===0&&a.push(c)}}for(;a.length;){var u=a.pop();i.push(u),t.forEach(u.in.reverse(),s(u)),t.forEach(u.out,o(u))}return t.map(t.filter(i,function(l){return!l.merged}),function(l){return t.pick(l,["vs","i","barycenter","weight"])})}function n(a,i){var s=0,o=0;a.weight&&(s+=a.barycenter*a.weight,o+=a.weight),i.weight&&(s+=i.barycenter*i.weight,o+=i.weight),a.vs=i.vs.concat(a.vs),a.barycenter=s/o,a.weight=o,a.i=Math.min(i.i,a.i),i.merged=!0}return Pf}var Of,Qm;function fM(){if(Qm)return Of;Qm=1;var t=et(),e=Ft();Of=r;function r(i,s){var o=e.partition(i,function(g){return t.has(g,"barycenter")}),u=o.lhs,l=t.sortBy(o.rhs,function(g){return-g.i}),c=[],f=0,d=0,h=0;u.sort(a(!!s)),h=n(c,l,h),t.forEach(u,function(g){h+=g.vs.length,c.push(g.vs),f+=g.barycenter*g.weight,d+=g.weight,h=n(c,l,h)});var v={vs:t.flatten(c,!0)};return d&&(v.barycenter=f/d,v.weight=d),v}function n(i,s,o){for(var u;s.length&&(u=t.last(s)).i<=o;)s.pop(),i.push(u.vs),o++;return o}function a(i){return function(s,o){return s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}}return Of}var Lf,Jm;function dM(){if(Jm)return Lf;Jm=1;var t=et(),e=lM(),r=cM(),n=fM();Lf=a;function a(o,u,l,c){var f=o.children(u),d=o.node(u),h=d?d.borderLeft:void 0,v=d?d.borderRight:void 0,g={};h&&(f=t.filter(f,function(x){return x!==h&&x!==v}));var m=e(o,f);t.forEach(m,function(x){if(o.children(x.v).length){var S=a(o,x.v,l,c);g[x.v]=S,t.has(S,"barycenter")&&s(x,S)}});var p=r(m,l);i(p,g);var y=n(p,c);if(h&&(y.vs=t.flatten([h,y.vs,v],!0),o.predecessors(h).length)){var b=o.node(o.predecessors(h)[0]),_=o.node(o.predecessors(v)[0]);t.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+b.order+_.order)/(y.weight+2),y.weight+=2}return y}function i(o,u){t.forEach(o,function(l){l.vs=t.flatten(l.vs.map(function(c){return u[c]?u[c].vs:c}),!0)})}function s(o,u){t.isUndefined(o.barycenter)?(o.barycenter=u.barycenter,o.weight=u.weight):(o.barycenter=(o.barycenter*o.weight+u.barycenter*u.weight)/(o.weight+u.weight),o.weight+=u.weight)}return Lf}var Af,ey;function hM(){if(ey)return Af;ey=1;var t=et(),e=cr().Graph;Af=r;function r(a,i,s){var o=n(a),u=new e({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(l){return a.node(l)});return t.forEach(a.nodes(),function(l){var c=a.node(l),f=a.parent(l);(c.rank===i||c.minRank<=i&&i<=c.maxRank)&&(u.setNode(l),u.setParent(l,f||o),t.forEach(a[s](l),function(d){var h=d.v===l?d.w:d.v,v=u.edge(h,l),g=t.isUndefined(v)?0:v.weight;u.setEdge(h,l,{weight:a.edge(d).weight+g})}),t.has(c,"minRank")&&u.setNode(l,{borderLeft:c.borderLeft[i],borderRight:c.borderRight[i]}))}),u}function n(a){for(var i;a.hasNode(i=t.uniqueId("_root")););return i}return Af}var If,ty;function vM(){if(ty)return If;ty=1;var t=et();If=e;function e(r,n,a){var i={},s;t.forEach(a,function(o){for(var u=r.parent(o),l,c;u;){if(l=r.parent(u),l?(c=i[l],i[l]=u):(c=s,s=u),c&&c!==u){n.setEdge(c,u);return}u=l}})}return If}var Bf,ry;function pM(){if(ry)return Bf;ry=1;var t=et(),e=oM(),r=uM(),n=dM(),a=hM(),i=vM(),s=cr().Graph,o=Ft();Bf=u;function u(d){var h=o.maxRank(d),v=l(d,t.range(1,h+1),"inEdges"),g=l(d,t.range(h-1,-1,-1),"outEdges"),m=e(d);f(d,m);for(var p=Number.POSITIVE_INFINITY,y,b=0,_=0;_<4;++b,++_){c(b%2?v:g,b%4>=2),m=o.buildLayerMatrix(d);var x=r(d,m);x<p&&(_=0,y=t.cloneDeep(m),p=x)}f(d,y)}function l(d,h,v){return t.map(h,function(g){return a(d,g,v)})}function c(d,h){var v=new s;t.forEach(d,function(g){var m=g.graph().root,p=n(g,m,v,h);t.forEach(p.vs,function(y,b){g.node(y).order=b}),i(g,v,p.vs)})}function f(d,h){t.forEach(h,function(v){t.forEach(v,function(g,m){d.node(g).order=m})})}return Bf}var Nf,ny;function gM(){if(ny)return Nf;ny=1;var t=et(),e=cr().Graph,r=Ft();Nf={positionX:v,findType1Conflicts:n,findType2Conflicts:a,addConflict:s,hasConflict:o,verticalAlignment:u,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:f,balance:h};function n(p,y){var b={};function _(x,S){var w=0,T=0,E=x.length,k=t.last(S);return t.forEach(S,function(D,C){var P=i(p,D),M=P?p.node(P).order:E;(P||D===k)&&(t.forEach(S.slice(T,C+1),function(N){t.forEach(p.predecessors(N),function(O){var B=p.node(O),F=B.order;(F<w||M<F)&&!(B.dummy&&p.node(N).dummy)&&s(b,O,N)})}),T=C+1,w=M)}),S}return t.reduce(y,_),b}function a(p,y){var b={};function _(S,w,T,E,k){var D;t.forEach(t.range(w,T),function(C){D=S[C],p.node(D).dummy&&t.forEach(p.predecessors(D),function(P){var M=p.node(P);M.dummy&&(M.order<E||M.order>k)&&s(b,P,D)})})}function x(S,w){var T=-1,E,k=0;return t.forEach(w,function(D,C){if(p.node(D).dummy==="border"){var P=p.predecessors(D);P.length&&(E=p.node(P[0]).order,_(w,k,C,T,E),k=C,T=E)}_(w,k,w.length,E,S.length)}),w}return t.reduce(y,x),b}function i(p,y){if(p.node(y).dummy)return t.find(p.predecessors(y),function(b){return p.node(b).dummy})}function s(p,y,b){if(y>b){var _=y;y=b,b=_}var x=p[y];x||(p[y]=x={}),x[b]=!0}function o(p,y,b){if(y>b){var _=y;y=b,b=_}return t.has(p[y],b)}function u(p,y,b,_){var x={},S={},w={};return t.forEach(y,function(T){t.forEach(T,function(E,k){x[E]=E,S[E]=E,w[E]=k})}),t.forEach(y,function(T){var E=-1;t.forEach(T,function(k){var D=_(k);if(D.length){D=t.sortBy(D,function(O){return w[O]});for(var C=(D.length-1)/2,P=Math.floor(C),M=Math.ceil(C);P<=M;++P){var N=D[P];S[k]===k&&E<w[N]&&!o(b,k,N)&&(S[N]=k,S[k]=x[k]=x[N],E=w[N])}}})}),{root:x,align:S}}function l(p,y,b,_,x){var S={},w=c(p,y,b,x),T=x?"borderLeft":"borderRight";function E(C,P){for(var M=w.nodes(),N=M.pop(),O={};N;)O[N]?C(N):(O[N]=!0,M.push(N),M=M.concat(P(N))),N=M.pop()}function k(C){S[C]=w.inEdges(C).reduce(function(P,M){return Math.max(P,S[M.v]+w.edge(M))},0)}function D(C){var P=w.outEdges(C).reduce(function(N,O){return Math.min(N,S[O.w]-w.edge(O))},Number.POSITIVE_INFINITY),M=p.node(C);P!==Number.POSITIVE_INFINITY&&M.borderType!==T&&(S[C]=Math.max(S[C],P))}return E(k,w.predecessors.bind(w)),E(D,w.successors.bind(w)),t.forEach(_,function(C){S[C]=S[b[C]]}),S}function c(p,y,b,_){var x=new e,S=p.graph(),w=g(S.nodesep,S.edgesep,_);return t.forEach(y,function(T){var E;t.forEach(T,function(k){var D=b[k];if(x.setNode(D),E){var C=b[E],P=x.edge(C,D);x.setEdge(C,D,Math.max(w(p,k,E),P||0))}E=k})}),x}function f(p,y){return t.minBy(t.values(y),function(b){var _=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY;return t.forIn(b,function(S,w){var T=m(p,w)/2;_=Math.max(S+T,_),x=Math.min(S-T,x)}),_-x})}function d(p,y){var b=t.values(y),_=t.min(b),x=t.max(b);t.forEach(["u","d"],function(S){t.forEach(["l","r"],function(w){var T=S+w,E=p[T],k;if(E!==y){var D=t.values(E);k=w==="l"?_-t.min(D):x-t.max(D),k&&(p[T]=t.mapValues(E,function(C){return C+k}))}})})}function h(p,y){return t.mapValues(p.ul,function(b,_){if(y)return p[y.toLowerCase()][_];var x=t.sortBy(t.map(p,_));return(x[1]+x[2])/2})}function v(p){var y=r.buildLayerMatrix(p),b=t.merge(n(p,y),a(p,y)),_={},x;t.forEach(["u","d"],function(w){x=w==="u"?y:t.values(y).reverse(),t.forEach(["l","r"],function(T){T==="r"&&(x=t.map(x,function(C){return t.values(C).reverse()}));var E=(w==="u"?p.predecessors:p.successors).bind(p),k=u(p,x,b,E),D=l(p,x,k.root,k.align,T==="r");T==="r"&&(D=t.mapValues(D,function(C){return-C})),_[w+T]=D})});var S=f(p,_);return d(_,S),h(_,p.graph().align)}function g(p,y,b){return function(_,x,S){var w=_.node(x),T=_.node(S),E=0,k;if(E+=w.width/2,t.has(w,"labelpos"))switch(w.labelpos.toLowerCase()){case"l":k=-w.width/2;break;case"r":k=w.width/2;break}if(k&&(E+=b?k:-k),k=0,E+=(w.dummy?y:p)/2,E+=(T.dummy?y:p)/2,E+=T.width/2,t.has(T,"labelpos"))switch(T.labelpos.toLowerCase()){case"l":k=T.width/2;break;case"r":k=-T.width/2;break}return k&&(E+=b?k:-k),k=0,E}}function m(p,y){return p.node(y).width}return Nf}var qf,ay;function mM(){if(ay)return qf;ay=1;var t=et(),e=Ft(),r=gM().positionX;qf=n;function n(i){i=e.asNonCompoundGraph(i),a(i),t.forEach(r(i),function(s,o){i.node(o).x=s})}function a(i){var s=e.buildLayerMatrix(i),o=i.graph().ranksep,u=0;t.forEach(s,function(l){var c=t.max(t.map(l,function(f){return i.node(f).height}));t.forEach(l,function(f){i.node(f).y=u+c/2}),u+=c+o})}return qf}var Ff,iy;function yM(){if(iy)return Ff;iy=1;var t=et(),e=JD(),r=eM(),n=rM(),a=Ft().normalizeRanks,i=nM(),s=Ft().removeEmptyRanks,o=aM(),u=iM(),l=sM(),c=pM(),f=mM(),d=Ft(),h=cr().Graph;Ff=v;function v(A,I){var q=I&&I.debugTiming?d.time:d.notime;q("layout",function(){var L=q("  buildLayoutGraph",function(){return E(A)});q("  runLayout",function(){g(L,q)}),q("  updateInputGraph",function(){m(A,L)})})}function g(A,I){I("    makeSpaceForEdgeLabels",function(){k(A)}),I("    removeSelfEdges",function(){V(A)}),I("    acyclic",function(){e.run(A)}),I("    nestingGraph.run",function(){o.run(A)}),I("    rank",function(){n(d.asNonCompoundGraph(A))}),I("    injectEdgeLabelProxies",function(){D(A)}),I("    removeEmptyRanks",function(){s(A)}),I("    nestingGraph.cleanup",function(){o.cleanup(A)}),I("    normalizeRanks",function(){a(A)}),I("    assignRankMinMax",function(){C(A)}),I("    removeEdgeLabelProxies",function(){P(A)}),I("    normalize.run",function(){r.run(A)}),I("    parentDummyChains",function(){i(A)}),I("    addBorderSegments",function(){u(A)}),I("    order",function(){c(A)}),I("    insertSelfEdges",function(){Y(A)}),I("    adjustCoordinateSystem",function(){l.adjust(A)}),I("    position",function(){f(A)}),I("    positionSelfEdges",function(){z(A)}),I("    removeBorderNodes",function(){F(A)}),I("    normalize.undo",function(){r.undo(A)}),I("    fixupEdgeLabelCoords",function(){O(A)}),I("    undoCoordinateSystem",function(){l.undo(A)}),I("    translateGraph",function(){M(A)}),I("    assignNodeIntersects",function(){N(A)}),I("    reversePoints",function(){B(A)}),I("    acyclic.undo",function(){e.undo(A)})}function m(A,I){t.forEach(A.nodes(),function(q){var L=A.node(q),H=I.node(q);L&&(L.x=H.x,L.y=H.y,I.children(q).length&&(L.width=H.width,L.height=H.height))}),t.forEach(A.edges(),function(q){var L=A.edge(q),H=I.edge(q);L.points=H.points,t.has(H,"x")&&(L.x=H.x,L.y=H.y)}),A.graph().width=I.graph().width,A.graph().height=I.graph().height}var p=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],_=["width","height"],x={width:0,height:0},S=["minlen","weight","width","height","labeloffset"],w={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},T=["labelpos"];function E(A){var I=new h({multigraph:!0,compound:!0}),q=G(A.graph());return I.setGraph(t.merge({},y,$(q,p),t.pick(q,b))),t.forEach(A.nodes(),function(L){var H=G(A.node(L));I.setNode(L,t.defaults($(H,_),x)),I.setParent(L,A.parent(L))}),t.forEach(A.edges(),function(L){var H=G(A.edge(L));I.setEdge(L,t.merge({},w,$(H,S),t.pick(H,T)))}),I}function k(A){var I=A.graph();I.ranksep/=2,t.forEach(A.edges(),function(q){var L=A.edge(q);L.minlen*=2,L.labelpos.toLowerCase()!=="c"&&(I.rankdir==="TB"||I.rankdir==="BT"?L.width+=L.labeloffset:L.height+=L.labeloffset)})}function D(A){t.forEach(A.edges(),function(I){var q=A.edge(I);if(q.width&&q.height){var L=A.node(I.v),H=A.node(I.w),U={rank:(H.rank-L.rank)/2+L.rank,e:I};d.addDummyNode(A,"edge-proxy",U,"_ep")}})}function C(A){var I=0;t.forEach(A.nodes(),function(q){var L=A.node(q);L.borderTop&&(L.minRank=A.node(L.borderTop).rank,L.maxRank=A.node(L.borderBottom).rank,I=t.max(I,L.maxRank))}),A.graph().maxRank=I}function P(A){t.forEach(A.nodes(),function(I){var q=A.node(I);q.dummy==="edge-proxy"&&(A.edge(q.e).labelRank=q.rank,A.removeNode(I))})}function M(A){var I=Number.POSITIVE_INFINITY,q=0,L=Number.POSITIVE_INFINITY,H=0,U=A.graph(),X=U.marginx||0,re=U.marginy||0;function ye(he){var ne=he.x,K=he.y,ue=he.width,te=he.height;I=Math.min(I,ne-ue/2),q=Math.max(q,ne+ue/2),L=Math.min(L,K-te/2),H=Math.max(H,K+te/2)}t.forEach(A.nodes(),function(he){ye(A.node(he))}),t.forEach(A.edges(),function(he){var ne=A.edge(he);t.has(ne,"x")&&ye(ne)}),I-=X,L-=re,t.forEach(A.nodes(),function(he){var ne=A.node(he);ne.x-=I,ne.y-=L}),t.forEach(A.edges(),function(he){var ne=A.edge(he);t.forEach(ne.points,function(K){K.x-=I,K.y-=L}),t.has(ne,"x")&&(ne.x-=I),t.has(ne,"y")&&(ne.y-=L)}),U.width=q-I+X,U.height=H-L+re}function N(A){t.forEach(A.edges(),function(I){var q=A.edge(I),L=A.node(I.v),H=A.node(I.w),U,X;q.points?(U=q.points[0],X=q.points[q.points.length-1]):(q.points=[],U=H,X=L),q.points.unshift(d.intersectRect(L,U)),q.points.push(d.intersectRect(H,X))})}function O(A){t.forEach(A.edges(),function(I){var q=A.edge(I);if(t.has(q,"x"))switch((q.labelpos==="l"||q.labelpos==="r")&&(q.width-=q.labeloffset),q.labelpos){case"l":q.x-=q.width/2+q.labeloffset;break;case"r":q.x+=q.width/2+q.labeloffset;break}})}function B(A){t.forEach(A.edges(),function(I){var q=A.edge(I);q.reversed&&q.points.reverse()})}function F(A){t.forEach(A.nodes(),function(I){if(A.children(I).length){var q=A.node(I),L=A.node(q.borderTop),H=A.node(q.borderBottom),U=A.node(t.last(q.borderLeft)),X=A.node(t.last(q.borderRight));q.width=Math.abs(X.x-U.x),q.height=Math.abs(H.y-L.y),q.x=U.x+q.width/2,q.y=L.y+q.height/2}}),t.forEach(A.nodes(),function(I){A.node(I).dummy==="border"&&A.removeNode(I)})}function V(A){t.forEach(A.edges(),function(I){if(I.v===I.w){var q=A.node(I.v);q.selfEdges||(q.selfEdges=[]),q.selfEdges.push({e:I,label:A.edge(I)}),A.removeEdge(I)}})}function Y(A){var I=d.buildLayerMatrix(A);t.forEach(I,function(q){var L=0;t.forEach(q,function(H,U){var X=A.node(H);X.order=U+L,t.forEach(X.selfEdges,function(re){d.addDummyNode(A,"selfedge",{width:re.label.width,height:re.label.height,rank:X.rank,order:U+ ++L,e:re.e,label:re.label},"_se")}),delete X.selfEdges})})}function z(A){t.forEach(A.nodes(),function(I){var q=A.node(I);if(q.dummy==="selfedge"){var L=A.node(q.e.v),H=L.x+L.width/2,U=L.y,X=q.x-H,re=L.height/2;A.setEdge(q.e,q.label),A.removeNode(I),q.label.points=[{x:H+2*X/3,y:U-re},{x:H+5*X/6,y:U-re},{x:H+X,y:U},{x:H+5*X/6,y:U+re},{x:H+2*X/3,y:U+re}],q.label.x=q.x,q.label.y=q.y}})}function $(A,I){return t.mapValues(t.pick(A,I),Number)}function G(A){var I={};return t.forEach(A,function(q,L){I[L.toLowerCase()]=q}),I}return Ff}var zf,sy;function bM(){if(sy)return zf;sy=1;var t=et(),e=Ft(),r=cr().Graph;zf={debugOrdering:n};function n(a){var i=e.buildLayerMatrix(a),s=new r({compound:!0,multigraph:!0}).setGraph({});return t.forEach(a.nodes(),function(o){s.setNode(o,{label:o}),s.setParent(o,"layer"+a.node(o).rank)}),t.forEach(a.edges(),function(o){s.setEdge(o.v,o.w,{},o.name)}),t.forEach(i,function(o,u){var l="layer"+u;s.setNode(l,{rank:"same"}),t.reduce(o,function(c,f){return s.setEdge(c,f,{style:"invis"}),f})}),s}return zf}var Vf,oy;function _M(){return oy||(oy=1,Vf="0.8.5"),Vf}var Hf,uy;function wM(){return uy||(uy=1,Hf={graphlib:cr(),layout:yM(),debug:bM(),util:{time:Ft().time,notime:Ft().notime},version:_M()}),Hf}(function(t,e){(function(n,a){t.exports=a(wM())})(ot,function(r){return function(n){var a={};function i(s){if(a[s])return a[s].exports;var o=a[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=a,i.d=function(s,o,u){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:u})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(o&1&&(s=i(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var l in s)i.d(u,l,(function(c){return s[c]}).bind(null,l));return u},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=0)}([function(n,a,i){var s=i(1),o=function(l){l&&l("layout","dagre",s)};typeof cytoscape<"u"&&o(cytoscape),n.exports=o},function(n,a,i){function s(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(v){return typeof v}:s=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},s(d)}var o=function(h){return typeof h=="function"},u=i(2),l=i(3),c=i(4);function f(d){this.options=l({},u,d)}f.prototype.run=function(){var d=this.options,h=this,v=d.cy,g=d.eles,m=function(z,$){return o($)?$.apply(z,[z]):$},p=d.boundingBox||{x1:0,y1:0,w:v.width(),h:v.height()};p.x2===void 0&&(p.x2=p.x1+p.w),p.w===void 0&&(p.w=p.x2-p.x1),p.y2===void 0&&(p.y2=p.y1+p.h),p.h===void 0&&(p.h=p.y2-p.y1);var y=new c.graphlib.Graph({multigraph:!0,compound:!0}),b={},_=function(z,$){$!=null&&(b[z]=$)};_("nodesep",d.nodeSep),_("edgesep",d.edgeSep),_("ranksep",d.rankSep),_("rankdir",d.rankDir),_("align",d.align),_("ranker",d.ranker),_("acyclicer",d.acyclicer),y.setGraph(b),y.setDefaultEdgeLabel(function(){return{}}),y.setDefaultNodeLabel(function(){return{}});var x=g.nodes();o(d.sort)&&(x=x.sort(d.sort));for(var S=0;S<x.length;S++){var w=x[S],T=w.layoutDimensions(d);y.setNode(w.id(),{width:T.w,height:T.h,name:w.id()})}for(var E=0;E<x.length;E++){var k=x[E];k.isChild()&&y.setParent(k.id(),k.parent().id())}var D=g.edges().stdFilter(function(Y){return!Y.source().isParent()&&!Y.target().isParent()});o(d.sort)&&(D=D.sort(d.sort));for(var C=0;C<D.length;C++){var P=D[C];y.setEdge(P.source().id(),P.target().id(),{minlen:m(P,d.minLen),weight:m(P,d.edgeWeight),name:P.id()},P.id())}c.layout(y);for(var M=y.nodes(),N=0;N<M.length;N++){var O=M[N],B=y.node(O);v.getElementById(O).scratch().dagre=B}var F;d.boundingBox?(F={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},x.forEach(function(Y){var z=Y.scratch().dagre;F.x1=Math.min(F.x1,z.x),F.x2=Math.max(F.x2,z.x),F.y1=Math.min(F.y1,z.y),F.y2=Math.max(F.y2,z.y)}),F.w=F.x2-F.x1,F.h=F.y2-F.y1):F=p;var V=function(z){if(d.boundingBox){var $=F.w===0?0:(z.x-F.x1)/F.w,G=F.h===0?0:(z.y-F.y1)/F.h;return{x:p.x1+$*p.w,y:p.y1+G*p.h}}else return z};return x.layoutPositions(h,d,function(Y){Y=s(Y)==="object"?Y:this;var z=Y.scratch().dagre;return V({x:z.x,y:z.y})}),this},n.exports=f},function(n,a){var i={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(o){return 1},edgeWeight:function(o){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(o,u){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(o,u){return u},ready:function(){},sort:void 0,stop:function(){}};n.exports=i},function(n,a){n.exports=Object.assign!=null?Object.assign.bind(Object):function(i){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.forEach(function(l){Object.keys(l).forEach(function(c){return i[c]=l[c]})}),i}},function(n,a){n.exports=r}])})})(ub);var SM=ub.exports;const xM=oa(SM),EM=[{selector:"node",style:{"background-color":"data(color)",content:"data(name)","text-valign":"center","text-outline-width":0,color:"data(textColor)",shape:"round-rectangle","padding-top":"10px","padding-left":"10px","padding-right":"10px","padding-bottom":"10px","text-wrap":"wrap",width:"label",height:"label","border-width":"2px","border-color":"#000"}},{selector:"edge",style:{"line-color":"data(color)","background-color":"data(color)","text-outline-width":"2px",width:2,height:"label","target-arrow-shape":"triangle","target-arrow-color":"data(color)",content:"data(label)",color:"#fff","curve-style":"bezier","taxi-direction":"downward","edge-distances":"node-position","control-point-distance":5}}];ob.use(xM);const X6=({elements:t,container:e,onNodeHover:r})=>{const n=ob({container:e,wheelSensitivity:.4,elements:t,layout:{name:"dagre",nodeSep:10,edgeSep:10,rankSep:80,rankDir:"TB"},style:EM});return n.on("mouseover","node",a=>{r(a.target,a.originalEvent)}),n.on("mouseout","node",()=>{r(void 0,void 0)}),()=>n.destroy()};var Mr=(t=>(t.VAR_DUMP="var-dump",t.SMTP="smtp",t.SENTRY="sentry",t.PROFILER="profiler",t.MONOLOG="monolog",t.INSPECTOR="inspector",t.HTTP_DUMP="http-dump",t.RAY_DUMP="ray",t))(Mr||{}),wi=(t=>(t.CACHED_EVENTS="cached_events",t.LOCKED_EVENTS="locked_events",t.THEME="theme",t.NAVBAR="navbar",t))(wi||{});const _e=t=>(L2("data-v-6be11dfa"),t=t(),A2(),t),TM={class:"icon-svg"},CM={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},kM=_e(()=>ge("path",{d:"M3.75 13.5L14.25 2.25L12 10.5H20.25L9.75 21.75L12 13.5H3.75Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),DM=[kM],MM={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},RM=_e(()=>ge("path",{d:"M11.4123 15.6549L9.75 21.75L13.4949 17.7376M9.25736 13.5H3.75L6.40873 10.6514M8.4569 8.4569L14.25 2.25L12 10.5H20.25L15.5431 15.5431M8.4569 8.4569L3 3M8.4569 8.4569L15.5431 15.5431M15.5431 15.5431L21 21","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),PM=[RM],OM={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 460"},LM=_e(()=>ge("path",{d:"M426 0H172c-18 0-33 15-33 33v77h30V33c0-2 1-3 3-3h254c2 0 3 1 3 3v254c0 2-1 3-3 3h-75v30h75c18 0 33-15 33-33V33c0-18-15-33-33-33z"},null,-1)),AM=_e(()=>ge("path",{d:"M288 140H34c-18 0-33 15-33 33v254c0 18 15 33 33 33h254c18 0 33-15 33-33V173c0-18-15-33-33-33zm0 290H34c-2 0-3-1-3-3V173c0-2 1-3 3-3h254c2 0 3 1 3 3v254c0 2-1 3-3 3z"},null,-1)),IM=[LM,AM],BM={key:3,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 22"},NM=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 20H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h11v4c0 1.1.9 2 2 2h4v9a3 3 0 0 1-3 3Zm2.8-14a3 3 0 0 0-.7-1l-1-1-1-1.1a3 3 0 0 0-1.1-.7V6h3.8ZM0 5a5 5 0 0 1 5-5h12a5 5 0 0 1 3.5 1.5l1 1 1 1A5 5 0 0 1 24 7.1V17a5 5 0 0 1-5 5H5a5 5 0 0 1-5-5V5Zm5 5c0-.6.4-1 1-1h12a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Zm1 2a1 1 0 1 0 0 2h12a1 1 0 1 0 0-2H6Zm-1 4c0-.6.4-1 1-1h7a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Z"},null,-1)),qM=[NM],FM={key:4,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},zM=_e(()=>ge("path",{"fill-rule":"evenodd",d:"M4 0h2v2H4a2 2 0 0 0-2 2v2H0V4a4 4 0 0 1 4-4ZM0 14v2a4 4 0 0 0 4 4h2v-2H4a2 2 0 0 1-2-2v-2H0Zm18 0v2a2 2 0 0 1-2 2h-2v2h2a4 4 0 0 0 4-4v-2h-2Zm2-8V4a4 4 0 0 0-4-4h-2v2h2a2 2 0 0 1 2 2v2h2Z","clip-rule":"evenodd"},null,-1)),VM=[zM],HM={key:5,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},YM=_e(()=>ge("path",{d:"M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z",transform:"scale(64)"},null,-1)),$M=[YM],WM={key:6,viewBox:"0 -28.5 256 256",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},UM=_e(()=>ge("path",{d:"M216.856 16.597A208.502 208.502 0 0 0 164.042 0c-2.275 4.113-4.933 9.645-6.766 14.046-19.692-2.961-39.203-2.961-58.533 0-1.832-4.4-4.55-9.933-6.846-14.046a207.809 207.809 0 0 0-52.855 16.638C5.618 67.147-3.443 116.4 1.087 164.956c22.169 16.555 43.653 26.612 64.775 33.193A161.094 161.094 0 0 0 79.735 175.3a136.413 136.413 0 0 1-21.846-10.632 108.636 108.636 0 0 0 5.356-4.237c42.122 19.702 87.89 19.702 129.51 0a131.66 131.66 0 0 0 5.355 4.237 136.07 136.07 0 0 1-21.886 10.653c4.006 8.02 8.638 15.67 13.873 22.848 21.142-6.58 42.646-16.637 64.815-33.213 5.316-56.288-9.08-105.09-38.056-148.36ZM85.474 135.095c-12.645 0-23.015-11.805-23.015-26.18s10.149-26.2 23.015-26.2c12.867 0 23.236 11.804 23.015 26.2.02 14.375-10.148 26.18-23.015 26.18Zm85.051 0c-12.645 0-23.014-11.805-23.014-26.18s10.148-26.2 23.014-26.2c12.867 0 23.236 11.804 23.015 26.2 0 14.375-10.148 26.18-23.015 26.18Z"},null,-1)),GM=[UM],jM={key:7,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 114 40"},ZM=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M47 .7A1 1 0 0 0 45 .6L36 19H1a1 1 0 1 0 0 2h35.5c.4 0 .7-.2.9-.6l8.4-16.7L49 14.5a4 4 0 0 0 2.3 7.5l5.2 17.3a1 1 0 0 0 1.9.2l9.2-15.8h29.9a1 1 0 1 0 0-2H67a1 1 0 0 0-.9.5l-8.3 14.3-4.6-15.2A4 4 0 0 0 51 14L47 .7Zm54.5 21a1 1 0 0 0 0 2h3.5a1 1 0 0 0 0-2h-3.5Zm8 0a1 1 0 0 0 0 2h3.5a1 1 0 0 0 0-2h-3.5Z"},null,-1)),KM=[ZM],XM={key:8,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 489.8 489.8"},QM=ii('<circle cx="245" cy="453.9" r="26.8" data-v-6be11dfa></circle><circle cx="422.8" cy="453.9" r="26.8" data-v-6be11dfa></circle><circle cx="67" cy="453.9" r="26.8" data-v-6be11dfa></circle><path d="M443 31c0-17-14-31-31-31H78C61 0 47 14 47 31v69c0 8 4 15 9 21-5 6-9 13-9 21v70c0 8 4 15 9 21-5 5-9 13-9 21v69c0 17 14 31 31 31h334c17 0 31-14 31-31v-69c0-8-3-16-9-21 6-6 9-13 9-22v-69c0-8-3-16-9-21 6-6 9-13 9-21V31zM65 31c0-7 6-13 12-13h335c7 0 13 6 13 13v69c0 6-6 12-13 12H78c-7 0-13-5-13-12V31zm360 111v70c0 6-6 12-13 12H78c-7 0-13-6-13-12v-70c0-6 6-12 13-12h334c7 0 13 6 13 12zm0 181c0 7-6 13-13 13H78c-7 0-13-6-13-13v-69c0-7 6-12 13-12h334c7 0 13 5 13 12v69z" data-v-6be11dfa></path><path d="M241 74h113c5 0 9-4 9-9s-4-9-9-9H241c-5 0-9 4-9 9s4 9 9 9z" data-v-6be11dfa></path><circle cx="148.8" cy="65.1" r="10.8" data-v-6be11dfa></circle><path d="M241 186h113c5 0 9-4 9-9s-4-9-9-9H241c-5 0-9 4-9 9s4 9 9 9zM354 280H241c-5 0-9 4-9 9s4 9 9 9h113c5 0 9-4 9-9s-4-9-9-9z" data-v-6be11dfa></path><circle cx="148.8" cy="177" r="10.8" data-v-6be11dfa></circle><circle cx="148.8" cy="288.9" r="10.8" data-v-6be11dfa></circle><path d="M423 418c-17 0-31 11-35 27H280c-4-13-13-22-26-26v-28c0-5-4-9-9-9s-9 4-9 9v28c-13 3-22 13-26 26H102a36 36 0 100 18h108a36 36 0 0070 0h108a36 36 0 1035-45zM67 472a18 18 0 010-36 18 18 0 010 36zm178 0a18 18 0 010-36 18 18 0 010 36zm178 0a18 18 0 010-36 18 18 0 010 36z" data-v-6be11dfa></path>',10),JM=[QM],eR={key:9,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},tR=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 3H5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3ZM5 1a5 5 0 0 0-5 5v12a5 5 0 0 0 5 5h14a5 5 0 0 0 5-5V6a5 5 0 0 0-5-5H5Z"},null,-1)),rR=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 12c0-.6.4-1 1-1h10a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Z"},null,-1)),nR=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 8c0-.6.4-1 1-1h10a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1ZM5 16c0-.6.4-1 1-1h10a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Z"},null,-1)),aR=[tR,rR,nR],iR={key:10,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 117 24"},sR=_e(()=>ge("path",{d:"M46.3 12.6c0 1.5-.2 2.7-.7 3.4-.5.8-1.3 1.2-2.3 1.2-.9 0-1.5-.4-2-1.1l-.1.9h-2.3V3.5h2.5v4.8c.5-.7 1-1 1.8-1 1.1 0 1.9.4 2.4 1.2.5.7.7 1.8.7 3.3v.8Zm-2.5-.7c0-1 0-1.6-.3-2-.1-.3-.5-.5-1-.5s-.9.2-1.1.7v4.3c.2.5.6.7 1.2.7.4 0 .8-.1 1-.5l.2-1.8V12ZM51.6 16.1c-.5.7-1.2 1-2 1-1 0-1.6-.2-2-.8-.5-.6-.7-1.5-.7-2.6V7.5h2.4v6.2c0 1 .4 1.4 1 1.4.5 0 1-.2 1.2-.7v-7H54V17h-2.3l-.1-.9ZM54.6 12c0-1.6.3-2.8.8-3.5.6-.8 1.4-1.2 2.4-1.2.8 0 1.5.4 2 1v-.8h2.3V17c0 1.2-.3 2.1-1 2.8-.7.6-1.7 1-3 1l-1.6-.4a3 3 0 0 1-1.3-.8l.9-1.7c.2.3.5.5.9.6.4.2.7.2 1 .2.6 0 1 0 1.3-.4.2-.2.3-.6.3-1.2v-.9c-.4.7-1 1-1.8 1-1 0-1.8-.4-2.4-1.2-.5-.8-.8-2-.8-3.3V12Zm2.5.6c0 .9 0 1.5.3 1.9.2.4.6.6 1.1.6.5 0 .9-.2 1.1-.6V10c-.2-.4-.6-.6-1-.6-.6 0-1 .2-1.2.6a4 4 0 0 0-.3 2v.6ZM62.7 12c0-1.6.3-2.8.9-3.5.5-.8 1.3-1.2 2.3-1.2.9 0 1.6.4 2 1l.1-.8h2.3V17c0 1.2-.4 2.1-1 2.8-.7.6-1.7 1-3 1-.5 0-1-.2-1.6-.4a3 3 0 0 1-1.3-.8l.8-1.7c.3.3.6.5 1 .6.3.2.7.2 1 .2.6 0 1 0 1.2-.4.3-.2.4-.6.4-1.2v-.9c-.5.7-1.1 1-1.9 1-1 0-1.8-.4-2.3-1.2-.6-.8-.9-2-.9-3.3V12Zm2.5.6c0 .9.1 1.5.4 1.9.2.4.6.6 1 .6.6 0 1-.2 1.2-.6V10c-.3-.4-.6-.6-1.1-.6-.5 0-.9.2-1.1.6a4 4 0 0 0-.4 2v.6ZM75.9 9.9H75c-.6 0-1 .2-1.3.8V17h-2.5V7.5h2.3v1c.5-.8 1-1.2 1.7-1.2l.7.1V10ZM80 17.2c-1.4 0-2.3-.4-3-1.2-.8-.7-1.1-1.8-1.1-3.2V12c0-1.5.3-2.6 1-3.5.6-.8 1.5-1.2 2.8-1.2 1.2 0 2 .4 2.7 1.2.6.7.9 1.9.9 3.4V13h-5c0 .7.2 1.2.5 1.5.3.3.7.5 1.3.5.8 0 1.5-.3 2-.8l1 1.5c-.3.4-.7.7-1.3 1-.6.2-1.2.4-1.9.4Zm-1.6-5.9h2.4v-.2c0-.6 0-1-.2-1.3-.2-.3-.5-.4-1-.4-.4 0-.7.1-.9.4-.2.4-.3.9-.3 1.5ZM83.5 12c0-1.6.3-2.8.8-3.5.6-.8 1.4-1.2 2.4-1.2.9 0 1.5.4 2 1l.1-.8H91V17c0 1.2-.3 2.1-1 2.8-.7.6-1.6 1-3 1l-1.6-.4a3 3 0 0 1-1.2-.8L85 18c.2.3.5.5 1 .6.3.2.6.2 1 .2.5 0 1 0 1.2-.4.2-.2.3-.6.4-1.2v-.9c-.5.7-1.1 1-1.9 1-1 0-1.8-.4-2.4-1.2-.5-.8-.8-2-.8-3.3V12Zm2.5.6c0 .9.1 1.5.3 1.9.3.4.6.6 1.1.6.5 0 1-.2 1.2-.6V10c-.3-.4-.7-.6-1.2-.6s-.8.2-1 .6a4 4 0 0 0-.4 2v.6ZM96.5 17l-.2-.7c-.5.6-1 .9-1.9.9-.8 0-1.4-.3-2-.8-.5-.5-.7-1.2-.7-2 0-1 .3-1.8 1-2.4.6-.5 1.5-.8 2.7-.8h.7v-.8c0-.4 0-.7-.2-.9-.1-.2-.3-.2-.6-.2-.6 0-1 .3-1 1H92c0-.8.3-1.6 1-2.1.6-.6 1.4-.9 2.4-.9s1.9.3 2.5.8c.5.6.8 1.3.8 2.4v4.4c0 .8.1 1.5.4 2v.1h-2.5ZM95 15.2l.7-.1.4-.4v-2h-.6c-.4 0-.7.1-1 .4-.2.3-.3.6-.3 1 0 .8.2 1.1.8 1.1ZM102.4 5.2v2.3h1.3v1.9h-1.3V14c0 .4 0 .6.2.8l.6.2.5-.1v2l-1.3.2c-1.6 0-2.5-1-2.5-2.8v-5h-1v-2h1V5.3h2.5Z"},null,-1)),oR=_e(()=>ge("path",{d:"M103.6 12c0-1.5.3-2.6 1-3.5.7-.8 1.6-1.2 2.8-1.2 1.3 0 2.2.4 2.9 1.2.7.9 1 2 1 3.5v.6c0 1.4-.3 2.5-1 3.4-.7.8-1.6 1.2-2.8 1.2-1.3 0-2.2-.4-2.9-1.2-.7-.9-1-2-1-3.5V12Zm2.5.6c0 1.7.5 2.5 1.4 2.5.8 0 1.3-.7 1.3-2.1v-1a4 4 0 0 0-.3-2c-.3-.4-.6-.6-1-.6-.5 0-.8.2-1 .6a4 4 0 0 0-.4 2v.6ZM116.7 9.9h-.9c-.7 0-1.1.2-1.4.8V17H112V7.5h2.3v1c.5-.8 1-1.2 1.7-1.2l.7.1V10ZM7.1 23.1c-1.3-.3-2.3-1-3-1.8-.6-.9-1-2-1-3.4v-2.3c0-1.8-.8-2.7-2.4-2.7v-1.7c1.6 0 2.4-.9 2.4-2.7V6c0-1.3.4-2.4 1-3.3.7-.8 1.7-1.5 3-1.8l.5 1.3C6 2.8 5.2 4 5.2 6.2v2.3c0 1.7-.6 2.9-1.9 3.6 1.3.6 2 1.8 2 3.6V18c0 2 .7 3.3 2.3 3.8L7 23.1ZM25.3 21.8c1.5-.5 2.3-1.7 2.4-3.7v-2.5c0-1.7.6-3 2-3.5-1.4-.7-2-1.9-2-3.6V6.2c0-2.1-.8-3.4-2.4-4l.4-1.2c1.4.3 2.4 1 3 1.8.7.8 1 2 1 3.4v2.3c0 1.8.8 2.7 2.4 2.7V13c-1.6 0-2.4.9-2.4 2.7V18c0 1.4-.3 2.5-1 3.4-.7.8-1.7 1.5-3 1.8l-.4-1.3Z"},null,-1)),uR=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.4 7.6a4.7 4.7 0 0 1 9.4 0V8l1.6-1.7a.6.6 0 1 1 .8.7l-1.5 1.7c.5.5.7 1.1.7 1.8v1.4l-.1.8h2a.6.6 0 0 1 0 1.2h-2.2c-.2 1-.5 2-1 2.8l-.4 1-.1.1 2 2.1a.6.6 0 0 1-.8.8l-1.9-2a5.3 5.3 0 0 1-8-.2l-2.1 2a.6.6 0 1 1-.8-.8l2.2-2.2-.6-1.4c-.3-.7-.6-1.5-.7-2.2H7.6a.6.6 0 1 1 0-1.2h2v-2.1c-.1-.7.1-1.3.5-1.8L8.5 7a.6.6 0 0 1 .9-.8L11 8l.4-.2v-.2Zm7.7 0v.1h-6a3 3 0 0 1 6 0Zm.6 1.8h-7.5a1 1 0 0 0-1 1l.1 1.5c0 1.2.4 2.3.8 3.4l.6 1.3a3.6 3.6 0 0 0 6.5.2l.4-1c.7-1.2 1-2.6 1-4v-1.4c.1-.6-.3-1-.9-1Z"},null,-1)),lR=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.8 10.5a.6.6 0 0 1 .8.8L16.8 13l2 2a.6.6 0 1 1-.9.7l-1.9-2-2 2a.6.6 0 1 1-.7-.8l1.9-2-1.8-1.7a.6.6 0 0 1 .8-.8l1.8 1.8 1.8-1.8Z"},null,-1)),cR=[sR,oR,uR,lR],fR={key:11,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 22"},dR=_e(()=>ge("path",{d:"M6 0a6 6 0 0 0-6 6v10a6 6 0 0 0 6 6h12a6 6 0 0 0 6-6v-.5a1 1 0 1 0-2 0v.5a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v.5a1 1 0 1 0 2 0V6a6 6 0 0 0-6-6H6Zm8.4 4.9a1 1 0 0 0-1.5.8v3c0 .6-.5 1-1 1H6.2a1.2 1.2 0 0 0 0 2.5H12c.5 0 1 .5 1 1v3a1 1 0 0 0 1.5 1l9.1-5.3a1 1 0 0 0 0-1.8L14.4 5Z"},null,-1)),hR=[dR],vR={key:12,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},pR=_e(()=>ge("path",{d:"M12 6c0 .6-.4 1-1 1H1a1 1 0 0 1 0-2h10c.6 0 1 .4 1 1Z"},null,-1)),gR=[pR],mR={key:13,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},yR=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 4a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4Zm4-2a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H4Zm6 2c.6 0 1 .4 1 1v4h4a1 1 0 1 1 0 2h-4v4a1 1 0 1 1-2 0v-4H5a1 1 0 1 1 0-2h4V5c0-.6.4-1 1-1Z"},null,-1)),bR=[yR],_R={key:14,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},wR=_e(()=>ge("path",{d:"M6 0c.6 0 1 .4 1 1v10a1 1 0 1 1-2 0V1c0-.6.4-1 1-1Z"},null,-1)),SR=_e(()=>ge("path",{d:"M12 6c0 .6-.4 1-1 1H1a1 1 0 0 1 0-2h10c.6 0 1 .4 1 1Z"},null,-1)),xR=[wR,SR],ER={key:15,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},TR=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 0a4 4 0 0 0-4 4v12a4 4 0 0 0 4 4h12a4 4 0 0 0 4-4V4a4 4 0 0 0-4-4H4ZM2 4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm8 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"},null,-1)),CR=[TR],kR={key:16,viewBox:"0 0 256 230",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMinYMin meet"},DR=_e(()=>ge("path",{d:"M251.22 187.856c5.785 10.045 6.345 20.608 1.538 28.958-4.8 8.357-14.192 13.143-25.768 13.143h-21.816c.259-4.068.431-8.17.431-12.302 0-4.628-.215-9.198-.531-13.754l14.35-.014c3.528 0 6.38-2.867 6.38-6.403a6.46 6.46 0 0 0-.768-3.053l-91.46-158.97a6.349 6.349 0 0 0-5.54-3.24 6.374 6.374 0 0 0-5.461 3.09l-14.522 25.243c44.134 33.27 73.804 84.813 77.864 143.333.316 4.548.531 9.119.531 13.753 0 4.132-.172 8.228-.424 12.302h-71.246c.388-4.053.611-8.148.611-12.302 0-4.649-.273-9.233-.776-13.753-3.52-32.206-19.286-60.748-42.503-80.89l-10.003 17.376c17.54 16.325 29.512 38.558 32.767 63.514.59 4.505.92 9.09.92 13.753 0 4.154-.273 8.264-.74 12.302H29.01c-11.576 0-20.968-4.793-25.768-13.15-4.807-8.35-4.247-18.905 1.538-28.958l13.56-23.238a79.42 79.42 0 0 1 20.715 16.052l-8.083 13.768a6.523 6.523 0 0 0-.77 3.054 6.383 6.383 0 0 0 6.382 6.395l32.033.015c-2.687-15.356-9.772-29.21-19.918-40.183-5.979-6.445-12.963-11.9-20.738-16.074l35.77-62.15a151.427 151.427 0 0 1 21.564 14.624c30.827 25.013 51.644 61.955 55.416 103.776h19.172c-3.91-48.892-28.477-92.006-64.937-120.548a171.205 171.205 0 0 0-21.672-14.457l30.532-53.045C109.583 5.77 118.42 0 128.036 0c9.607 0 18.438 5.77 24.223 15.823l98.961 172.033z"},null,-1)),MR=[DR],RR={key:17,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10"},PR=_e(()=>ge("path",{d:"M7.8 9.2a1 1 0 1 0 1.4-1.4L6.4 5l2.8-2.8A1 1 0 1 0 7.8.8L5 3.6 2.2.8A1 1 0 1 0 .8 2.2L3.6 5 .8 7.8a1 1 0 1 0 1.4 1.4L5 6.4l2.8 2.8Z"},null,-1)),OR=[PR],LR={key:18,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},AR=_e(()=>ge("path",{d:"M14,11.75a.74.74,0,0,1-.53-.22L8,6.06,2.53,11.53a.75.75,0,0,1-1.06-1.06l6-6a.75.75,0,0,1,1.06,0l6,6a.75.75,0,0,1,0,1.06A.74.74,0,0,1,14,11.75Z"},null,-1)),IR=[AR],BR={key:19,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},NR=ii('<circle cx="28" cy="75" r="11" fill="#0055a5" data-v-6be11dfa><animate attributeName="fill-opacity" repeatCount="indefinite" dur="1.1764705882352942s" values="0;1;1" keyTimes="0;0.2;1" begin="0s" data-v-6be11dfa></animate></circle><path d="M28 47A28 28 0 0 1 56 75" fill="none" stroke="#2d78bc" stroke-width="10" data-v-6be11dfa><animate attributeName="stroke-opacity" repeatCount="indefinite" dur="1.1764705882352942s" values="0;1;1" keyTimes="0;0.2;1" begin="0.11764705882352942s" data-v-6be11dfa></animate></path><path d="M28 25A50 50 0 0 1 78 75" fill="none" stroke="#45aee7" stroke-width="10" data-v-6be11dfa><animate attributeName="stroke-opacity" repeatCount="indefinite" dur="1.1764705882352942s" values="0;1;1" keyTimes="0;0.2;1" begin="0.23529411764705885s" data-v-6be11dfa></animate></path>',3),qR=[NR],FR={key:20,xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 1000 1000","xml:space":"preserve"},zR=_e(()=>ge("g",null,[ge("path",{fill:"#F43F3F",d:"M370.1,257.7c-131.9,25-258,88.5-360.1,190.4l98,97.8c76.5-76.4,169.9-125.8,268.2-148.1L370.1,257.7z M175.2,612.9l95.2,95c34-33.9,73.7-58.8,116-74.5l-6-139C305.2,514.5,234.2,554,175.2,612.9z M616.5,255.3l-6,139.6C713.6,415.7,812,466,892,545.8l98-97.8C884.4,342.7,753.3,278.4,616.5,255.3z M432.8,735.9c-37.1,37-37.1,97.1,0,134.1c37.1,37,97.3,37,134.4,0c37.1-37,37.1-97.1,0-134.1C530.1,698.8,469.9,698.8,432.8,735.9z M600.3,628.8c47.3,15.3,91.7,41.7,129.3,79.1l95.2-95C762.3,550.6,686.4,510,606.3,491L600.3,628.8z M534.7,632.5l23.1-530.3H430.7l23.1,530.3H534.7z"})],-1)),VR=[zR],HR={key:21,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},YR=_e(()=>ge("path",{d:"m19 1h-14a5.006 5.006 0 0 0 -5 5v12a5.006 5.006 0 0 0 5 5h14a5.006 5.006 0 0 0 5-5v-12a5.006 5.006 0 0 0 -5-5zm-14 2h14a3 3 0 0 1 3 3v1h-20v-1a3 3 0 0 1 3-3zm14 18h-14a3 3 0 0 1 -3-3v-9h20v9a3 3 0 0 1 -3 3zm0-8a1 1 0 0 1 -1 1h-12a1 1 0 0 1 0-2h12a1 1 0 0 1 1 1zm-4 4a1 1 0 0 1 -1 1h-8a1 1 0 0 1 0-2h8a1 1 0 0 1 1 1zm-12-12a1 1 0 1 1 1 1 1 1 0 0 1 -1-1zm3 0a1 1 0 1 1 1 1 1 1 0 0 1 -1-1zm3 0a1 1 0 1 1 1 1 1 1 0 0 1 -1-1z"},null,-1)),$R=[YR],WR={key:22,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 26"},UR=_e(()=>ge("path",{"fill-rule":"evenodd",d:"M11.65 0c-.8 0-1.45.64-1.45 1.44 0 .79.65 1.43 1.45 1.43h.49v.84c-.31.03-.63.08-.94.14-.52.1-.87.6-.77 1.11.1.52.6.87 1.13.77.48-.1.96-.14 1.44-.16V7a.5.5 0 0 0 1 0V5.6a9.52 9.52 0 0 1 5.86 2.58l-1.24 1.5a.5.5 0 1 0 .76.64l1.17-1.4A9.24 9.24 0 0 1 22.7 15H21a.5.5 0 0 0 0 1h1.63a9.16 9.16 0 0 1-2.42 5.1l-.84-.93a.5.5 0 0 0-.74.66l.86.97A9.48 9.48 0 0 1 14 24.06V23a.5.5 0 0 0-1 0v1.08a9.52 9.52 0 0 1-1.41-.15.97.97 0 0 0-1.14.76.96.96 0 0 0 .78 1.12 11.5 11.5 0 0 0 9.33-2.4 11.2 11.2 0 0 0 4.09-8.6 11.04 11.04 0 0 0-3.32-7.88l.8-.78.1.09.66.7.7-.67.7-.66.71-.66-.67-.7-.67-.69-.67-.69-.7.66-.7.66-.7.66.57.6-.84.83a11.4 11.4 0 0 0-5.56-2.5v-.9h.48c.8 0 1.46-.65 1.46-1.44C17 .64 16.34 0 15.54 0h-3.89Zm2.43 3.68V1.9h1.46c.27 0 .48-.21.48-.47a.48.48 0 0 0-.48-.48h-3.89a.48.48 0 0 0-.48.48c0 .26.22.47.48.47h1.46v1.74c.33 0 .65 0 .97.03Zm9.55 1.24-.67-.7-.7.67.66.69.7-.66ZM5.83 7.66c0-.27.21-.48.48-.48h1.95c.26 0 .48.21.48.48 0 .26-.22.48-.48.48H6.3a.48.48 0 0 1-.48-.48Zm-1.95 2.87c0-.27.22-.48.49-.48h3.89c.26 0 .48.21.48.48 0 .26-.22.48-.48.48H4.37a.48.48 0 0 1-.49-.48Zm-.48 8.14a.48.48 0 0 0-.49.47c0 .27.22.48.49.48h4.86c.26 0 .48-.21.48-.48a.48.48 0 0 0-.48-.47H3.4ZM0 16.27c0-.26.22-.48.49-.48h7.77c.26 0 .48.22.48.48 0 .27-.22.48-.48.48H.49a.48.48 0 0 1-.49-.48Zm2.43-3.35a.48.48 0 0 0-.49.48c0 .26.22.48.49.48h5.83c.26 0 .48-.22.48-.48a.48.48 0 0 0-.48-.48H2.43Zm3.4 9.1c0-.27.21-.48.48-.48h1.95c.26 0 .48.21.48.48 0 .26-.22.47-.48.47H6.3a.48.48 0 0 1-.48-.47Zm12.5-10.06a.95.95 0 0 0-.2-1.18.98.98 0 0 0-1.2-.08l-4.96 3.39a2.29 2.29 0 0 0-.33 3.52 2.36 2.36 0 0 0 3.69-.48l3-5.17Zm-5.26 3.7 1.44-.98-.87 1.5a.4.4 0 0 1-.62.08.39.39 0 0 1 .05-.6Z","clip-rule":"evenodd"},null,-1)),GR=[UR],jR={key:23,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},ZR=_e(()=>ge("path",{d:"M19,1H5A5.006,5.006,0,0,0,0,6V18a5.006,5.006,0,0,0,5,5H19a5.006,5.006,0,0,0,5-5V6A5.006,5.006,0,0,0,19,1ZM5,3H19a3,3,0,0,1,2.78,1.887l-7.658,7.659a3.007,3.007,0,0,1-4.244,0L2.22,4.887A3,3,0,0,1,5,3ZM19,21H5a3,3,0,0,1-3-3V7.5L8.464,13.96a5.007,5.007,0,0,0,7.072,0L22,7.5V18A3,3,0,0,1,19,21Z"},null,-1)),KR=[ZR],XR={key:24,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},QR=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 3H5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3ZM5 1a5 5 0 0 0-5 5v12a5 5 0 0 0 5 5h14a5 5 0 0 0 5-5V6a5 5 0 0 0-5-5H5Z"},null,-1)),JR=_e(()=>ge("path",{d:"M11.6 11.8V5.4c0-.2.2-.4.4-.4s.4.2.4.4v6.4a2 2 0 0 1 0 4v2.8c0 .2-.2.4-.4.4a.4.4 0 0 1-.4-.4v-2.9a2 2 0 0 1 0-3.9ZM12 15a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4ZM16.6 8.5V5.4c0-.2.2-.4.4-.4s.4.2.4.4v3.1a2 2 0 0 1 0 4v6.1c0 .2-.2.4-.4.4a.4.4 0 0 1-.4-.4v-6.2a2 2 0 0 1 0-3.9Zm.4 3.2a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4ZM6.6 8.5V5.4c0-.2.2-.4.4-.4s.4.2.4.4v3.1a2 2 0 0 1 0 4v6.1c0 .2-.2.4-.4.4a.4.4 0 0 1-.4-.4v-6.2a2 2 0 0 1 0-4Zm.4 3.2a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Z"},null,-1)),eP=[QR,JR],tP={key:25,class:"svg-icon",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},rP=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16 2a1.4 1.4 0 011.4 1.4v1.4a1.4 1.4 0 11-2.8 0V3.4A1.4 1.4 0 0116 2zM6.1 6.1a1.4 1.4 0 011.98 0l.99.99a1.4 1.4 0 11-1.98 1.98l-.99-.99a1.4 1.4 0 010-1.98zm19.8 0a1.4 1.4 0 010 1.98l-.99.99a1.4 1.4 0 01-1.98-1.98l.99-.99a1.4 1.4 0 011.98 0zM9 16a7 7 0 1114 0 7 7 0 01-14 0zm-7 0a1.4 1.4 0 011.4-1.4h1.4a1.4 1.4 0 110 2.8H3.4A1.4 1.4 0 012 16zm23.8 0a1.4 1.4 0 011.4-1.4h1.4a1.4 1.4 0 110 2.8h-1.4a1.4 1.4 0 01-1.4-1.4zm-2.87 6.93a1.4 1.4 0 011.98 0l.99.99a1.4 1.4 0 01-1.98 1.98l-.99-.99a1.4 1.4 0 010-1.98zm-15.84 0a1.4 1.4 0 011.98 1.98l-.99.99a1.4 1.4 0 01-1.98-1.98l.99-.99zM16 25.8a1.4 1.4 0 011.4 1.4v1.4a1.4 1.4 0 11-2.8 0v-1.4a1.4 1.4 0 011.4-1.4z",fill:"url(#paint0_linear)"},null,-1)),nP=_e(()=>ge("defs",null,[ge("linearGradient",{id:"paint0_linear",x1:"2",y1:"2",x2:"30",y2:"30",gradientUnits:"userSpaceOnUse"},[ge("stop",{class:"transition-all duration-200","stop-color":"#FACC15"}),ge("stop",{class:"transition-all duration-200",offset:"1","stop-color":"#FA9D16"})])],-1)),aP=[rP,nP],iP={key:26,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},sP=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.353 2.939a1 1 0 01.22 1.08 8 8 0 0010.408 10.408 1 1 0 011.301 1.3A10.003 10.003 0 0112 22C6.477 22 2 17.523 2 12c0-4.207 2.598-7.805 6.273-9.282a1 1 0 011.08.22z"},null,-1)),oP=[sP],uP={key:27,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.1 512.1"},lP=_e(()=>ge("path",{d:"M128 406c4 0 8-4 8-8V124a8 8 0 0 0-15 0v274c0 4 3 8 7 8zM384 264c-4 0-7 3-7 7v204c0 12-11 22-23 22H158c-12 0-22-10-22-22v-47a8 8 0 0 0-15 0v47c0 20 16 37 37 37h196c21 0 38-17 38-37V271c0-4-4-7-8-7zM354 0H158c-21 0-37 17-37 38v56a8 8 0 0 0 15 0V38c0-13 10-23 22-23h31c8 15 24 25 41 25h52c17 0 33-10 41-25h31c12 0 23 10 23 23v203a8 8 0 0 0 15 0V38c0-21-17-38-38-38zm-72 25h-52c-9 0-17-4-23-10h98c-6 6-14 10-23 10z"},null,-1)),cP=_e(()=>ge("path",{d:"M287 478a8 8 0 0 0 0-15h-62a8 8 0 0 0 0 15h62z"},null,-1)),fP=[lP,cP],dP={key:28,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.1 512.1"},hP=_e(()=>ge("path",{d:"M408 0H104C80 0 60 20 60 44v26a8 8 0 0 0 15 0V44c0-16 13-29 29-29h304c16 0 29 13 29 29v424c0 16-13 29-29 29H104c-16 0-29-13-29-29V100a8 8 0 0 0-15 0v368c0 24 20 44 44 44h304c24 0 44-20 44-44V44c0-24-20-44-44-44z"},null,-1)),vP=_e(()=>ge("path",{d:"M90 61v284a8 8 0 0 0 15 0V69h302v103a8 8 0 0 0 15 0V61c0-4-3-7-7-7H97c-4 0-7 3-7 7zM90 432c0 4 3 8 7 8h318c4 0 7-4 7-8V202a8 8 0 0 0-15 0v223H105v-50a8 8 0 0 0-15 0v57zM233 467a23 23 0 1 0 46-1 23 23 0 0 0-46 1zm31 0a8 8 0 1 1-16 0 8 8 0 0 1 16 0zM288 42a8 8 0 0 0 0-15h-34a8 8 0 0 0 0 15h34z"},null,-1)),pP=_e(()=>ge("circle",{cx:"225.6",cy:"34.3",r:"7.5"},null,-1)),gP=[hP,vP,pP],mP={key:29,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 510.5 510.5"},yP=_e(()=>ge("path",{d:"M473 30H148a7 7 0 1 0 0 15h325c12 0 23 10 23 22v265h-50a8 8 0 0 0 0 15h50v31c0 13-11 23-23 23H117a7 7 0 1 0 0 15h70l-14 50h-25a7 7 0 1 0 0 15h215a7 7 0 1 0 0-15h-26l-13-50h149c21 0 38-17 38-38V67c0-20-17-37-38-37zM322 466H189l13-50h106l14 50z"},null,-1)),bP=_e(()=>ge("path",{d:"M87 401H38c-13 0-23-10-23-23v-31h401a7 7 0 1 0 0-15H15V67c0-12 10-22 23-22h80a7 7 0 1 0 0-15H38C17 30 0 47 0 67v311c0 21 17 38 38 38h49a7 7 0 1 0 0-15z"},null,-1)),_P=[yP,bP],wP={key:30,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},SP=_e(()=>ge("path",{d:"m338 197-19 221c-1 10 14 11 15 1l19-221a8 8 0 0 0-15-1zM166 190c-4 0-7 4-7 8l19 221c1 10 16 9 15-1l-19-221c0-4-4-7-8-7zM249 197v222a7 7 0 1 0 15 0V197a7 7 0 1 0-15 0z"},null,-1)),xP=_e(()=>ge("path",{d:"M445 58H327V32c0-18-14-32-31-32h-80c-17 0-31 14-31 32v26H67a35 35 0 0 0 0 69h8l28 333c2 29 27 52 57 52h192c30 0 55-23 57-52l4-46a8 8 0 0 0-15-2l-4 46c-2 22-20 39-42 39H160c-22 0-40-17-42-39L90 127h22a7 7 0 1 0 0-15H67a20 20 0 0 1 0-39h378a20 20 0 0 1 0 39H147a7 7 0 1 0 0 15h275l-21 250a8 8 0 0 0 15 2l21-252h8a35 35 0 0 0 0-69zm-133 0H200V32c0-10 7-17 16-17h80c9 0 16 7 16 17v26z"},null,-1)),EP=[SP,xP],TP={key:31,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 22"},CP=_e(()=>ge("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 0a4 4 0 0 0-4 4v11.27A2 2 0 0 0 0 17v2a3 3 0 0 0 3 3h20a3 3 0 0 0 3-3v-2a2 2 0 0 0-1-1.73V4a4 4 0 0 0-4-4H5Zm18 15V4a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v11h5.5l2 1.5H15l2.25-1.5H23Zm-6.9 3.16L17.87 17H24v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-2h5.83l1.47 1.1.53.4h5.77l.5-.34Zm3.02-11.35h-2.18v4.38h.87V9.88h1.32A.88.88 0 0 0 20 9V7.69a.88.88 0 0 0-.88-.88ZM17.82 9V7.69h1.3V9h-1.3Zm-6.57-1.31h-.88V6.8H13v.88h-.88v3.5h-.87v-3.5Zm4.81-.88h-2.62v.88h.87v3.5h.88v-3.5h.87V6.8ZM8.63 8.56V6.81h.87v4.38h-.88V9.44h-1.3v1.75h-.88V6.8h.87v1.75h1.32Z"},null,-1)),kP=[CP],DP={key:32,viewBox:"0 0 16 16",fill:"currentColor",height:"100%",width:"100%"},MP=_e(()=>ge("path",{d:"M14,11.75a.74.74,0,0,1-.53-.22L8,6.06,2.53,11.53a.75.75,0,0,1-1.06-1.06l6-6a.75.75,0,0,1,1.06,0l6,6a.75.75,0,0,1,0,1.06A.74.74,0,0,1,14,11.75Z"},null,-1)),RP=[MP],PP={key:33,width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},OP=_e(()=>ge("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1)),LP=_e(()=>ge("path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z"},null,-1)),AP=_e(()=>ge("path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0"},null,-1)),IP=_e(()=>ge("path",{d:"M8 11v-4a4 4 0 1 1 8 0v4"},null,-1)),BP=[OP,LP,AP,IP],NP={key:34,width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},qP=ii('<path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-6be11dfa></path><path d="M15 11h2a2 2 0 0 1 2 2v2m0 4a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2h4" data-v-6be11dfa></path><path d="M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0" data-v-6be11dfa></path><path d="M8 11v-3m.719 -3.289a4 4 0 0 1 7.281 2.289v4" data-v-6be11dfa></path><path d="M3 3l18 18" data-v-6be11dfa></path>',5),FP=[qP],zP={key:35,viewBox:"0 0 24 24",width:"24",height:"24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},VP=ii('<path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-6be11dfa></path><path d="M15 8h.01" data-v-6be11dfa></path><path d="M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5" data-v-6be11dfa></path><path d="M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4" data-v-6be11dfa></path><path d="M14 14l1 -1c.653 -.629 1.413 -.815 2.13 -.559" data-v-6be11dfa></path><path d="M19 16v6" data-v-6be11dfa></path><path d="M22 19l-3 3l-3 -3" data-v-6be11dfa></path>',7),HP=[VP],YP={key:36,viewBox:"0 0 24 24",width:"24",height:"24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},$P=ii('<path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-6be11dfa></path><path d="M14 3v4a1 1 0 0 0 1 1h4" data-v-6be11dfa></path><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" data-v-6be11dfa></path><path d="M12 17v-6" data-v-6be11dfa></path><path d="M9.5 14.5l2.5 2.5l2.5 -2.5" data-v-6be11dfa></path>',5),WP=[$P],UP=gd({__name:"icon-svg",props:{name:{}},setup(t){return(e,r)=>(Re(),Pe("div",TM,[e.name==="bolt"?(Re(),Pe("svg",CM,DM)):e.name==="bolt-slash"?(Re(),Pe("svg",MM,PM)):e.name==="copy"?(Re(),Pe("svg",OM,IM)):e.name==="docs"?(Re(),Pe("svg",BM,qM)):e.name==="fullscreen"?(Re(),Pe("svg",FM,VM)):e.name==="github"?(Re(),Pe("svg",HM,$M)):e.name==="discord"?(Re(),Pe("svg",WM,GM)):e.name==="heartBeat"?(Re(),Pe("svg",jM,KM)):e.name==="host"?(Re(),Pe("svg",XM,JM)):e.name==="inspector"?(Re(),Pe("svg",eR,aR)):e.name==="logo"?(Re(),Pe("svg",iR,cR)):e.name==="logout"?(Re(),Pe("svg",fR,hR)):e.name==="minus"?(Re(),Pe("svg",vR,gR)):e.name==="newScreen"?(Re(),Pe("svg",mR,bR)):e.name==="plus"?(Re(),Pe("svg",_R,xR)):e.name==="screen"?(Re(),Pe("svg",ER,CR)):e.name==="sentry"?(Re(),Pe("svg",kR,MR)):e.name==="times"?(Re(),Pe("svg",RR,OR)):e.name==="dd"?(Re(),Pe("svg",LR,IR)):e.name==="connected"?(Re(),Pe("svg",BR,qR)):e.name==="disconnected"?(Re(),Pe("svg",FR,VR)):e.name==="events"?(Re(),Pe("svg",HR,$R)):e.name==="profiler"?(Re(),Pe("svg",WR,GR)):e.name==="smtp"?(Re(),Pe("svg",jR,KR)):e.name==="settings"?(Re(),Pe("svg",XR,eP)):e.name==="sun"?(Re(),Pe("svg",tP,aP)):e.name==="moon"?(Re(),Pe("svg",iP,oP)):e.name==="mobile-device"?(Re(),Pe("svg",uP,fP)):e.name==="tablet-device"?(Re(),Pe("svg",dP,gP)):e.name==="desktop-device"?(Re(),Pe("svg",mP,_P)):e.name==="trash-bin"?(Re(),Pe("svg",wP,EP)):e.name==="http-dumps"?(Re(),Pe("svg",TP,kP)):e.name==="collapsed"?(Re(),Pe("svg",DP,RP)):e.name==="lock"?(Re(),Pe("svg",PP,BP)):e.name==="lock-off"?(Re(),Pe("svg",NP,FP)):e.name==="image-download"?(Re(),Pe("svg",zP,HP)):e.name==="file-download"?(Re(),Pe("svg",YP,WP)):O2("",!0)]))}});const Q6=I2(UP,[["__scopeId","data-v-6be11dfa"]]);var gn=(t=>(t.ASC="asc",t.DESC="desc",t.DEFAULT="default",t))(gn||{});const GP={class:"sorting-wrapper__markers"},J6=gd({__name:"sorting-wrapper",props:{sort:{default:gn.DEFAULT}},emits:["changeSort"],setup(t,{emit:e}){const r=t,n=e,a=()=>{const i=[gn.ASC,gn.DESC,gn.DEFAULT],s=i.findIndex(u=>u===r.sort),o=i[s+1]||i[0];n("changeSort",o)};return(i,s)=>(Re(),Pe("span",{class:"sorting-wrapper",onClick:a},[B2(i.$slots,"default",{},void 0,!0),ge("span",GP,[ge("span",{class:Oh(["sorting-wrapper__marker sorting-wrapper__marker--asc",{"sorting-wrapper__marker--active":i.sort===Lh(gn).ASC}])},null,2),ge("span",{class:Oh(["sorting-wrapper__marker sorting-wrapper__marker--desc",{"sorting-wrapper__marker--active":i.sort===Lh(gn).DESC}])},null,2)])]))}});var i_={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ot,function(){return function r(n,a,i){var s=window,o="application/octet-stream",u=i||o,l=n,c=!a&&!i&&l,f=document.createElement("a"),d=function(w){return String(w)},h=s.Blob||s.MozBlob||s.WebKitBlob||d,v=a||"download",g,m;if(h=h.call?h.bind(s):Blob,String(this)==="true"&&(l=[l,u],u=l[0],l=l[1]),c&&c.length<2048&&(v=c.split("/").pop().split("?")[0],f.href=c,f.href.indexOf(c)!==-1)){var p=new XMLHttpRequest;return p.open("GET",c,!0),p.responseType="blob",p.onload=function(w){r(w.target.response,v,o)},setTimeout(function(){p.send()},0),p}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l))if(l.length>1024*1024*1.999&&h!==d)l=x(l),u=l.type||o;else return navigator.msSaveBlob?navigator.msSaveBlob(x(l),v):S(l);else if(/([\x80-\xff])/.test(l)){var y=0,b=new Uint8Array(l.length),_=b.length;for(y;y<_;++y)b[y]=l.charCodeAt(y);l=new h([b],{type:u})}g=l instanceof h?l:new h([l],{type:u});function x(w){var T=w.split(/[:;,]/),E=T[1],k=T[2]=="base64"?atob:decodeURIComponent,D=k(T.pop()),C=D.length,P=0,M=new Uint8Array(C);for(P;P<C;++P)M[P]=D.charCodeAt(P);return new h([M],{type:E})}function S(w,T){if("download"in f)return f.href=w,f.setAttribute("download",v),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout(function(){f.click(),document.body.removeChild(f),T===!0&&setTimeout(function(){s.URL.revokeObjectURL(f.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(w)&&(w="data:"+w.replace(/^data:([\w\/\-\+]+)/,o)),window.open(w)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=w),!0;var E=document.createElement("iframe");document.body.appendChild(E),!T&&/^data:/.test(w)&&(w="data:"+w.replace(/^data:([\w\/\-\+]+)/,o)),E.src=w,setTimeout(function(){document.body.removeChild(E)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(g,v);if(s.URL)S(s.URL.createObjectURL(g),!0);else{if(typeof g=="string"||g.constructor===d)try{return S("data:"+u+";base64,"+s.btoa(g))}catch{return S("data:"+u+","+encodeURIComponent(g))}m=new FileReader,m.onload=function(w){S(this.result)},m.readAsDataURL(g)}return!0}})})(i_);var jP=i_.exports;const e8=oa(jP);var ZP="Expected a function",ly=0/0,KP="[object Symbol]",XP=/^\s+|\s+$/g,QP=/^[-+]0x[0-9a-f]+$/i,JP=/^0b[01]+$/i,eO=/^0o[0-7]+$/i,tO=parseInt,rO=typeof ot=="object"&&ot&&ot.Object===Object&&ot,nO=typeof self=="object"&&self&&self.Object===Object&&self,aO=rO||nO||Function("return this")(),iO=Object.prototype,sO=iO.toString,oO=Math.max,uO=Math.min,Yf=function(){return aO.Date.now()};function lO(t,e,r){var n,a,i,s,o,u,l=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(ZP);e=cy(e)||0,ud(r)&&(c=!!r.leading,f="maxWait"in r,i=f?oO(cy(r.maxWait)||0,e):i,d="trailing"in r?!!r.trailing:d);function h(S){var w=n,T=a;return n=a=void 0,l=S,s=t.apply(T,w),s}function v(S){return l=S,o=setTimeout(p,e),c?h(S):s}function g(S){var w=S-u,T=S-l,E=e-w;return f?uO(E,i-T):E}function m(S){var w=S-u,T=S-l;return u===void 0||w>=e||w<0||f&&T>=i}function p(){var S=Yf();if(m(S))return y(S);o=setTimeout(p,g(S))}function y(S){return o=void 0,d&&n?h(S):(n=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),l=0,n=u=a=o=void 0}function _(){return o===void 0?s:y(Yf())}function x(){var S=Yf(),w=m(S);if(n=arguments,a=this,u=S,w){if(o===void 0)return v(u);if(f)return o=setTimeout(p,e),h(u)}return o===void 0&&(o=setTimeout(p,e)),s}return x.cancel=b,x.flush=_,x}function ud(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function cO(t){return!!t&&typeof t=="object"}function fO(t){return typeof t=="symbol"||cO(t)&&sO.call(t)==KP}function cy(t){if(typeof t=="number")return t;if(fO(t))return ly;if(ud(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ud(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(XP,"");var r=JP.test(t);return r||eO.test(t)?tO(t.slice(2),r?2:8):QP.test(t)?ly:+t}var dO=lO;const t8=oa(dO);//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var s_;function oe(){return s_.apply(null,arguments)}function hO(t){s_=t}function fr(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function bn(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Fe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ah(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Fe(t,e))return!1;return!0}function Nt(t){return t===void 0}function qr(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Si(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function o_(t,e){var r=[],n,a=t.length;for(n=0;n<a;++n)r.push(e(t[n],n));return r}function Xr(t,e){for(var r in e)Fe(e,r)&&(t[r]=e[r]);return Fe(e,"toString")&&(t.toString=e.toString),Fe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Er(t,e,r,n){return P_(t,e,r,n,!0).utc()}function vO(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ke(t){return t._pf==null&&(t._pf=vO()),t._pf}var ld;Array.prototype.some?ld=Array.prototype.some:ld=function(t){var e=Object(this),r=e.length>>>0,n;for(n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function ih(t){if(t._isValid==null){var e=ke(t),r=ld.call(e.parsedDateParts,function(a){return a!=null}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n}return t._isValid}function Zs(t){var e=Er(NaN);return t!=null?Xr(ke(e),t):ke(e).userInvalidated=!0,e}var fy=oe.momentProperties=[],$f=!1;function sh(t,e){var r,n,a,i=fy.length;if(Nt(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Nt(e._i)||(t._i=e._i),Nt(e._f)||(t._f=e._f),Nt(e._l)||(t._l=e._l),Nt(e._strict)||(t._strict=e._strict),Nt(e._tzm)||(t._tzm=e._tzm),Nt(e._isUTC)||(t._isUTC=e._isUTC),Nt(e._offset)||(t._offset=e._offset),Nt(e._pf)||(t._pf=ke(e)),Nt(e._locale)||(t._locale=e._locale),i>0)for(r=0;r<i;r++)n=fy[r],a=e[n],Nt(a)||(t[n]=a);return t}function xi(t){sh(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),$f===!1&&($f=!0,oe.updateOffset(this),$f=!1)}function dr(t){return t instanceof xi||t!=null&&t._isAMomentObject!=null}function u_(t){oe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Jt(t,e){var r=!0;return Xr(function(){if(oe.deprecationHandler!=null&&oe.deprecationHandler(null,t),r){var n=[],a,i,s,o=arguments.length;for(i=0;i<o;i++){if(a="",typeof arguments[i]=="object"){a+=`
[`+i+"] ";for(s in arguments[0])Fe(arguments[0],s)&&(a+=s+": "+arguments[0][s]+", ");a=a.slice(0,-2)}else a=arguments[i];n.push(a)}u_(t+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var dy={};function l_(t,e){oe.deprecationHandler!=null&&oe.deprecationHandler(t,e),dy[t]||(u_(e),dy[t]=!0)}oe.suppressDeprecationWarnings=!1;oe.deprecationHandler=null;function Tr(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function pO(t){var e,r;for(r in t)Fe(t,r)&&(e=t[r],Tr(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function cd(t,e){var r=Xr({},t),n;for(n in e)Fe(e,n)&&(bn(t[n])&&bn(e[n])?(r[n]={},Xr(r[n],t[n]),Xr(r[n],e[n])):e[n]!=null?r[n]=e[n]:delete r[n]);for(n in t)Fe(t,n)&&!Fe(e,n)&&bn(t[n])&&(r[n]=Xr({},r[n]));return r}function oh(t){t!=null&&this.set(t)}var fd;Object.keys?fd=Object.keys:fd=function(t){var e,r=[];for(e in t)Fe(t,e)&&r.push(e);return r};var gO={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function mO(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return Tr(n)?n.call(e,r):n}function _r(t,e,r){var n=""+Math.abs(t),a=e-n.length,i=t>=0;return(i?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var uh=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Vi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wf={},Xn={};function me(t,e,r,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),t&&(Xn[t]=a),e&&(Xn[e[0]]=function(){return _r(a.apply(this,arguments),e[1],e[2])}),r&&(Xn[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function yO(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function bO(t){var e=t.match(uh),r,n;for(r=0,n=e.length;r<n;r++)Xn[e[r]]?e[r]=Xn[e[r]]:e[r]=yO(e[r]);return function(a){var i="",s;for(s=0;s<n;s++)i+=Tr(e[s])?e[s].call(a,t):e[s];return i}}function Qi(t,e){return t.isValid()?(e=c_(e,t.localeData()),Wf[e]=Wf[e]||bO(e),Wf[e](t)):t.localeData().invalidDate()}function c_(t,e){var r=5;function n(a){return e.longDateFormat(a)||a}for(Vi.lastIndex=0;r>=0&&Vi.test(t);)t=t.replace(Vi,n),Vi.lastIndex=0,r-=1;return t}var _O={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function wO(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(uh).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var SO="Invalid date";function xO(){return this._invalidDate}var EO="%d",TO=/\d{1,2}/;function CO(t){return this._ordinal.replace("%d",t)}var kO={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function DO(t,e,r,n){var a=this._relativeTime[r];return Tr(a)?a(t,e,r,n):a.replace(/%d/i,t)}function MO(t,e){var r=this._relativeTime[t>0?"future":"past"];return Tr(r)?r(e):r.replace(/%s/i,e)}var $a={};function Mt(t,e){var r=t.toLowerCase();$a[r]=$a[r+"s"]=$a[e]=t}function er(t){return typeof t=="string"?$a[t]||$a[t.toLowerCase()]:void 0}function lh(t){var e={},r,n;for(n in t)Fe(t,n)&&(r=er(n),r&&(e[r]=t[n]));return e}var f_={};function Rt(t,e){f_[t]=e}function RO(t){var e=[],r;for(r in t)Fe(t,r)&&e.push({unit:r,priority:f_[r]});return e.sort(function(n,a){return n.priority-a.priority}),e}function Ks(t){return t%4===0&&t%100!==0||t%400===0}function Kt(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Oe(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=Kt(e)),r}function xa(t,e){return function(r){return r!=null?(d_(this,t,r),oe.updateOffset(this,e),this):ds(this,t)}}function ds(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function d_(t,e,r){t.isValid()&&!isNaN(r)&&(e==="FullYear"&&Ks(t.year())&&t.month()===1&&t.date()===29?(r=Oe(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),ro(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}function PO(t){return t=er(t),Tr(this[t])?this[t]():this}function OO(t,e){if(typeof t=="object"){t=lh(t);var r=RO(t),n,a=r.length;for(n=0;n<a;n++)this[r[n].unit](t[r[n].unit])}else if(t=er(t),Tr(this[t]))return this[t](e);return this}var h_=/\d/,Ut=/\d\d/,v_=/\d{3}/,ch=/\d{4}/,Xs=/[+-]?\d{6}/,Qe=/\d\d?/,p_=/\d\d\d\d?/,g_=/\d\d\d\d\d\d?/,Qs=/\d{1,3}/,fh=/\d{1,4}/,Js=/[+-]?\d{1,6}/,Ea=/\d+/,eo=/[+-]?\d+/,LO=/Z|[+-]\d\d:?\d\d/gi,to=/Z|[+-]\d\d(?::?\d\d)?/gi,AO=/[+-]?\d+(\.\d{1,3})?/,Ei=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,hs;hs={};function ce(t,e,r){hs[t]=Tr(e)?e:function(n,a){return n&&r?r:e}}function IO(t,e){return Fe(hs,t)?hs[t](e._strict,e._locale):new RegExp(BO(t))}function BO(t){return Vt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,n,a,i){return r||n||a||i}))}function Vt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dd={};function Ue(t,e){var r,n=e,a;for(typeof t=="string"&&(t=[t]),qr(e)&&(n=function(i,s){s[e]=Oe(i)}),a=t.length,r=0;r<a;r++)dd[t[r]]=n}function Ti(t,e){Ue(t,function(r,n,a,i){a._w=a._w||{},e(r,a._w,a,i)})}function NO(t,e,r){e!=null&&Fe(dd,t)&&dd[t](e,r._a,r,t)}var Tt=0,Or=1,gr=2,dt=3,ur=4,Lr=5,yn=6,qO=7,FO=8;function zO(t,e){return(t%e+e)%e}var st;Array.prototype.indexOf?st=Array.prototype.indexOf:st=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function ro(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=zO(e,12);return t+=(e-r)/12,r===1?Ks(t)?29:28:31-r%7%2}me("M",["MM",2],"Mo",function(){return this.month()+1});me("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});me("MMMM",0,0,function(t){return this.localeData().months(this,t)});Mt("month","M");Rt("month",8);ce("M",Qe);ce("MM",Qe,Ut);ce("MMM",function(t,e){return e.monthsShortRegex(t)});ce("MMMM",function(t,e){return e.monthsRegex(t)});Ue(["M","MM"],function(t,e){e[Or]=Oe(t)-1});Ue(["MMM","MMMM"],function(t,e,r,n){var a=r._locale.monthsParse(t,n,r._strict);a!=null?e[Or]=a:ke(r).invalidMonth=t});var VO="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),m_="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),y_=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,HO=Ei,YO=Ei;function $O(t,e){return t?fr(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||y_).test(e)?"format":"standalone"][t.month()]:fr(this._months)?this._months:this._months.standalone}function WO(t,e){return t?fr(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[y_.test(e)?"format":"standalone"][t.month()]:fr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function UO(t,e,r){var n,a,i,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=Er([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?e==="MMM"?(a=st.call(this._shortMonthsParse,s),a!==-1?a:null):(a=st.call(this._longMonthsParse,s),a!==-1?a:null):e==="MMM"?(a=st.call(this._shortMonthsParse,s),a!==-1?a:(a=st.call(this._longMonthsParse,s),a!==-1?a:null)):(a=st.call(this._longMonthsParse,s),a!==-1?a:(a=st.call(this._shortMonthsParse,s),a!==-1?a:null))}function GO(t,e,r){var n,a,i;if(this._monthsParseExact)return UO.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=Er([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(r&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function b_(t,e){var r;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Oe(e);else if(e=t.localeData().monthsParse(e),!qr(e))return t}return r=Math.min(t.date(),ro(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function __(t){return t!=null?(b_(this,t),oe.updateOffset(this,!0),this):ds(this,"Month")}function jO(){return ro(this.year(),this.month())}function ZO(t){return this._monthsParseExact?(Fe(this,"_monthsRegex")||w_.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Fe(this,"_monthsShortRegex")||(this._monthsShortRegex=HO),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function KO(t){return this._monthsParseExact?(Fe(this,"_monthsRegex")||w_.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Fe(this,"_monthsRegex")||(this._monthsRegex=YO),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function w_(){function t(s,o){return o.length-s.length}var e=[],r=[],n=[],a,i;for(a=0;a<12;a++)i=Er([2e3,a]),e.push(this.monthsShort(i,"")),r.push(this.months(i,"")),n.push(this.months(i,"")),n.push(this.monthsShort(i,""));for(e.sort(t),r.sort(t),n.sort(t),a=0;a<12;a++)e[a]=Vt(e[a]),r[a]=Vt(r[a]);for(a=0;a<24;a++)n[a]=Vt(n[a]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}me("Y",0,0,function(){var t=this.year();return t<=9999?_r(t,4):"+"+t});me(0,["YY",2],0,function(){return this.year()%100});me(0,["YYYY",4],0,"year");me(0,["YYYYY",5],0,"year");me(0,["YYYYYY",6,!0],0,"year");Mt("year","y");Rt("year",1);ce("Y",eo);ce("YY",Qe,Ut);ce("YYYY",fh,ch);ce("YYYYY",Js,Xs);ce("YYYYYY",Js,Xs);Ue(["YYYYY","YYYYYY"],Tt);Ue("YYYY",function(t,e){e[Tt]=t.length===2?oe.parseTwoDigitYear(t):Oe(t)});Ue("YY",function(t,e){e[Tt]=oe.parseTwoDigitYear(t)});Ue("Y",function(t,e){e[Tt]=parseInt(t,10)});function Wa(t){return Ks(t)?366:365}oe.parseTwoDigitYear=function(t){return Oe(t)+(Oe(t)>68?1900:2e3)};var S_=xa("FullYear",!0);function XO(){return Ks(this.year())}function QO(t,e,r,n,a,i,s){var o;return t<100&&t>=0?(o=new Date(t+400,e,r,n,a,i,s),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,r,n,a,i,s),o}function ri(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function vs(t,e,r){var n=7+e-r,a=(7+ri(t,0,n).getUTCDay()-e)%7;return-a+n-1}function x_(t,e,r,n,a){var i=(7+r-n)%7,s=vs(t,n,a),o=1+7*(e-1)+i+s,u,l;return o<=0?(u=t-1,l=Wa(u)+o):o>Wa(t)?(u=t+1,l=o-Wa(t)):(u=t,l=o),{year:u,dayOfYear:l}}function ni(t,e,r){var n=vs(t.year(),e,r),a=Math.floor((t.dayOfYear()-n-1)/7)+1,i,s;return a<1?(s=t.year()-1,i=a+Ar(s,e,r)):a>Ar(t.year(),e,r)?(i=a-Ar(t.year(),e,r),s=t.year()+1):(s=t.year(),i=a),{week:i,year:s}}function Ar(t,e,r){var n=vs(t,e,r),a=vs(t+1,e,r);return(Wa(t)-n+a)/7}me("w",["ww",2],"wo","week");me("W",["WW",2],"Wo","isoWeek");Mt("week","w");Mt("isoWeek","W");Rt("week",5);Rt("isoWeek",5);ce("w",Qe);ce("ww",Qe,Ut);ce("W",Qe);ce("WW",Qe,Ut);Ti(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=Oe(t)});function JO(t){return ni(t,this._week.dow,this._week.doy).week}var eL={dow:0,doy:6};function tL(){return this._week.dow}function rL(){return this._week.doy}function nL(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function aL(t){var e=ni(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}me("d",0,"do","day");me("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});me("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});me("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});me("e",0,0,"weekday");me("E",0,0,"isoWeekday");Mt("day","d");Mt("weekday","e");Mt("isoWeekday","E");Rt("day",11);Rt("weekday",11);Rt("isoWeekday",11);ce("d",Qe);ce("e",Qe);ce("E",Qe);ce("dd",function(t,e){return e.weekdaysMinRegex(t)});ce("ddd",function(t,e){return e.weekdaysShortRegex(t)});ce("dddd",function(t,e){return e.weekdaysRegex(t)});Ti(["dd","ddd","dddd"],function(t,e,r,n){var a=r._locale.weekdaysParse(t,n,r._strict);a!=null?e.d=a:ke(r).invalidWeekday=t});Ti(["d","e","E"],function(t,e,r,n){e[n]=Oe(t)});function iL(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function sL(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function dh(t,e){return t.slice(e,7).concat(t.slice(0,e))}var oL="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),E_="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),uL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),lL=Ei,cL=Ei,fL=Ei;function dL(t,e){var r=fr(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?dh(r,this._week.dow):t?r[t.day()]:r}function hL(t){return t===!0?dh(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function vL(t){return t===!0?dh(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function pL(t,e,r){var n,a,i,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=Er([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?e==="dddd"?(a=st.call(this._weekdaysParse,s),a!==-1?a:null):e==="ddd"?(a=st.call(this._shortWeekdaysParse,s),a!==-1?a:null):(a=st.call(this._minWeekdaysParse,s),a!==-1?a:null):e==="dddd"?(a=st.call(this._weekdaysParse,s),a!==-1||(a=st.call(this._shortWeekdaysParse,s),a!==-1)?a:(a=st.call(this._minWeekdaysParse,s),a!==-1?a:null)):e==="ddd"?(a=st.call(this._shortWeekdaysParse,s),a!==-1||(a=st.call(this._weekdaysParse,s),a!==-1)?a:(a=st.call(this._minWeekdaysParse,s),a!==-1?a:null)):(a=st.call(this._minWeekdaysParse,s),a!==-1||(a=st.call(this._weekdaysParse,s),a!==-1)?a:(a=st.call(this._shortWeekdaysParse,s),a!==-1?a:null))}function gL(t,e,r){var n,a,i;if(this._weekdaysParseExact)return pL.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=Er([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(r&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(r&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function mL(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=iL(t,this.localeData()),this.add(t-e,"d")):e}function yL(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function bL(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=sL(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function _L(t){return this._weekdaysParseExact?(Fe(this,"_weekdaysRegex")||hh.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Fe(this,"_weekdaysRegex")||(this._weekdaysRegex=lL),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function wL(t){return this._weekdaysParseExact?(Fe(this,"_weekdaysRegex")||hh.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Fe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=cL),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function SL(t){return this._weekdaysParseExact?(Fe(this,"_weekdaysRegex")||hh.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Fe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=fL),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function hh(){function t(c,f){return f.length-c.length}var e=[],r=[],n=[],a=[],i,s,o,u,l;for(i=0;i<7;i++)s=Er([2e3,1]).day(i),o=Vt(this.weekdaysMin(s,"")),u=Vt(this.weekdaysShort(s,"")),l=Vt(this.weekdays(s,"")),e.push(o),r.push(u),n.push(l),a.push(o),a.push(u),a.push(l);e.sort(t),r.sort(t),n.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function vh(){return this.hours()%12||12}function xL(){return this.hours()||24}me("H",["HH",2],0,"hour");me("h",["hh",2],0,vh);me("k",["kk",2],0,xL);me("hmm",0,0,function(){return""+vh.apply(this)+_r(this.minutes(),2)});me("hmmss",0,0,function(){return""+vh.apply(this)+_r(this.minutes(),2)+_r(this.seconds(),2)});me("Hmm",0,0,function(){return""+this.hours()+_r(this.minutes(),2)});me("Hmmss",0,0,function(){return""+this.hours()+_r(this.minutes(),2)+_r(this.seconds(),2)});function T_(t,e){me(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}T_("a",!0);T_("A",!1);Mt("hour","h");Rt("hour",13);function C_(t,e){return e._meridiemParse}ce("a",C_);ce("A",C_);ce("H",Qe);ce("h",Qe);ce("k",Qe);ce("HH",Qe,Ut);ce("hh",Qe,Ut);ce("kk",Qe,Ut);ce("hmm",p_);ce("hmmss",g_);ce("Hmm",p_);ce("Hmmss",g_);Ue(["H","HH"],dt);Ue(["k","kk"],function(t,e,r){var n=Oe(t);e[dt]=n===24?0:n});Ue(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});Ue(["h","hh"],function(t,e,r){e[dt]=Oe(t),ke(r).bigHour=!0});Ue("hmm",function(t,e,r){var n=t.length-2;e[dt]=Oe(t.substr(0,n)),e[ur]=Oe(t.substr(n)),ke(r).bigHour=!0});Ue("hmmss",function(t,e,r){var n=t.length-4,a=t.length-2;e[dt]=Oe(t.substr(0,n)),e[ur]=Oe(t.substr(n,2)),e[Lr]=Oe(t.substr(a)),ke(r).bigHour=!0});Ue("Hmm",function(t,e,r){var n=t.length-2;e[dt]=Oe(t.substr(0,n)),e[ur]=Oe(t.substr(n))});Ue("Hmmss",function(t,e,r){var n=t.length-4,a=t.length-2;e[dt]=Oe(t.substr(0,n)),e[ur]=Oe(t.substr(n,2)),e[Lr]=Oe(t.substr(a))});function EL(t){return(t+"").toLowerCase().charAt(0)==="p"}var TL=/[ap]\.?m?\.?/i,CL=xa("Hours",!0);function kL(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var k_={calendar:gO,longDateFormat:_O,invalidDate:SO,ordinal:EO,dayOfMonthOrdinalParse:TO,relativeTime:kO,months:VO,monthsShort:m_,week:eL,weekdays:oL,weekdaysMin:uL,weekdaysShort:E_,meridiemParse:TL},Je={},Oa={},ai;function DL(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function hy(t){return t&&t.toLowerCase().replace("_","-")}function ML(t){for(var e=0,r,n,a,i;e<t.length;){for(i=hy(t[e]).split("-"),r=i.length,n=hy(t[e+1]),n=n?n.split("-"):null;r>0;){if(a=no(i.slice(0,r).join("-")),a)return a;if(n&&n.length>=r&&DL(i,n)>=r-1)break;r--}e++}return ai}function RL(t){return t.match("^[^/\\\\]*$")!=null}function no(t){var e=null,r;if(Je[t]===void 0&&typeof module<"u"&&module&&module.exports&&RL(t))try{e=ai._abbr,r=require,r("./locale/"+t),tn(e)}catch{Je[t]=null}return Je[t]}function tn(t,e){var r;return t&&(Nt(e)?r=Yr(t):r=ph(t,e),r?ai=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ai._abbr}function ph(t,e){if(e!==null){var r,n=k_;if(e.abbr=t,Je[t]!=null)l_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Je[t]._config;else if(e.parentLocale!=null)if(Je[e.parentLocale]!=null)n=Je[e.parentLocale]._config;else if(r=no(e.parentLocale),r!=null)n=r._config;else return Oa[e.parentLocale]||(Oa[e.parentLocale]=[]),Oa[e.parentLocale].push({name:t,config:e}),null;return Je[t]=new oh(cd(n,e)),Oa[t]&&Oa[t].forEach(function(a){ph(a.name,a.config)}),tn(t),Je[t]}else return delete Je[t],null}function PL(t,e){if(e!=null){var r,n,a=k_;Je[t]!=null&&Je[t].parentLocale!=null?Je[t].set(cd(Je[t]._config,e)):(n=no(t),n!=null&&(a=n._config),e=cd(a,e),n==null&&(e.abbr=t),r=new oh(e),r.parentLocale=Je[t],Je[t]=r),tn(t)}else Je[t]!=null&&(Je[t].parentLocale!=null?(Je[t]=Je[t].parentLocale,t===tn()&&tn(t)):Je[t]!=null&&delete Je[t]);return Je[t]}function Yr(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ai;if(!fr(t)){if(e=no(t),e)return e;t=[t]}return ML(t)}function OL(){return fd(Je)}function gh(t){var e,r=t._a;return r&&ke(t).overflow===-2&&(e=r[Or]<0||r[Or]>11?Or:r[gr]<1||r[gr]>ro(r[Tt],r[Or])?gr:r[dt]<0||r[dt]>24||r[dt]===24&&(r[ur]!==0||r[Lr]!==0||r[yn]!==0)?dt:r[ur]<0||r[ur]>59?ur:r[Lr]<0||r[Lr]>59?Lr:r[yn]<0||r[yn]>999?yn:-1,ke(t)._overflowDayOfYear&&(e<Tt||e>gr)&&(e=gr),ke(t)._overflowWeeks&&e===-1&&(e=qO),ke(t)._overflowWeekday&&e===-1&&(e=FO),ke(t).overflow=e),t}var LL=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,AL=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,IL=/Z|[+-]\d\d(?::?\d\d)?/,Hi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Uf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],BL=/^\/?Date\((-?\d+)/i,NL=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,qL={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function D_(t){var e,r,n=t._i,a=LL.exec(n)||AL.exec(n),i,s,o,u,l=Hi.length,c=Uf.length;if(a){for(ke(t).iso=!0,e=0,r=l;e<r;e++)if(Hi[e][1].exec(a[1])){s=Hi[e][0],i=Hi[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(a[3]){for(e=0,r=c;e<r;e++)if(Uf[e][1].exec(a[3])){o=(a[2]||" ")+Uf[e][0];break}if(o==null){t._isValid=!1;return}}if(!i&&o!=null){t._isValid=!1;return}if(a[4])if(IL.exec(a[4]))u="Z";else{t._isValid=!1;return}t._f=s+(o||"")+(u||""),yh(t)}else t._isValid=!1}function FL(t,e,r,n,a,i){var s=[zL(t),m_.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(a,10)];return i&&s.push(parseInt(i,10)),s}function zL(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function VL(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function HL(t,e,r){if(t){var n=E_.indexOf(t),a=new Date(e[0],e[1],e[2]).getDay();if(n!==a)return ke(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function YL(t,e,r){if(t)return qL[t];if(e)return 0;var n=parseInt(r,10),a=n%100,i=(n-a)/100;return i*60+a}function M_(t){var e=NL.exec(VL(t._i)),r;if(e){if(r=FL(e[4],e[3],e[2],e[5],e[6],e[7]),!HL(e[1],r,t))return;t._a=r,t._tzm=YL(e[8],e[9],e[10]),t._d=ri.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ke(t).rfc2822=!0}else t._isValid=!1}function $L(t){var e=BL.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(D_(t),t._isValid===!1)delete t._isValid;else return;if(M_(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:oe.createFromInputFallback(t)}oe.createFromInputFallback=Jt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Hn(t,e,r){return t??e??r}function WL(t){var e=new Date(oe.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function mh(t){var e,r,n=[],a,i,s;if(!t._d){for(a=WL(t),t._w&&t._a[gr]==null&&t._a[Or]==null&&UL(t),t._dayOfYear!=null&&(s=Hn(t._a[Tt],a[Tt]),(t._dayOfYear>Wa(s)||t._dayOfYear===0)&&(ke(t)._overflowDayOfYear=!0),r=ri(s,0,t._dayOfYear),t._a[Or]=r.getUTCMonth(),t._a[gr]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=a[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[dt]===24&&t._a[ur]===0&&t._a[Lr]===0&&t._a[yn]===0&&(t._nextDay=!0,t._a[dt]=0),t._d=(t._useUTC?ri:QO).apply(null,n),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[dt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(ke(t).weekdayMismatch=!0)}}function UL(t){var e,r,n,a,i,s,o,u,l;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,s=4,r=Hn(e.GG,t._a[Tt],ni(Xe(),1,4).year),n=Hn(e.W,1),a=Hn(e.E,1),(a<1||a>7)&&(u=!0)):(i=t._locale._week.dow,s=t._locale._week.doy,l=ni(Xe(),i,s),r=Hn(e.gg,t._a[Tt],l.year),n=Hn(e.w,l.week),e.d!=null?(a=e.d,(a<0||a>6)&&(u=!0)):e.e!=null?(a=e.e+i,(e.e<0||e.e>6)&&(u=!0)):a=i),n<1||n>Ar(r,i,s)?ke(t)._overflowWeeks=!0:u!=null?ke(t)._overflowWeekday=!0:(o=x_(r,n,a,i,s),t._a[Tt]=o.year,t._dayOfYear=o.dayOfYear)}oe.ISO_8601=function(){};oe.RFC_2822=function(){};function yh(t){if(t._f===oe.ISO_8601){D_(t);return}if(t._f===oe.RFC_2822){M_(t);return}t._a=[],ke(t).empty=!0;var e=""+t._i,r,n,a,i,s,o=e.length,u=0,l,c;for(a=c_(t._f,t._locale).match(uh)||[],c=a.length,r=0;r<c;r++)i=a[r],n=(e.match(IO(i,t))||[])[0],n&&(s=e.substr(0,e.indexOf(n)),s.length>0&&ke(t).unusedInput.push(s),e=e.slice(e.indexOf(n)+n.length),u+=n.length),Xn[i]?(n?ke(t).empty=!1:ke(t).unusedTokens.push(i),NO(i,n,t)):t._strict&&!n&&ke(t).unusedTokens.push(i);ke(t).charsLeftOver=o-u,e.length>0&&ke(t).unusedInput.push(e),t._a[dt]<=12&&ke(t).bigHour===!0&&t._a[dt]>0&&(ke(t).bigHour=void 0),ke(t).parsedDateParts=t._a.slice(0),ke(t).meridiem=t._meridiem,t._a[dt]=GL(t._locale,t._a[dt],t._meridiem),l=ke(t).era,l!==null&&(t._a[Tt]=t._locale.erasConvertYear(l,t._a[Tt])),mh(t),gh(t)}function GL(t,e,r){var n;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(n=t.isPM(r),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function jL(t){var e,r,n,a,i,s,o=!1,u=t._f.length;if(u===0){ke(t).invalidFormat=!0,t._d=new Date(NaN);return}for(a=0;a<u;a++)i=0,s=!1,e=sh({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[a],yh(e),ih(e)&&(s=!0),i+=ke(e).charsLeftOver,i+=ke(e).unusedTokens.length*10,ke(e).score=i,o?i<n&&(n=i,r=e):(n==null||i<n||s)&&(n=i,r=e,s&&(o=!0));Xr(t,r||e)}function ZL(t){if(!t._d){var e=lh(t._i),r=e.day===void 0?e.date:e.day;t._a=o_([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),mh(t)}}function KL(t){var e=new xi(gh(R_(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function R_(t){var e=t._i,r=t._f;return t._locale=t._locale||Yr(t._l),e===null||r===void 0&&e===""?Zs({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),dr(e)?new xi(gh(e)):(Si(e)?t._d=e:fr(r)?jL(t):r?yh(t):XL(t),ih(t)||(t._d=null),t))}function XL(t){var e=t._i;Nt(e)?t._d=new Date(oe.now()):Si(e)?t._d=new Date(e.valueOf()):typeof e=="string"?$L(t):fr(e)?(t._a=o_(e.slice(0),function(r){return parseInt(r,10)}),mh(t)):bn(e)?ZL(t):qr(e)?t._d=new Date(e):oe.createFromInputFallback(t)}function P_(t,e,r,n,a){var i={};return(e===!0||e===!1)&&(n=e,e=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(bn(t)&&ah(t)||fr(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=r,i._i=t,i._f=e,i._strict=n,KL(i)}function Xe(t,e,r,n){return P_(t,e,r,n,!1)}var QL=Jt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Xe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Zs()}),JL=Jt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Xe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Zs()});function O_(t,e){var r,n;if(e.length===1&&fr(e[0])&&(e=e[0]),!e.length)return Xe();for(r=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](r))&&(r=e[n]);return r}function eA(){var t=[].slice.call(arguments,0);return O_("isBefore",t)}function tA(){var t=[].slice.call(arguments,0);return O_("isAfter",t)}var rA=function(){return Date.now?Date.now():+new Date},La=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nA(t){var e,r=!1,n,a=La.length;for(e in t)if(Fe(t,e)&&!(st.call(La,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<a;++n)if(t[La[n]]){if(r)return!1;parseFloat(t[La[n]])!==Oe(t[La[n]])&&(r=!0)}return!0}function aA(){return this._isValid}function iA(){return vr(NaN)}function ao(t){var e=lh(t),r=e.year||0,n=e.quarter||0,a=e.month||0,i=e.week||e.isoWeek||0,s=e.day||0,o=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=nA(e),this._milliseconds=+c+l*1e3+u*6e4+o*1e3*60*60,this._days=+s+i*7,this._months=+a+n*3+r*12,this._data={},this._locale=Yr(),this._bubble()}function Ji(t){return t instanceof ao}function hd(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function sA(t,e,r){var n=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),i=0,s;for(s=0;s<n;s++)(r&&t[s]!==e[s]||!r&&Oe(t[s])!==Oe(e[s]))&&i++;return i+a}function L_(t,e){me(t,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+_r(~~(r/60),2)+e+_r(~~r%60,2)})}L_("Z",":");L_("ZZ","");ce("Z",to);ce("ZZ",to);Ue(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=bh(to,t)});var oA=/([\+\-]|\d\d)/gi;function bh(t,e){var r=(e||"").match(t),n,a,i;return r===null?null:(n=r[r.length-1]||[],a=(n+"").match(oA)||["-",0,0],i=+(a[1]*60)+Oe(a[2]),i===0?0:a[0]==="+"?i:-i)}function _h(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(dr(t)||Si(t)?t.valueOf():Xe(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),oe.updateOffset(r,!1),r):Xe(t).local()}function vd(t){return-Math.round(t._d.getTimezoneOffset())}oe.updateOffset=function(){};function uA(t,e,r){var n=this._offset||0,a;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=bh(to,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(a=vd(this)),this._offset=t,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==t&&(!e||this._changeInProgress?B_(this,vr(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,oe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:vd(this)}function lA(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function cA(t){return this.utcOffset(0,t)}function fA(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(vd(this),"m")),this}function dA(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=bh(LO,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function hA(t){return this.isValid()?(t=t?Xe(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function vA(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function pA(){if(!Nt(this._isDSTShifted))return this._isDSTShifted;var t={},e;return sh(t,this),t=R_(t),t._a?(e=t._isUTC?Er(t._a):Xe(t._a),this._isDSTShifted=this.isValid()&&sA(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function gA(){return this.isValid()?!this._isUTC:!1}function mA(){return this.isValid()?this._isUTC:!1}function A_(){return this.isValid()?this._isUTC&&this._offset===0:!1}var yA=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,bA=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function vr(t,e){var r=t,n=null,a,i,s;return Ji(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:qr(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=yA.exec(t))?(a=n[1]==="-"?-1:1,r={y:0,d:Oe(n[gr])*a,h:Oe(n[dt])*a,m:Oe(n[ur])*a,s:Oe(n[Lr])*a,ms:Oe(hd(n[yn]*1e3))*a}):(n=bA.exec(t))?(a=n[1]==="-"?-1:1,r={y:hn(n[2],a),M:hn(n[3],a),w:hn(n[4],a),d:hn(n[5],a),h:hn(n[6],a),m:hn(n[7],a),s:hn(n[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(s=_A(Xe(r.from),Xe(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),i=new ao(r),Ji(t)&&Fe(t,"_locale")&&(i._locale=t._locale),Ji(t)&&Fe(t,"_isValid")&&(i._isValid=t._isValid),i}vr.fn=ao.prototype;vr.invalid=iA;function hn(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function vy(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function _A(t,e){var r;return t.isValid()&&e.isValid()?(e=_h(e,t),t.isBefore(e)?r=vy(t,e):(r=vy(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function I_(t,e){return function(r,n){var a,i;return n!==null&&!isNaN(+n)&&(l_(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),a=vr(r,n),B_(this,a,t),this}}function B_(t,e,r,n){var a=e._milliseconds,i=hd(e._days),s=hd(e._months);t.isValid()&&(n=n??!0,s&&b_(t,ds(t,"Month")+s*r),i&&d_(t,"Date",ds(t,"Date")+i*r),a&&t._d.setTime(t._d.valueOf()+a*r),n&&oe.updateOffset(t,i||s))}var wA=I_(1,"add"),SA=I_(-1,"subtract");function N_(t){return typeof t=="string"||t instanceof String}function xA(t){return dr(t)||Si(t)||N_(t)||qr(t)||TA(t)||EA(t)||t===null||t===void 0}function EA(t){var e=bn(t)&&!ah(t),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,i,s=n.length;for(a=0;a<s;a+=1)i=n[a],r=r||Fe(t,i);return e&&r}function TA(t){var e=fr(t),r=!1;return e&&(r=t.filter(function(n){return!qr(n)&&N_(t)}).length===0),e&&r}function CA(t){var e=bn(t)&&!ah(t),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,i;for(a=0;a<n.length;a+=1)i=n[a],r=r||Fe(t,i);return e&&r}function kA(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function DA(t,e){arguments.length===1&&(arguments[0]?xA(arguments[0])?(t=arguments[0],e=void 0):CA(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||Xe(),n=_h(r,this).startOf("day"),a=oe.calendarFormat(this,n)||"sameElse",i=e&&(Tr(e[a])?e[a].call(this,r):e[a]);return this.format(i||this.localeData().calendar(a,this,Xe(r)))}function MA(){return new xi(this)}function RA(t,e){var r=dr(t)?t:Xe(t);return this.isValid()&&r.isValid()?(e=er(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function PA(t,e){var r=dr(t)?t:Xe(t);return this.isValid()&&r.isValid()?(e=er(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function OA(t,e,r,n){var a=dr(t)?t:Xe(t),i=dr(e)?e:Xe(e);return this.isValid()&&a.isValid()&&i.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(n[1]===")"?this.isBefore(i,r):!this.isAfter(i,r))):!1}function LA(t,e){var r=dr(t)?t:Xe(t),n;return this.isValid()&&r.isValid()?(e=er(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function AA(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function IA(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function BA(t,e,r){var n,a,i;if(!this.isValid())return NaN;if(n=_h(t,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,e=er(e),e){case"year":i=es(this,n)/12;break;case"month":i=es(this,n);break;case"quarter":i=es(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-a)/864e5;break;case"week":i=(this-n-a)/6048e5;break;default:i=this-n}return r?i:Kt(i)}function es(t,e){if(t.date()<e.date())return-es(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(r,"months"),a,i;return e-n<0?(a=t.clone().add(r-1,"months"),i=(e-n)/(n-a)):(a=t.clone().add(r+1,"months"),i=(e-n)/(a-n)),-(r+i)||0}oe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";oe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function NA(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function qA(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?Qi(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Tr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Qi(r,"Z")):Qi(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function FA(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,n,a,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(r+n+a+i)}function zA(t){t||(t=this.isUtc()?oe.defaultFormatUtc:oe.defaultFormat);var e=Qi(this,t);return this.localeData().postformat(e)}function VA(t,e){return this.isValid()&&(dr(t)&&t.isValid()||Xe(t).isValid())?vr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function HA(t){return this.from(Xe(),t)}function YA(t,e){return this.isValid()&&(dr(t)&&t.isValid()||Xe(t).isValid())?vr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function $A(t){return this.to(Xe(),t)}function q_(t){var e;return t===void 0?this._locale._abbr:(e=Yr(t),e!=null&&(this._locale=e),this)}var F_=Jt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function z_(){return this._locale}var ps=1e3,Qn=60*ps,gs=60*Qn,V_=(365*400+97)*24*gs;function Jn(t,e){return(t%e+e)%e}function H_(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-V_:new Date(t,e,r).valueOf()}function Y_(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-V_:Date.UTC(t,e,r)}function WA(t){var e,r;if(t=er(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Y_:H_,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Jn(e+(this._isUTC?0:this.utcOffset()*Qn),gs);break;case"minute":e=this._d.valueOf(),e-=Jn(e,Qn);break;case"second":e=this._d.valueOf(),e-=Jn(e,ps);break}return this._d.setTime(e),oe.updateOffset(this,!0),this}function UA(t){var e,r;if(t=er(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Y_:H_,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=gs-Jn(e+(this._isUTC?0:this.utcOffset()*Qn),gs)-1;break;case"minute":e=this._d.valueOf(),e+=Qn-Jn(e,Qn)-1;break;case"second":e=this._d.valueOf(),e+=ps-Jn(e,ps)-1;break}return this._d.setTime(e),oe.updateOffset(this,!0),this}function GA(){return this._d.valueOf()-(this._offset||0)*6e4}function jA(){return Math.floor(this.valueOf()/1e3)}function ZA(){return new Date(this.valueOf())}function KA(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function XA(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function QA(){return this.isValid()?this.toISOString():null}function JA(){return ih(this)}function eI(){return Xr({},ke(this))}function tI(){return ke(this).overflow}function rI(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}me("N",0,0,"eraAbbr");me("NN",0,0,"eraAbbr");me("NNN",0,0,"eraAbbr");me("NNNN",0,0,"eraName");me("NNNNN",0,0,"eraNarrow");me("y",["y",1],"yo","eraYear");me("y",["yy",2],0,"eraYear");me("y",["yyy",3],0,"eraYear");me("y",["yyyy",4],0,"eraYear");ce("N",wh);ce("NN",wh);ce("NNN",wh);ce("NNNN",hI);ce("NNNNN",vI);Ue(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var a=r._locale.erasParse(t,n,r._strict);a?ke(r).era=a:ke(r).invalidEra=t});ce("y",Ea);ce("yy",Ea);ce("yyy",Ea);ce("yyyy",Ea);ce("yo",pI);Ue(["y","yy","yyy","yyyy"],Tt);Ue(["yo"],function(t,e,r,n){var a;r._locale._eraYearOrdinalRegex&&(a=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[Tt]=r._locale.eraYearOrdinalParse(t,a):e[Tt]=parseInt(t,10)});function nI(t,e){var r,n,a,i=this._eras||Yr("en")._eras;for(r=0,n=i.length;r<n;++r){switch(typeof i[r].since){case"string":a=oe(i[r].since).startOf("day"),i[r].since=a.valueOf();break}switch(typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":a=oe(i[r].until).startOf("day").valueOf(),i[r].until=a.valueOf();break}}return i}function aI(t,e,r){var n,a,i=this.eras(),s,o,u;for(t=t.toUpperCase(),n=0,a=i.length;n<a;++n)if(s=i[n].name.toUpperCase(),o=i[n].abbr.toUpperCase(),u=i[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(o===t)return i[n];break;case"NNNN":if(s===t)return i[n];break;case"NNNNN":if(u===t)return i[n];break}else if([s,o,u].indexOf(t)>=0)return i[n]}function iI(t,e){var r=t.since<=t.until?1:-1;return e===void 0?oe(t.since).year():oe(t.since).year()+(e-t.offset)*r}function sI(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].name;return""}function oI(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].narrow;return""}function uI(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].abbr;return""}function lI(){var t,e,r,n,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(r=a[t].since<=a[t].until?1:-1,n=this.clone().startOf("day").valueOf(),a[t].since<=n&&n<=a[t].until||a[t].until<=n&&n<=a[t].since)return(this.year()-oe(a[t].since).year())*r+a[t].offset;return this.year()}function cI(t){return Fe(this,"_erasNameRegex")||Sh.call(this),t?this._erasNameRegex:this._erasRegex}function fI(t){return Fe(this,"_erasAbbrRegex")||Sh.call(this),t?this._erasAbbrRegex:this._erasRegex}function dI(t){return Fe(this,"_erasNarrowRegex")||Sh.call(this),t?this._erasNarrowRegex:this._erasRegex}function wh(t,e){return e.erasAbbrRegex(t)}function hI(t,e){return e.erasNameRegex(t)}function vI(t,e){return e.erasNarrowRegex(t)}function pI(t,e){return e._eraYearOrdinalRegex||Ea}function Sh(){var t=[],e=[],r=[],n=[],a,i,s=this.eras();for(a=0,i=s.length;a<i;++a)e.push(Vt(s[a].name)),t.push(Vt(s[a].abbr)),r.push(Vt(s[a].narrow)),n.push(Vt(s[a].name)),n.push(Vt(s[a].abbr)),n.push(Vt(s[a].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}me(0,["gg",2],0,function(){return this.weekYear()%100});me(0,["GG",2],0,function(){return this.isoWeekYear()%100});function io(t,e){me(0,[t,t.length],0,e)}io("gggg","weekYear");io("ggggg","weekYear");io("GGGG","isoWeekYear");io("GGGGG","isoWeekYear");Mt("weekYear","gg");Mt("isoWeekYear","GG");Rt("weekYear",1);Rt("isoWeekYear",1);ce("G",eo);ce("g",eo);ce("GG",Qe,Ut);ce("gg",Qe,Ut);ce("GGGG",fh,ch);ce("gggg",fh,ch);ce("GGGGG",Js,Xs);ce("ggggg",Js,Xs);Ti(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=Oe(t)});Ti(["gg","GG"],function(t,e,r,n){e[n]=oe.parseTwoDigitYear(t)});function gI(t){return $_.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function mI(t){return $_.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function yI(){return Ar(this.year(),1,4)}function bI(){return Ar(this.isoWeekYear(),1,4)}function _I(){var t=this.localeData()._week;return Ar(this.year(),t.dow,t.doy)}function wI(){var t=this.localeData()._week;return Ar(this.weekYear(),t.dow,t.doy)}function $_(t,e,r,n,a){var i;return t==null?ni(this,n,a).year:(i=Ar(t,n,a),e>i&&(e=i),SI.call(this,t,e,r,n,a))}function SI(t,e,r,n,a){var i=x_(t,e,r,n,a),s=ri(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}me("Q",0,"Qo","quarter");Mt("quarter","Q");Rt("quarter",7);ce("Q",h_);Ue("Q",function(t,e){e[Or]=(Oe(t)-1)*3});function xI(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}me("D",["DD",2],"Do","date");Mt("date","D");Rt("date",9);ce("D",Qe);ce("DD",Qe,Ut);ce("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Ue(["D","DD"],gr);Ue("Do",function(t,e){e[gr]=Oe(t.match(Qe)[0])});var W_=xa("Date",!0);me("DDD",["DDDD",3],"DDDo","dayOfYear");Mt("dayOfYear","DDD");Rt("dayOfYear",4);ce("DDD",Qs);ce("DDDD",v_);Ue(["DDD","DDDD"],function(t,e,r){r._dayOfYear=Oe(t)});function EI(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}me("m",["mm",2],0,"minute");Mt("minute","m");Rt("minute",14);ce("m",Qe);ce("mm",Qe,Ut);Ue(["m","mm"],ur);var TI=xa("Minutes",!1);me("s",["ss",2],0,"second");Mt("second","s");Rt("second",15);ce("s",Qe);ce("ss",Qe,Ut);Ue(["s","ss"],Lr);var CI=xa("Seconds",!1);me("S",0,0,function(){return~~(this.millisecond()/100)});me(0,["SS",2],0,function(){return~~(this.millisecond()/10)});me(0,["SSS",3],0,"millisecond");me(0,["SSSS",4],0,function(){return this.millisecond()*10});me(0,["SSSSS",5],0,function(){return this.millisecond()*100});me(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});me(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});me(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});me(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Mt("millisecond","ms");Rt("millisecond",16);ce("S",Qs,h_);ce("SS",Qs,Ut);ce("SSS",Qs,v_);var Qr,U_;for(Qr="SSSS";Qr.length<=9;Qr+="S")ce(Qr,Ea);function kI(t,e){e[yn]=Oe(("0."+t)*1e3)}for(Qr="S";Qr.length<=9;Qr+="S")Ue(Qr,kI);U_=xa("Milliseconds",!1);me("z",0,0,"zoneAbbr");me("zz",0,0,"zoneName");function DI(){return this._isUTC?"UTC":""}function MI(){return this._isUTC?"Coordinated Universal Time":""}var ae=xi.prototype;ae.add=wA;ae.calendar=DA;ae.clone=MA;ae.diff=BA;ae.endOf=UA;ae.format=zA;ae.from=VA;ae.fromNow=HA;ae.to=YA;ae.toNow=$A;ae.get=PO;ae.invalidAt=tI;ae.isAfter=RA;ae.isBefore=PA;ae.isBetween=OA;ae.isSame=LA;ae.isSameOrAfter=AA;ae.isSameOrBefore=IA;ae.isValid=JA;ae.lang=F_;ae.locale=q_;ae.localeData=z_;ae.max=JL;ae.min=QL;ae.parsingFlags=eI;ae.set=OO;ae.startOf=WA;ae.subtract=SA;ae.toArray=KA;ae.toObject=XA;ae.toDate=ZA;ae.toISOString=qA;ae.inspect=FA;typeof Symbol<"u"&&Symbol.for!=null&&(ae[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ae.toJSON=QA;ae.toString=NA;ae.unix=jA;ae.valueOf=GA;ae.creationData=rI;ae.eraName=sI;ae.eraNarrow=oI;ae.eraAbbr=uI;ae.eraYear=lI;ae.year=S_;ae.isLeapYear=XO;ae.weekYear=gI;ae.isoWeekYear=mI;ae.quarter=ae.quarters=xI;ae.month=__;ae.daysInMonth=jO;ae.week=ae.weeks=nL;ae.isoWeek=ae.isoWeeks=aL;ae.weeksInYear=_I;ae.weeksInWeekYear=wI;ae.isoWeeksInYear=yI;ae.isoWeeksInISOWeekYear=bI;ae.date=W_;ae.day=ae.days=mL;ae.weekday=yL;ae.isoWeekday=bL;ae.dayOfYear=EI;ae.hour=ae.hours=CL;ae.minute=ae.minutes=TI;ae.second=ae.seconds=CI;ae.millisecond=ae.milliseconds=U_;ae.utcOffset=uA;ae.utc=cA;ae.local=fA;ae.parseZone=dA;ae.hasAlignedHourOffset=hA;ae.isDST=vA;ae.isLocal=gA;ae.isUtcOffset=mA;ae.isUtc=A_;ae.isUTC=A_;ae.zoneAbbr=DI;ae.zoneName=MI;ae.dates=Jt("dates accessor is deprecated. Use date instead.",W_);ae.months=Jt("months accessor is deprecated. Use month instead",__);ae.years=Jt("years accessor is deprecated. Use year instead",S_);ae.zone=Jt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",lA);ae.isDSTShifted=Jt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pA);function RI(t){return Xe(t*1e3)}function PI(){return Xe.apply(null,arguments).parseZone()}function G_(t){return t}var ze=oh.prototype;ze.calendar=mO;ze.longDateFormat=wO;ze.invalidDate=xO;ze.ordinal=CO;ze.preparse=G_;ze.postformat=G_;ze.relativeTime=DO;ze.pastFuture=MO;ze.set=pO;ze.eras=nI;ze.erasParse=aI;ze.erasConvertYear=iI;ze.erasAbbrRegex=fI;ze.erasNameRegex=cI;ze.erasNarrowRegex=dI;ze.months=$O;ze.monthsShort=WO;ze.monthsParse=GO;ze.monthsRegex=KO;ze.monthsShortRegex=ZO;ze.week=JO;ze.firstDayOfYear=rL;ze.firstDayOfWeek=tL;ze.weekdays=dL;ze.weekdaysMin=vL;ze.weekdaysShort=hL;ze.weekdaysParse=gL;ze.weekdaysRegex=_L;ze.weekdaysShortRegex=wL;ze.weekdaysMinRegex=SL;ze.isPM=EL;ze.meridiem=kL;function ms(t,e,r,n){var a=Yr(),i=Er().set(n,e);return a[r](i,t)}function j_(t,e,r){if(qr(t)&&(e=t,t=void 0),t=t||"",e!=null)return ms(t,e,r,"month");var n,a=[];for(n=0;n<12;n++)a[n]=ms(t,n,r,"month");return a}function xh(t,e,r,n){typeof t=="boolean"?(qr(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,qr(e)&&(r=e,e=void 0),e=e||"");var a=Yr(),i=t?a._week.dow:0,s,o=[];if(r!=null)return ms(e,(r+i)%7,n,"day");for(s=0;s<7;s++)o[s]=ms(e,(s+i)%7,n,"day");return o}function OI(t,e){return j_(t,e,"months")}function LI(t,e){return j_(t,e,"monthsShort")}function AI(t,e,r){return xh(t,e,r,"weekdays")}function II(t,e,r){return xh(t,e,r,"weekdaysShort")}function BI(t,e,r){return xh(t,e,r,"weekdaysMin")}tn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=Oe(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});oe.lang=Jt("moment.lang is deprecated. Use moment.locale instead.",tn);oe.langData=Jt("moment.langData is deprecated. Use moment.localeData instead.",Yr);var kr=Math.abs;function NI(){var t=this._data;return this._milliseconds=kr(this._milliseconds),this._days=kr(this._days),this._months=kr(this._months),t.milliseconds=kr(t.milliseconds),t.seconds=kr(t.seconds),t.minutes=kr(t.minutes),t.hours=kr(t.hours),t.months=kr(t.months),t.years=kr(t.years),this}function Z_(t,e,r,n){var a=vr(e,r);return t._milliseconds+=n*a._milliseconds,t._days+=n*a._days,t._months+=n*a._months,t._bubble()}function qI(t,e){return Z_(this,t,e,1)}function FI(t,e){return Z_(this,t,e,-1)}function py(t){return t<0?Math.floor(t):Math.ceil(t)}function zI(){var t=this._milliseconds,e=this._days,r=this._months,n=this._data,a,i,s,o,u;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=py(pd(r)+e)*864e5,e=0,r=0),n.milliseconds=t%1e3,a=Kt(t/1e3),n.seconds=a%60,i=Kt(a/60),n.minutes=i%60,s=Kt(i/60),n.hours=s%24,e+=Kt(s/24),u=Kt(K_(e)),r+=u,e-=py(pd(u)),o=Kt(r/12),r%=12,n.days=e,n.months=r,n.years=o,this}function K_(t){return t*4800/146097}function pd(t){return t*146097/4800}function VI(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if(t=er(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,r=this._months+K_(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(pd(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function HI(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Oe(this._months/12)*31536e6:NaN}function $r(t){return function(){return this.as(t)}}var YI=$r("ms"),$I=$r("s"),WI=$r("m"),UI=$r("h"),GI=$r("d"),jI=$r("w"),ZI=$r("M"),KI=$r("Q"),XI=$r("y");function QI(){return vr(this)}function JI(t){return t=er(t),this.isValid()?this[t+"s"]():NaN}function Ln(t){return function(){return this.isValid()?this._data[t]:NaN}}var e6=Ln("milliseconds"),t6=Ln("seconds"),r6=Ln("minutes"),n6=Ln("hours"),a6=Ln("days"),i6=Ln("months"),s6=Ln("years");function o6(){return Kt(this.days()/7)}var Pr=Math.round,Un={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function u6(t,e,r,n,a){return a.relativeTime(e||1,!!r,t,n)}function l6(t,e,r,n){var a=vr(t).abs(),i=Pr(a.as("s")),s=Pr(a.as("m")),o=Pr(a.as("h")),u=Pr(a.as("d")),l=Pr(a.as("M")),c=Pr(a.as("w")),f=Pr(a.as("y")),d=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||s<=1&&["m"]||s<r.m&&["mm",s]||o<=1&&["h"]||o<r.h&&["hh",o]||u<=1&&["d"]||u<r.d&&["dd",u];return r.w!=null&&(d=d||c<=1&&["w"]||c<r.w&&["ww",c]),d=d||l<=1&&["M"]||l<r.M&&["MM",l]||f<=1&&["y"]||["yy",f],d[2]=e,d[3]=+t>0,d[4]=n,u6.apply(null,d)}function c6(t){return t===void 0?Pr:typeof t=="function"?(Pr=t,!0):!1}function f6(t,e){return Un[t]===void 0?!1:e===void 0?Un[t]:(Un[t]=e,t==="s"&&(Un.ss=e-1),!0)}function d6(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Un,a,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(n=Object.assign({},Un,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),a=this.localeData(),i=l6(this,!r,n,a),r&&(i=a.pastFuture(+this,i)),a.postformat(i)}var Gf=Math.abs;function Vn(t){return(t>0)-(t<0)||+t}function so(){if(!this.isValid())return this.localeData().invalidDate();var t=Gf(this._milliseconds)/1e3,e=Gf(this._days),r=Gf(this._months),n,a,i,s,o=this.asSeconds(),u,l,c,f;return o?(n=Kt(t/60),a=Kt(n/60),t%=60,n%=60,i=Kt(r/12),r%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",u=o<0?"-":"",l=Vn(this._months)!==Vn(o)?"-":"",c=Vn(this._days)!==Vn(o)?"-":"",f=Vn(this._milliseconds)!==Vn(o)?"-":"",u+"P"+(i?l+i+"Y":"")+(r?l+r+"M":"")+(e?c+e+"D":"")+(a||n||t?"T":"")+(a?f+a+"H":"")+(n?f+n+"M":"")+(t?f+s+"S":"")):"P0D"}var Ae=ao.prototype;Ae.isValid=aA;Ae.abs=NI;Ae.add=qI;Ae.subtract=FI;Ae.as=VI;Ae.asMilliseconds=YI;Ae.asSeconds=$I;Ae.asMinutes=WI;Ae.asHours=UI;Ae.asDays=GI;Ae.asWeeks=jI;Ae.asMonths=ZI;Ae.asQuarters=KI;Ae.asYears=XI;Ae.valueOf=HI;Ae._bubble=zI;Ae.clone=QI;Ae.get=JI;Ae.milliseconds=e6;Ae.seconds=t6;Ae.minutes=r6;Ae.hours=n6;Ae.days=a6;Ae.weeks=o6;Ae.months=i6;Ae.years=s6;Ae.humanize=d6;Ae.toISOString=so;Ae.toString=so;Ae.toJSON=so;Ae.locale=q_;Ae.localeData=z_;Ae.toIsoString=Jt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",so);Ae.lang=F_;me("X",0,0,"unix");me("x",0,0,"valueOf");ce("x",eo);ce("X",AO);Ue("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});Ue("x",function(t,e,r){r._d=new Date(Oe(t))});//! moment.js
oe.version="2.29.4";hO(Xe);oe.fn=ae;oe.min=eA;oe.max=tA;oe.now=rA;oe.utc=Er;oe.unix=RI;oe.months=OI;oe.isDate=Si;oe.locale=tn;oe.invalid=Zs;oe.duration=vr;oe.isMoment=dr;oe.weekdays=AI;oe.parseZone=PI;oe.localeData=Yr;oe.isDuration=Ji;oe.monthsShort=LI;oe.weekdaysMin=BI;oe.defineLocale=ph;oe.updateLocale=PL;oe.locales=OL;oe.weekdaysShort=II;oe.normalizeUnits=er;oe.relativeTimeRounding=c6;oe.relativeTimeThreshold=f6;oe.calendarFormat=kA;oe.prototype=ae;oe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var h6={},oo={},Ci={},Eh={exports:{}},ea=typeof Reflect=="object"?Reflect:null,gy=ea&&typeof ea.apply=="function"?ea.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ts;ea&&typeof ea.ownKeys=="function"?ts=ea.ownKeys:Object.getOwnPropertySymbols?ts=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ts=function(e){return Object.getOwnPropertyNames(e)};function v6(t){console&&console.warn&&console.warn(t)}var X_=Number.isNaN||function(e){return e!==e};function We(){We.init.call(this)}Eh.exports=We;Eh.exports.once=y6;We.EventEmitter=We;We.prototype._events=void 0;We.prototype._eventsCount=0;We.prototype._maxListeners=void 0;var my=10;function uo(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(We,"defaultMaxListeners",{enumerable:!0,get:function(){return my},set:function(t){if(typeof t!="number"||t<0||X_(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");my=t}});We.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};We.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||X_(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Q_(t){return t._maxListeners===void 0?We.defaultMaxListeners:t._maxListeners}We.prototype.getMaxListeners=function(){return Q_(this)};We.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=e==="error",i=this._events;if(i!==void 0)a=a&&i.error===void 0;else if(!a)return!1;if(a){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var u=i[e];if(u===void 0)return!1;if(typeof u=="function")gy(u,this,r);else for(var l=u.length,c=n2(u,l),n=0;n<l;++n)gy(c[n],this,r);return!0};function J_(t,e,r,n){var a,i,s;if(uo(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),s=i[e]),s===void 0)s=i[e]=r,++t._eventsCount;else if(typeof s=="function"?s=i[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),a=Q_(t),a>0&&s.length>a&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,v6(o)}return t}We.prototype.addListener=function(e,r){return J_(this,e,r,!1)};We.prototype.on=We.prototype.addListener;We.prototype.prependListener=function(e,r){return J_(this,e,r,!0)};function p6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function e2(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=p6.bind(n);return a.listener=r,n.wrapFn=a,a}We.prototype.once=function(e,r){return uo(r),this.on(e,e2(this,e,r)),this};We.prototype.prependOnceListener=function(e,r){return uo(r),this.prependListener(e,e2(this,e,r)),this};We.prototype.removeListener=function(e,r){var n,a,i,s,o;if(uo(r),a=this._events,a===void 0)return this;if(n=a[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){o=n[s].listener,i=s;break}if(i<0)return this;i===0?n.shift():g6(n,i),n.length===1&&(a[e]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};We.prototype.off=We.prototype.removeListener;We.prototype.removeAllListeners=function(e){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),s;for(a=0;a<i.length;++a)s=i[a],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function t2(t,e,r){var n=t._events;if(n===void 0)return[];var a=n[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?m6(a):n2(a,a.length)}We.prototype.listeners=function(e){return t2(this,e,!0)};We.prototype.rawListeners=function(e){return t2(this,e,!1)};We.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):r2.call(t,e)};We.prototype.listenerCount=r2;function r2(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}We.prototype.eventNames=function(){return this._eventsCount>0?ts(this._events):[]};function n2(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function g6(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function m6(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function y6(t,e){return new Promise(function(r,n){function a(s){t.removeListener(e,i),n(s)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}a2(t,e,i,{once:!0}),e!=="error"&&b6(t,a,{once:!0})})}function b6(t,e,r){typeof t.on=="function"&&a2(t,"error",e,r)}function a2(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(i){n.once&&t.removeEventListener(e,a),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var i2=Eh.exports,Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.unsubscribedCodes=Ht.subscribingCodes=Ht.disconnectedCodes=Ht.connectingCodes=Ht.errorCodes=void 0;Ht.errorCodes={timeout:1,transportClosed:2,clientDisconnected:3,clientClosed:4,clientConnectToken:5,clientRefreshToken:6,subscriptionUnsubscribed:7,subscriptionSubscribeToken:8,subscriptionRefreshToken:9,transportWriteError:10,connectionClosed:11};Ht.connectingCodes={connectCalled:0,transportClosed:1,noPing:2,subscribeTimeout:3,unsubscribeError:4};Ht.disconnectedCodes={disconnectCalled:0,unauthorized:1,badProtocol:2,messageSizeLimit:3};Ht.subscribingCodes={subscribeCalled:0,transportClosed:1};Ht.unsubscribedCodes={unsubscribeCalled:0,unauthorized:1,clientClosed:2};var lo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionState=t.State=void 0,function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected"}(t.State||(t.State={})),function(e){e.Unsubscribed="unsubscribed",e.Subscribing="subscribing",e.Subscribed="subscribed"}(t.SubscriptionState||(t.SubscriptionState={}))})(lo);var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.ttlMilliseconds=Lt.errorExists=Lt.backoff=Lt.log=Lt.isFunction=Lt.startsWith=void 0;function _6(t,e){return t.lastIndexOf(e,0)===0}Lt.startsWith=_6;function s2(t){return t==null?!1:typeof t=="function"}Lt.isFunction=s2;function w6(t,e){if(globalThis.console){const r=globalThis.console[t];s2(r)&&r.apply(globalThis.console,e)}}Lt.log=w6;function S6(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function x6(t,e,r){t>31&&(t=31);const n=S6(0,Math.min(r,e*Math.pow(2,t)));return Math.min(r,e+n)}Lt.backoff=x6;function E6(t){return"error"in t&&t.error!==null}Lt.errorExists=E6;function T6(t){return Math.min(t*1e3,2147483647)}Lt.ttlMilliseconds=T6;var C6=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.Subscription=void 0;const k6=C6(i2),jt=Ht,ir=lo,Yi=Lt;class D6 extends k6.default{constructor(e,r,n){super(),this._resubscribeTimeout=null,this._refreshTimeout=null,this.channel=r,this.state=ir.SubscriptionState.Unsubscribed,this._centrifuge=e,this._token=null,this._getToken=null,this._data=null,this._recover=!1,this._offset=null,this._epoch=null,this._recoverable=!1,this._positioned=!1,this._joinLeave=!1,this._minResubscribeDelay=500,this._maxResubscribeDelay=2e4,this._resubscribeTimeout=null,this._resubscribeAttempts=0,this._promises={},this._promiseId=0,this._inflight=!1,this._refreshTimeout=null,this._setOptions(n),this._centrifuge._debugEnabled?(this.on("state",a=>{this._centrifuge._debug("subscription state",r,a.oldState,"->",a.newState)}),this.on("error",a=>{this._centrifuge._debug("subscription error",r,a)})):this.on("error",function(){Function.prototype()})}ready(e){return this.state===ir.SubscriptionState.Unsubscribed?Promise.reject({code:jt.errorCodes.subscriptionUnsubscribed,message:this.state}):this.state===ir.SubscriptionState.Subscribed?Promise.resolve():new Promise((r,n)=>{const a={resolve:r,reject:n};e&&(a.timeout=setTimeout(function(){n({code:jt.errorCodes.timeout,message:"timeout"})},e)),this._promises[this._nextPromiseId()]=a})}subscribe(){this._isSubscribed()||(this._resubscribeAttempts=0,this._setSubscribing(jt.subscribingCodes.subscribeCalled,"subscribe called"))}unsubscribe(){this._setUnsubscribed(jt.unsubscribedCodes.unsubscribeCalled,"unsubscribe called",!0)}publish(e){const r=this;return this._methodCall().then(function(){return r._centrifuge.publish(r.channel,e)})}presence(){const e=this;return this._methodCall().then(function(){return e._centrifuge.presence(e.channel)})}presenceStats(){const e=this;return this._methodCall().then(function(){return e._centrifuge.presenceStats(e.channel)})}history(e){const r=this;return this._methodCall().then(function(){return r._centrifuge.history(r.channel,e)})}_methodCall(){return this._isSubscribed()?Promise.resolve():this._isUnsubscribed()?Promise.reject({code:jt.errorCodes.subscriptionUnsubscribed,message:this.state}):new Promise((e,r)=>{const n=setTimeout(function(){r({code:jt.errorCodes.timeout,message:"timeout"})},this._centrifuge._config.timeout);this._promises[this._nextPromiseId()]={timeout:n,resolve:e,reject:r}})}_nextPromiseId(){return++this._promiseId}_needRecover(){return this._recover===!0}_isUnsubscribed(){return this.state===ir.SubscriptionState.Unsubscribed}_isSubscribing(){return this.state===ir.SubscriptionState.Subscribing}_isSubscribed(){return this.state===ir.SubscriptionState.Subscribed}_setState(e){if(this.state!==e){const r=this.state;return this.state=e,this.emit("state",{newState:e,oldState:r,channel:this.channel}),!0}return!1}_usesToken(){return this._token!==null||this._getToken!==null}_clearSubscribingState(){this._resubscribeAttempts=0,this._clearResubscribeTimeout()}_clearSubscribedState(){this._clearRefreshTimeout()}_setSubscribed(e){if(!this._isSubscribing())return;this._clearSubscribingState(),e.recoverable&&(this._recover=!0,this._offset=e.offset||0,this._epoch=e.epoch||""),this._setState(ir.SubscriptionState.Subscribed);const r=this._centrifuge._getSubscribeContext(this.channel,e);this.emit("subscribed",r),this._resolvePromises();const n=e.publications;if(n&&n.length>0)for(const a in n)n.hasOwnProperty(a)&&this._handlePublication(n[a]);e.expires===!0&&(this._refreshTimeout=setTimeout(()=>this._refresh(),(0,Yi.ttlMilliseconds)(e.ttl)))}_setSubscribing(e,r){this._isSubscribing()||(this._isSubscribed()&&this._clearSubscribedState(),this._setState(ir.SubscriptionState.Subscribing)&&this.emit("subscribing",{channel:this.channel,code:e,reason:r}),this._subscribe(!1,!1))}_subscribe(e,r){if(this._centrifuge._debug("subscribing on",this.channel),this._centrifuge.state!==ir.State.Connected&&!e)return this._centrifuge._debug("delay subscribe on",this.channel,"till connected"),null;if(this._usesToken()){if(this._token)return this._sendSubscribe(this._token,r);{if(e)return null;const n=this;return this._getSubscriptionToken().then(function(a){if(n._isSubscribing()){if(!a){n._failUnauthorized();return}n._token=a,n._sendSubscribe(a,!1)}}).catch(function(a){n._isSubscribing()&&(n.emit("error",{type:"subscribeToken",channel:n.channel,error:{code:jt.errorCodes.subscriptionSubscribeToken,message:a!==void 0?a.toString():""}}),n._scheduleResubscribe())}),null}}else return this._sendSubscribe("",r)}_sendSubscribe(e,r){const a={channel:this.channel};if(e&&(a.token=e),this._data&&(a.data=this._data),this._positioned&&(a.positioned=!0),this._recoverable&&(a.recoverable=!0),this._joinLeave&&(a.join_leave=!0),this._needRecover()){a.recover=!0;const s=this._getOffset();s&&(a.offset=s);const o=this._getEpoch();o&&(a.epoch=o)}const i={subscribe:a};return this._inflight=!0,this._centrifuge._call(i,r).then(s=>{this._inflight=!1;const o=s.reply.subscribe;this._handleSubscribeResponse(o),s.next&&s.next()},s=>{this._inflight=!1,this._handleSubscribeError(s.error),s.next&&s.next()}),i}_handleSubscribeError(e){if(this._isSubscribing()){if(e.code===jt.errorCodes.timeout){this._centrifuge._disconnect(jt.connectingCodes.subscribeTimeout,"subscribe timeout",!0);return}this._subscribeError(e)}}_handleSubscribeResponse(e){this._isSubscribing()&&this._setSubscribed(e)}_setUnsubscribed(e,r,n){this._isUnsubscribed()||(this._isSubscribed()&&(n&&this._centrifuge._unsubscribe(this),this._clearSubscribedState()),this._isSubscribing()&&this._clearSubscribingState(),this._setState(ir.SubscriptionState.Unsubscribed)&&this.emit("unsubscribed",{channel:this.channel,code:e,reason:r}),this._rejectPromises({code:jt.errorCodes.subscriptionUnsubscribed,message:this.state}))}_handlePublication(e){const r=this._centrifuge._getPublicationContext(this.channel,e);this.emit("publication",r),e.offset&&(this._offset=e.offset)}_handleJoin(e){const r=this._centrifuge._getJoinLeaveContext(e.info);this.emit("join",{channel:this.channel,info:r})}_handleLeave(e){const r=this._centrifuge._getJoinLeaveContext(e.info);this.emit("leave",{channel:this.channel,info:r})}_resolvePromises(){for(const e in this._promises)this._promises[e].timeout&&clearTimeout(this._promises[e].timeout),this._promises[e].resolve(),delete this._promises[e]}_rejectPromises(e){for(const r in this._promises)this._promises[r].timeout&&clearTimeout(this._promises[r].timeout),this._promises[r].reject(e),delete this._promises[r]}_scheduleResubscribe(){const e=this,r=this._getResubscribeDelay();this._resubscribeTimeout=setTimeout(function(){e._isSubscribing()&&e._subscribe(!1,!1)},r)}_subscribeError(e){if(this._isSubscribing())if(e.code<100||e.code===109||e.temporary===!0){e.code===109&&(this._token=null);const r={channel:this.channel,type:"subscribe",error:e};this._centrifuge.state===ir.State.Connected&&this.emit("error",r),this._scheduleResubscribe()}else this._setUnsubscribed(e.code,e.message,!1)}_getResubscribeDelay(){const e=(0,Yi.backoff)(this._resubscribeAttempts,this._minResubscribeDelay,this._maxResubscribeDelay);return this._resubscribeAttempts++,e}_setOptions(e){e&&(e.since&&(this._offset=e.since.offset,this._epoch=e.since.epoch,this._recover=!0),e.data&&(this._data=e.data),e.minResubscribeDelay!==void 0&&(this._minResubscribeDelay=e.minResubscribeDelay),e.maxResubscribeDelay!==void 0&&(this._maxResubscribeDelay=e.maxResubscribeDelay),e.token&&(this._token=e.token),e.getToken&&(this._getToken=e.getToken),e.positioned===!0&&(this._positioned=!0),e.recoverable===!0&&(this._recoverable=!0),e.joinLeave===!0&&(this._joinLeave=!0))}_getOffset(){const e=this._offset;return e!==null?e:0}_getEpoch(){const e=this._epoch;return e!==null?e:""}_clearRefreshTimeout(){this._refreshTimeout!==null&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null)}_clearResubscribeTimeout(){this._resubscribeTimeout!==null&&(clearTimeout(this._resubscribeTimeout),this._resubscribeTimeout=null)}_getSubscriptionToken(){this._centrifuge._debug("get subscription token for channel",this.channel);const e={channel:this.channel},r=this._getToken;if(r===null)throw new Error("provide a function to get channel subscription token");return r(e)}_refresh(){this._clearRefreshTimeout();const e=this;this._getSubscriptionToken().then(function(r){if(!e._isSubscribed())return;if(!r){e._failUnauthorized();return}e._token=r;const a={sub_refresh:{channel:e.channel,token:r}};e._centrifuge._call(a).then(i=>{const s=i.reply.sub_refresh;e._refreshResponse(s),i.next&&i.next()},i=>{e._refreshError(i.error),i.next&&i.next()})}).catch(function(r){e.emit("error",{type:"refreshToken",channel:e.channel,error:{code:jt.errorCodes.subscriptionRefreshToken,message:r!==void 0?r.toString():""}}),e._refreshTimeout=setTimeout(()=>e._refresh(),e._getRefreshRetryDelay())})}_refreshResponse(e){this._isSubscribed()&&(this._centrifuge._debug("subscription token refreshed, channel",this.channel),this._clearRefreshTimeout(),e.expires===!0&&(this._refreshTimeout=setTimeout(()=>this._refresh(),(0,Yi.ttlMilliseconds)(e.ttl))))}_refreshError(e){this._isSubscribed()&&(e.code<100||e.temporary===!0?(this.emit("error",{type:"refresh",channel:this.channel,error:e}),this._refreshTimeout=setTimeout(()=>this._refresh(),this._getRefreshRetryDelay())):this._setUnsubscribed(e.code,e.message,!0))}_getRefreshRetryDelay(){return(0,Yi.backoff)(0,1e4,2e4)}_failUnauthorized(){this._setUnsubscribed(jt.unsubscribedCodes.unauthorized,"unauthorized",!0)}}Ci.Subscription=D6;var co={};Object.defineProperty(co,"__esModule",{value:!0});co.SockjsTransport=void 0;class M6{constructor(e,r){this.endpoint=e,this.options=r,this._transport=null}name(){return"sockjs"}subName(){return"sockjs-"+this._transport.transport}emulation(){return!1}supported(){return this.options.sockjs!==null}initialize(e,r){this._transport=new this.options.sockjs(this.endpoint,null,this.options.sockjsOptions),this._transport.onopen=()=>{r.onOpen()},this._transport.onerror=n=>{r.onError(n)},this._transport.onclose=n=>{r.onClose(n)},this._transport.onmessage=n=>{r.onMessage(n.data)}}close(){this._transport.close()}send(e){this._transport.send(e)}}co.SockjsTransport=M6;var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.WebsocketTransport=void 0;class R6{constructor(e,r){this.endpoint=e,this.options=r,this._transport=null}name(){return"websocket"}subName(){return"websocket"}emulation(){return!1}supported(){return this.options.websocket!==void 0&&this.options.websocket!==null}initialize(e,r){let n="";e==="protobuf"&&(n="centrifuge-protobuf"),n!==""?this._transport=new this.options.websocket(this.endpoint,n):this._transport=new this.options.websocket(this.endpoint),e==="protobuf"&&(this._transport.binaryType="arraybuffer"),this._transport.onopen=()=>{r.onOpen()},this._transport.onerror=a=>{r.onError(a)},this._transport.onclose=a=>{r.onClose(a)},this._transport.onmessage=a=>{r.onMessage(a.data)}}close(){this._transport.close()}send(e){this._transport.send(e)}}fo.WebsocketTransport=R6;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.HttpStreamTransport=void 0;class P6{constructor(e,r){this.endpoint=e,this.options=r,this._abortController=null,this._utf8decoder=new TextDecoder,this._protocol="json"}name(){return"http_stream"}subName(){return"http_stream"}emulation(){return!0}_handleErrors(e){if(!e.ok)throw new Error(e.status);return e}_fetchEventTarget(e,r,n){const a=new EventTarget,i=e.options.fetch;return i(r,n).then(e._handleErrors).then(s=>{a.dispatchEvent(new Event("open"));let o="",u=0,l=new Uint8Array;const c=s.body.getReader();return new e.options.readableStream({start(f){function d(){return c.read().then(({done:h,value:v})=>{if(h){a.dispatchEvent(new Event("close")),f.close();return}try{if(e._protocol==="json")for(o+=e._utf8decoder.decode(v);u<o.length;)if(o[u]===`
`){const g=o.substring(0,u);a.dispatchEvent(new MessageEvent("message",{data:g})),o=o.substring(u+1),u=0}else++u;else{const g=new Uint8Array(l.length+v.length);for(g.set(l),g.set(v,l.length),l=g;;){const m=e.options.decoder.decodeReply(l);if(m.ok){const p=l.slice(0,m.pos);a.dispatchEvent(new MessageEvent("message",{data:p})),l=l.slice(m.pos);continue}break}}}catch(g){a.dispatchEvent(new Event("error",{detail:g})),a.dispatchEvent(new Event("close")),f.close();return}d()}).catch(function(h){a.dispatchEvent(new Event("error",{detail:h})),a.dispatchEvent(new Event("close")),f.close()})}return d()}})}).catch(s=>{a.dispatchEvent(new Event("error",{detail:s})),a.dispatchEvent(new Event("close"))}),a}supported(){return this.options.fetch!==null&&this.options.readableStream!==null&&typeof TextDecoder<"u"&&typeof AbortController<"u"&&typeof EventTarget<"u"&&typeof Event<"u"&&typeof MessageEvent<"u"&&typeof Error<"u"}initialize(e,r,n){this._protocol=e,this._abortController=new AbortController;let a,i;e==="json"?(a={Accept:"application/json","Content-Type":"application/json"},i=n):(a={Accept:"application/octet-stream","Content-Type":"application/octet-stream"},i=n);const s={method:"POST",headers:a,body:i,mode:"cors",credentials:"same-origin",cache:"no-cache",signal:this._abortController.signal},o=this._fetchEventTarget(this,this.endpoint,s);o.addEventListener("open",()=>{r.onOpen()}),o.addEventListener("error",u=>{this._abortController.abort(),r.onError(u)}),o.addEventListener("close",()=>{this._abortController.abort(),r.onClose({code:4,reason:"connection closed"})}),o.addEventListener("message",u=>{r.onMessage(u.data)})}close(){this._abortController.abort()}send(e,r,n){let a,i;const s={session:r,node:n,data:e};this._protocol==="json"?(a={"Content-Type":"application/json"},i=JSON.stringify(s)):(a={"Content-Type":"application/octet-stream"},i=this.options.encoder.encodeEmulationRequest(s));const o=this.options.fetch,u={method:"POST",headers:a,body:i,mode:"cors",credentials:"same-origin",cache:"no-cache"};o(this.options.emulationEndpoint,u)}}ho.HttpStreamTransport=P6;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.SseTransport=void 0;class O6{constructor(e,r){this.endpoint=e,this.options=r,this._protocol="json",this._transport=null,this._onClose=null}name(){return"sse"}subName(){return"sse"}emulation(){return!0}supported(){return this.options.eventsource!==null&&this.options.fetch!==null}initialize(e,r,n){let a;globalThis&&globalThis.document&&globalThis.document.baseURI?a=new URL(this.endpoint,globalThis.document.baseURI):a=new URL(this.endpoint),a.searchParams.append("cf_connect",n);const i={},s=new this.options.eventsource(a.toString(),i);this._transport=s;const o=this;s.onopen=function(){r.onOpen()},s.onerror=function(u){s.close(),r.onError(u),r.onClose({code:4,reason:"connection closed"})},s.onmessage=function(u){r.onMessage(u.data)},o._onClose=function(){r.onClose({code:4,reason:"connection closed"})}}close(){this._transport.close(),this._onClose!==null&&this._onClose()}send(e,r,n){const a={session:r,node:n,data:e},i={"Content-Type":"application/json"},s=JSON.stringify(a),o=this.options.fetch,u={method:"POST",headers:i,body:s,mode:"cors",credentials:"same-origin",cache:"no-cache"};o(this.options.emulationEndpoint,u)}}vo.SseTransport=O6;var po={},$i=ot&&ot.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{l(n.next(c))}catch(f){s(f)}}function u(c){try{l(n.throw(c))}catch(f){s(f)}}function l(c){c.done?i(c.value):a(c.value).then(o,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(po,"__esModule",{value:!0});po.WebtransportTransport=void 0;class L6{constructor(e,r){this.endpoint=e,this.options=r,this._transport=null,this._stream=null,this._writer=null,this._utf8decoder=new TextDecoder,this._protocol="json"}name(){return"webtransport"}subName(){return"webtransport"}emulation(){return!1}supported(){return this.options.webtransport!==void 0&&this.options.webtransport!==null}initialize(e,r){return $i(this,void 0,void 0,function*(){let n;globalThis&&globalThis.document&&globalThis.document.baseURI?n=new URL(this.endpoint,globalThis.document.baseURI):n=new URL(this.endpoint),e==="protobuf"&&n.searchParams.append("cf_protocol","protobuf"),this._protocol=e;const a=new EventTarget;this._transport=new this.options.webtransport(n.toString()),this._transport.closed.then(()=>{r.onClose({code:4,reason:"connection closed"})}).catch(()=>{r.onClose({code:4,reason:"connection closed"})});try{yield this._transport.ready}catch{this.close();return}let i;try{i=yield this._transport.createBidirectionalStream()}catch{this.close();return}this._stream=i,this._writer=this._stream.writable.getWriter(),a.addEventListener("close",()=>{r.onClose({code:4,reason:"connection closed"})}),a.addEventListener("message",s=>{r.onMessage(s.data)}),this._startReading(a),r.onOpen()})}_startReading(e){return $i(this,void 0,void 0,function*(){const r=this._stream.readable.getReader();let n="",a=0,i=new Uint8Array;try{for(;;){const{done:s,value:o}=yield r.read();if(o.length>0)if(this._protocol==="json")for(n+=this._utf8decoder.decode(o);a<n.length;)if(n[a]===`
`){const u=n.substring(0,a);e.dispatchEvent(new MessageEvent("message",{data:u})),n=n.substring(a+1),a=0}else++a;else{const u=new Uint8Array(i.length+o.length);for(u.set(i),u.set(o,i.length),i=u;;){const l=this.options.decoder.decodeReply(i);if(l.ok){const c=i.slice(0,l.pos);e.dispatchEvent(new MessageEvent("message",{data:c})),i=i.slice(l.pos);continue}break}}if(s)break}}catch{e.dispatchEvent(new Event("close"))}})}close(){return $i(this,void 0,void 0,function*(){try{this._writer&&(yield this._writer.close()),this._transport.close()}catch{}})}send(e){return $i(this,void 0,void 0,function*(){let r;this._protocol==="json"?r=new TextEncoder().encode(e+`
`):r=e;try{yield this._writer.write(r)}catch{this.close()}})}}po.WebtransportTransport=L6;var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.JsonDecoder=sa.JsonEncoder=void 0;class A6{encodeCommands(e){return e.map(r=>JSON.stringify(r)).join(`
`)}}sa.JsonEncoder=A6;class I6{decodeReplies(e){return e.trim().split(`
`).map(r=>JSON.parse(r))}}sa.JsonDecoder=I6;var B6=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oo,"__esModule",{value:!0});oo.Centrifuge=void 0;const N6=Ci,lt=Ht,q6=co,yy=fo,F6=ho,z6=vo,V6=po,by=sa,jr=Lt,it=lo,H6=B6(i2),Y6={protocol:"json",token:null,getToken:null,data:null,debug:!1,name:"js",version:"",fetch:null,readableStream:null,websocket:null,eventsource:null,sockjs:null,sockjsOptions:{},emulationEndpoint:"/emulation",minReconnectDelay:500,maxReconnectDelay:2e4,timeout:5e3,maxServerPingDelay:1e4,networkEventTarget:null};class Th extends H6.default{constructor(e,r){super(),this._reconnectTimeout=null,this._refreshTimeout=null,this._serverPingTimeout=null,this.state=it.State.Disconnected,this._endpoint=e,this._emulation=!1,this._transports=[],this._currentTransportIndex=0,this._triedAllTransports=!1,this._transportWasOpen=!1,this._transport=null,this._transportClosed=!0,this._encoder=null,this._decoder=null,this._reconnecting=!1,this._reconnectTimeout=null,this._reconnectAttempts=0,this._client=null,this._session="",this._node="",this._subs={},this._serverSubs={},this._commandId=0,this._commands=[],this._batching=!1,this._refreshRequired=!1,this._refreshTimeout=null,this._callbacks={},this._token=void 0,this._dispatchPromise=Promise.resolve(),this._serverPing=0,this._serverPingTimeout=null,this._sendPong=!1,this._promises={},this._promiseId=0,this._debugEnabled=!1,this._networkEventsSet=!1,this._config=Object.assign(Object.assign({},Y6),r),this._configure(),this._debugEnabled?(this.on("state",n=>{this._debug("client state",n.oldState,"->",n.newState)}),this.on("error",n=>{this._debug("client error",n)})):this.on("error",function(){Function.prototype()})}newSubscription(e,r){if(this.getSubscription(e)!==null)throw new Error("Subscription to the channel "+e+" already exists");const n=new N6.Subscription(this,e,r);return this._subs[e]=n,n}getSubscription(e){return this._getSub(e)}removeSubscription(e){e&&(e.state!==it.SubscriptionState.Unsubscribed&&e.unsubscribe(),this._removeSubscription(e))}subscriptions(){return this._subs}ready(e){return this.state===it.State.Disconnected?Promise.reject({code:lt.errorCodes.clientDisconnected,message:"client disconnected"}):this.state===it.State.Connected?Promise.resolve():new Promise((r,n)=>{const a={resolve:r,reject:n};e&&(a.timeout=setTimeout(function(){n({code:lt.errorCodes.timeout,message:"timeout"})},e)),this._promises[this._nextPromiseId()]=a})}connect(){if(this._isConnected()){this._debug("connect called when already connected");return}if(this._isConnecting()){this._debug("connect called when already connecting");return}this._debug("connect called"),this._reconnectAttempts=0,this._startConnecting()}disconnect(){this._disconnect(lt.disconnectedCodes.disconnectCalled,"disconnect called",!1)}send(e){const r={send:{data:e}},n=this;return this._methodCall().then(function(){return n._transportSendCommands([r])?Promise.resolve():Promise.reject(n._createErrorObject(lt.errorCodes.transportWriteError,"transport write error"))})}rpc(e,r){const n={rpc:{method:e,data:r}},a=this;return this._methodCall().then(function(){return a._callPromise(n,function(i){return{data:i.rpc.data}})})}publish(e,r){const n={publish:{channel:e,data:r}},a=this;return this._methodCall().then(function(){return a._callPromise(n,function(){return{}})})}history(e,r){const n={history:this._getHistoryRequest(e,r)},a=this;return this._methodCall().then(function(){return a._callPromise(n,function(i){const s=i.history,o=[];if(s.publications)for(let u=0;u<s.publications.length;u++)o.push(a._getPublicationContext(e,s.publications[u]));return{publications:o,epoch:s.epoch||"",offset:s.offset||0}})})}presence(e){const r={presence:{channel:e}},n=this;return this._methodCall().then(function(){return n._callPromise(r,function(a){const i=a.presence.presence;for(const s in i)if(i.hasOwnProperty(s)){const o=i[s].conn_info,u=i[s].chan_info;o&&(i[s].connInfo=o),u&&(i[s].chanInfo=u)}return{clients:i}})})}presenceStats(e){const r={presence_stats:{channel:e}},n=this;return this._methodCall().then(function(){return n._callPromise(r,function(a){const i=a.presence_stats;return{numUsers:i.num_users,numClients:i.num_clients}})})}startBatching(){this._batching=!0}stopBatching(){const e=this;Promise.resolve().then(function(){Promise.resolve().then(function(){e._batching=!1,e._flush()})})}_debug(...e){this._debugEnabled&&(0,jr.log)("debug",e)}_setFormat(e){if(!this._formatOverride(e)){if(e==="protobuf")throw new Error("not implemented by JSON-only Centrifuge client, use client with Protobuf support");this._encoder=new by.JsonEncoder,this._decoder=new by.JsonDecoder}}_formatOverride(e){return!1}_configure(){if(!("Promise"in globalThis))throw new Error("Promise polyfill required");if(!this._endpoint)throw new Error("endpoint configuration required");if(this._config.protocol!=="json"&&this._config.protocol!=="protobuf")throw new Error("unsupported protocol "+this._config.protocol);if(this._config.token!==null&&(this._token=this._config.token),this._setFormat("json"),this._config.protocol==="protobuf"&&this._setFormat("protobuf"),(this._config.debug===!0||typeof localStorage<"u"&&localStorage.getItem("centrifuge.debug"))&&(this._debugEnabled=!0),this._debug("config",this._config),typeof this._endpoint!="string")if(typeof this._endpoint=="object"&&this._endpoint instanceof Array){this._transports=this._endpoint,this._emulation=!0;for(const e in this._transports){const r=this._transports[e];if(!r.endpoint||!r.transport)throw new Error("malformed transport configuration");const n=r.transport;if(["websocket","http_stream","sse","sockjs","webtransport"].indexOf(n)<0)throw new Error("unsupported transport name: "+n)}}else throw new Error("unsupported url configuration type: only string or array of objects are supported")}_setState(e){if(this.state!==e){this._reconnecting=!1;const r=this.state;return this.state=e,this.emit("state",{newState:e,oldState:r}),!0}return!1}_isDisconnected(){return this.state===it.State.Disconnected}_isConnecting(){return this.state===it.State.Connecting}_isConnected(){return this.state===it.State.Connected}_nextCommandId(){return++this._commandId}_setNetworkEvents(){if(this._networkEventsSet)return;let e=null;this._config.networkEventTarget!==null?e=this._config.networkEventTarget:typeof globalThis.addEventListener<"u"&&(e=globalThis),e&&(e.addEventListener("offline",()=>{this._debug("offline event triggered"),(this.state===it.State.Connected||this.state===it.State.Connecting)&&this._disconnect(lt.connectingCodes.transportClosed,"transport closed",!0)}),e.addEventListener("online",()=>{this._debug("online event triggered"),this.state===it.State.Connecting&&(this._clearReconnectTimeout(),this._startReconnecting())}),this._networkEventsSet=!0)}_getReconnectDelay(){const e=(0,jr.backoff)(this._reconnectAttempts,this._config.minReconnectDelay,this._config.maxReconnectDelay);return this._reconnectAttempts+=1,e}_clearOutgoingRequests(){for(const e in this._callbacks)if(this._callbacks.hasOwnProperty(e)){const r=this._callbacks[e];clearTimeout(r.timeout);const n=r.errback;if(!n)continue;n({error:this._createErrorObject(lt.errorCodes.connectionClosed,"connection closed")})}this._callbacks={}}_clearConnectedState(){this._client=null,this._clearServerPingTimeout(),this._clearRefreshTimeout();for(const e in this._subs){if(!this._subs.hasOwnProperty(e))continue;const r=this._subs[e];r.state===it.SubscriptionState.Subscribed&&r._setSubscribing(lt.subscribingCodes.transportClosed,"transport closed")}for(const e in this._serverSubs)this._serverSubs.hasOwnProperty(e)&&this.emit("subscribing",{channel:e})}_handleWriteError(e){for(const r of e){const n=r.id;if(!(n in this._callbacks))continue;const a=this._callbacks[n];clearTimeout(this._callbacks[n].timeout),delete this._callbacks[n];const i=a.errback;i({error:this._createErrorObject(lt.errorCodes.transportWriteError,"transport write error")})}}_transportSendCommands(e){if(!e.length)return!0;if(!this._transport)return!1;try{this._transport.send(this._encoder.encodeCommands(e),this._session,this._node)}catch(r){return this._debug("error writing commands",r),this._handleWriteError(e),!1}return!0}_initializeTransport(){let e;this._config.websocket!==null?e=this._config.websocket:typeof globalThis.WebSocket!="function"&&typeof globalThis.WebSocket!="object"||(e=globalThis.WebSocket);let r=null;this._config.sockjs!==null?r=this._config.sockjs:typeof globalThis.SockJS<"u"&&(r=globalThis.SockJS);let n=null;this._config.eventsource!==null?n=this._config.eventsource:typeof globalThis.EventSource<"u"&&(n=globalThis.EventSource);let a=null;this._config.fetch!==null?a=this._config.fetch:typeof globalThis.fetch<"u"&&(a=globalThis.fetch);let i=null;if(this._config.readableStream!==null?i=this._config.readableStream:typeof globalThis.ReadableStream<"u"&&(i=globalThis.ReadableStream),this._emulation){this._currentTransportIndex>=this._transports.length&&(this._triedAllTransports=!0,this._currentTransportIndex=0);let d=0;for(;;){if(d>=this._transports.length)throw new Error("no supported transport found");const h=this._transports[this._currentTransportIndex],v=h.transport,g=h.endpoint;if(v==="websocket"){if(this._debug("trying websocket transport"),this._transport=new yy.WebsocketTransport(g,{websocket:e}),!this._transport.supported()){this._debug("websocket transport not available"),this._currentTransportIndex++,d++;continue}}else if(v==="webtransport"){if(this._debug("trying webtransport transport"),this._transport=new V6.WebtransportTransport(g,{webtransport:globalThis.WebTransport,decoder:this._decoder,encoder:this._encoder}),!this._transport.supported()){this._debug("webtransport transport not available"),this._currentTransportIndex++,d++;continue}}else if(v==="http_stream"){if(this._debug("trying http_stream transport"),this._transport=new F6.HttpStreamTransport(g,{fetch:a,readableStream:i,emulationEndpoint:this._config.emulationEndpoint,decoder:this._decoder,encoder:this._encoder}),!this._transport.supported()){this._debug("http_stream transport not available"),this._currentTransportIndex++,d++;continue}}else if(v==="sse"){if(this._debug("trying sse transport"),this._transport=new z6.SseTransport(g,{eventsource:n,fetch:a,emulationEndpoint:this._config.emulationEndpoint}),!this._transport.supported()){this._debug("sse transport not available"),this._currentTransportIndex++,d++;continue}}else if(v==="sockjs"){if(this._debug("trying sockjs"),this._transport=new q6.SockjsTransport(g,{sockjs:r,sockjsOptions:this._config.sockjsOptions}),!this._transport.supported()){this._debug("sockjs transport not available"),this._currentTransportIndex++,d++;continue}}else throw new Error("unknown transport "+v);break}}else{if((0,jr.startsWith)(this._endpoint,"http"))throw new Error("Provide explicit transport endpoints configuration in case of using HTTP (i.e. using array of TransportEndpoint instead of a single string), or use ws(s):// scheme in an endpoint if you aimed using WebSocket transport");if(this._debug("client will use websocket"),this._transport=new yy.WebsocketTransport(this._endpoint,{websocket:e}),!this._transport.supported())throw new Error("WebSocket not available")}const s=this,o=this._transport;let u=!1,l=!0;this._transport.name()==="sse"&&(l=!1);const c=[];if(this._transport.emulation()){const d=s._sendConnect(!0);if(c.push(d),l){const h=s._sendSubscribeCommands(!0,!0);for(const v in h)c.push(h[v])}}this._setNetworkEvents();const f=this._encoder.encodeCommands(c);this._transportClosed=!1,this._transport.initialize(this._config.protocol,{onOpen:function(){u=!0,s._debug(o.subName(),"transport open"),s._transportWasOpen=!0,!o.emulation()&&(s.startBatching(),s._sendConnect(!1),l&&s._sendSubscribeCommands(!0,!1),s.stopBatching())},onError:function(d){s._debug("transport level error",d)},onClose:function(d){s._debug(o.subName(),"transport closed"),s._transportClosed=!0;let h="connection closed",v=!0,g=0;if(d&&"code"in d&&d.code&&(g=d.code),d&&d.reason)try{const p=JSON.parse(d.reason);h=p.reason,v=p.reconnect}catch{h=d.reason,(g>=3500&&g<4e3||g>=4500&&g<5e3)&&(v=!1)}g<3e3?(g===1009?(g=lt.disconnectedCodes.messageSizeLimit,h="message size limit exceeded",v=!1):(g=lt.connectingCodes.transportClosed,h="transport closed"),s._emulation&&!s._transportWasOpen&&(s._currentTransportIndex++,s._currentTransportIndex>=s._transports.length&&(s._triedAllTransports=!0,s._currentTransportIndex=0))):s._transportWasOpen=!0;let m=!1;if(s._emulation&&!s._transportWasOpen&&!s._triedAllTransports&&(m=!0),s._isConnecting()&&!u&&s.emit("error",{type:"transport",error:{code:lt.errorCodes.transportClosed,message:"transport closed"},transport:o.name()}),s._disconnect(g,h,v),s._isConnecting()){let p=s._getReconnectDelay();m&&(p=0),s._debug("reconnect after "+p+" milliseconds"),s._reconnecting=!1,s._reconnectTimeout=setTimeout(()=>{s._startReconnecting()},p)}},onMessage:function(d){s._dataReceived(d)}},f)}_sendConnect(e){const r=this._constructConnectCommand(),n=this;return this._call(r,e).then(a=>{const i=a.reply.connect;n._connectResponse(i),a.next&&a.next()},a=>{n._connectError(a.error),a.next&&a.next()}),r}_startReconnecting(){if(!this._isConnecting()||this._reconnecting)return;if(this._debug("start reconnecting"),this._reconnecting=!0,this._transportClosed===!1){this._debug("waiting for transport close");return}if(!(this._refreshRequired||!this._token&&this._config.getToken!==null)){this._initializeTransport();return}const r=this;this._getToken().then(function(n){if(r._isConnecting()){if(!n){r._failUnauthorized();return}r._token=n,r._debug("connection token refreshed"),r._initializeTransport()}}).catch(function(n){if(!r._isConnecting())return;r.emit("error",{type:"connectToken",error:{code:lt.errorCodes.clientConnectToken,message:n!==void 0?n.toString():""}});const a=r._getReconnectDelay();r._debug("error on connection token refresh, reconnect after "+a+" milliseconds",n),r._reconnecting=!1,r._reconnectTimeout=setTimeout(()=>{r._startReconnecting()},a)})}_connectError(e){if(this.state===it.State.Connecting)if(e.code===109&&(this._refreshRequired=!0),e.code<100||e.temporary===!0||e.code===109){if(this.emit("error",{type:"connect",error:e}),this._debug("closing transport due to connect error"),this._transport){const r=this._transport;this._transport=null,r.close()}}else this._disconnect(e.code,e.message,!1)}_constructConnectCommand(){const e={};this._token&&(e.token=this._token),this._config.data&&(e.data=this._config.data),this._config.name&&(e.name=this._config.name),this._config.version&&(e.version=this._config.version);const r={};let n=!1;for(const a in this._serverSubs)if(this._serverSubs.hasOwnProperty(a)&&this._serverSubs[a].recoverable){n=!0;const i={recover:!0};this._serverSubs[a].offset&&(i.offset=this._serverSubs[a].offset),this._serverSubs[a].epoch&&(i.epoch=this._serverSubs[a].epoch),r[a]=i}return n&&(e.subs=r),{connect:e}}_getHistoryRequest(e,r){const n={channel:e};return r!==void 0&&(r.since&&(n.since={offset:r.since.offset},r.since.epoch&&(n.since.epoch=r.since.epoch)),r.limit!==void 0&&(n.limit=r.limit),r.reverse===!0&&(n.reverse=!0)),n}_methodCall(){return this._isConnected()?Promise.resolve():new Promise((e,r)=>{const n=setTimeout(function(){r({code:lt.errorCodes.timeout,message:"timeout"})},this._config.timeout);this._promises[this._nextPromiseId()]={timeout:n,resolve:e,reject:r}})}_callPromise(e,r){return new Promise((n,a)=>{this._call(e,!1).then(i=>{n(r(i.reply)),i.next&&i.next()},i=>{a(i.error),i.next&&i.next()})})}_dataReceived(e){this._serverPing>0&&this._waitServerPing();const r=this._decoder.decodeReplies(e);this._dispatchPromise=this._dispatchPromise.then(()=>{let n;this._dispatchPromise=new Promise(a=>{n=a}),this._dispatchSynchronized(r,n)})}_dispatchSynchronized(e,r){let n=Promise.resolve();for(const a in e)e.hasOwnProperty(a)&&(n=n.then(()=>this._dispatchReply(e[a])));n=n.then(()=>{r()})}_dispatchReply(e){let r;const n=new Promise(i=>{r=i});if(e==null)return this._debug("dispatch: got undefined or null reply"),r(),n;const a=e.id;return a&&a>0?this._handleReply(e,r):e.push?this._handlePush(e.push,r):this._handleServerPing(r),n}_call(e,r){return new Promise((n,a)=>{e.id=this._nextCommandId(),this._registerCall(e.id,n,a),r||this._addCommand(e)})}_startConnecting(){this._debug("start connecting"),this._setState(it.State.Connecting)&&this.emit("connecting",{code:lt.connectingCodes.connectCalled,reason:"connect called"}),this._client=null,this._startReconnecting()}_disconnect(e,r,n){if(this._isDisconnected())return;const a=this.state,i={code:e,reason:r};let s=!1;if(n?s=this._setState(it.State.Connecting):(s=this._setState(it.State.Disconnected),this._rejectPromises({code:lt.errorCodes.clientDisconnected,message:"disconnected"})),this._clearOutgoingRequests(),a===it.State.Connecting&&this._clearReconnectTimeout(),a===it.State.Connected&&this._clearConnectedState(),s&&(this._isConnecting()?this.emit("connecting",i):this.emit("disconnected",i)),this._transport){const o=this._transport;this._transport=null,o.close()}}_failUnauthorized(){this._disconnect(lt.disconnectedCodes.unauthorized,"unauthorized",!1)}_getToken(){if(this._debug("get connection token"),!this._config.getToken)throw new Error("provide a function to get connection token");return this._config.getToken({})}_refresh(){const e=this._client,r=this;this._getToken().then(function(n){if(e!==r._client)return;if(!n){r._failUnauthorized();return}if(r._token=n,r._debug("connection token refreshed"),!r._isConnected())return;const a={refresh:{token:r._token}};r._call(a,!1).then(i=>{const s=i.reply.refresh;r._refreshResponse(s),i.next&&i.next()},i=>{r._refreshError(i.error),i.next&&i.next()})}).catch(function(n){r.emit("error",{type:"refreshToken",error:{code:lt.errorCodes.clientRefreshToken,message:n!==void 0?n.toString():""}}),r._refreshTimeout=setTimeout(()=>r._refresh(),r._getRefreshRetryDelay())})}_refreshError(e){e.code<100||e.temporary===!0?(this.emit("error",{type:"refresh",error:e}),this._refreshTimeout=setTimeout(()=>this._refresh(),this._getRefreshRetryDelay())):this._disconnect(e.code,e.message,!1)}_getRefreshRetryDelay(){return(0,jr.backoff)(0,5e3,1e4)}_refreshResponse(e){this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null),e.expires&&(this._client=e.client,this._refreshTimeout=setTimeout(()=>this._refresh(),(0,jr.ttlMilliseconds)(e.ttl)))}_removeSubscription(e){e!==null&&delete this._subs[e.channel]}_unsubscribe(e){if(!this._isConnected())return;const n={unsubscribe:{channel:e.channel}},a=this;this._call(n,!1).then(i=>{i.next&&i.next()},i=>{i.next&&i.next(),a._disconnect(lt.connectingCodes.unsubscribeError,"unsubscribe error",!0)})}_getSub(e){const r=this._subs[e];return r||null}_isServerSub(e){return this._serverSubs[e]!==void 0}_sendSubscribeCommands(e,r){const n=[];for(const a in this._subs){if(!this._subs.hasOwnProperty(a))continue;const i=this._subs[a];if(i._inflight!==!0&&i.state===it.SubscriptionState.Subscribing){const s=i._subscribe(e,r);s&&n.push(s)}}return n}_connectResponse(e){if(this._transportWasOpen=!0,this._reconnectAttempts=0,this._refreshRequired=!1,this._isConnected())return;this._client=e.client,this._setState(it.State.Connected),this._refreshTimeout&&clearTimeout(this._refreshTimeout),e.expires&&(this._refreshTimeout=setTimeout(()=>this._refresh(),(0,jr.ttlMilliseconds)(e.ttl))),this._session=e.session,this._node=e.node,this.startBatching(),this._sendSubscribeCommands(!1,!1),this.stopBatching();const r={client:e.client,transport:this._transport.subName()};e.data&&(r.data=e.data),this.emit("connected",r),this._resolvePromises(),this._processServerSubs(e.subs||{}),e.ping&&e.ping>0?(this._serverPing=e.ping*1e3,this._sendPong=e.pong===!0,this._waitServerPing()):this._serverPing=0}_processServerSubs(e){for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r];this._serverSubs[r]={offset:n.offset,epoch:n.epoch,recoverable:n.recoverable||!1};const a=this._getSubscribeContext(r,n);this.emit("subscribed",a)}for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r];if(n.recovered){const a=n.publications;if(a&&a.length>0)for(const i in a)a.hasOwnProperty(i)&&this._handlePublication(r,a[i])}}for(const r in this._serverSubs)this._serverSubs.hasOwnProperty(r)&&(e[r]||(this.emit("unsubscribed",{channel:r}),delete this._serverSubs[r]))}_clearRefreshTimeout(){this._refreshTimeout!==null&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null)}_clearReconnectTimeout(){this._reconnectTimeout!==null&&(clearTimeout(this._reconnectTimeout),this._reconnectTimeout=null)}_clearServerPingTimeout(){this._serverPingTimeout!==null&&(clearTimeout(this._serverPingTimeout),this._serverPingTimeout=null)}_waitServerPing(){this._config.maxServerPingDelay!==0&&this._isConnected()&&(this._clearServerPingTimeout(),this._serverPingTimeout=setTimeout(()=>{this._isConnected()&&this._disconnect(lt.connectingCodes.noPing,"no ping",!0)},this._serverPing+this._config.maxServerPingDelay))}_getSubscribeContext(e,r){const n={channel:e,positioned:!1,recoverable:!1,wasRecovering:!1,recovered:!1};r.recovered&&(n.recovered=!0),r.positioned&&(n.positioned=!0),r.recoverable&&(n.recoverable=!0),r.was_recovering&&(n.wasRecovering=!0);let a="";"epoch"in r&&(a=r.epoch);let i=0;return"offset"in r&&(i=r.offset),(n.positioned||n.recoverable)&&(n.streamPosition={offset:i,epoch:a}),r.data&&(n.data=r.data),n}_handleReply(e,r){const n=e.id;if(!(n in this._callbacks)){r();return}const a=this._callbacks[n];if(clearTimeout(this._callbacks[n].timeout),delete this._callbacks[n],(0,jr.errorExists)(e)){const i=a.errback;if(!i){r();return}const s=e.error;i({error:s,next:r})}else{const i=a.callback;if(!i)return;i({reply:e,next:r})}}_handleJoin(e,r){const n=this._getSub(e);if(!n){if(this._isServerSub(e)){const a={channel:e,info:this._getJoinLeaveContext(r.info)};this.emit("join",a)}return}n._handleJoin(r)}_handleLeave(e,r){const n=this._getSub(e);if(!n){if(this._isServerSub(e)){const a={channel:e,info:this._getJoinLeaveContext(r.info)};this.emit("leave",a)}return}n._handleLeave(r)}_handleUnsubscribe(e,r){const n=this._getSub(e);if(!n){this._isServerSub(e)&&(delete this._serverSubs[e],this.emit("unsubscribed",{channel:e}));return}r.code<2500?n._setUnsubscribed(r.code,r.reason,!1):n._setSubscribing(r.code,r.reason)}_handleSubscribe(e,r){this._serverSubs[e]={offset:r.offset,epoch:r.epoch,recoverable:r.recoverable||!1},this.emit("subscribed",this._getSubscribeContext(e,r))}_handleDisconnect(e){const r=e.code;let n=!0;(r>=3500&&r<4e3||r>=4500&&r<5e3)&&(n=!1),this._disconnect(r,e.reason,n)}_getPublicationContext(e,r){const n={channel:e,data:r.data};return r.offset&&(n.offset=r.offset),r.info&&(n.info=this._getJoinLeaveContext(r.info)),r.tags&&(n.tags=r.tags),n}_getJoinLeaveContext(e){const r={client:e.client,user:e.user};return e.conn_info&&(r.connInfo=e.conn_info),e.chan_info&&(r.chanInfo=e.chan_info),r}_handlePublication(e,r){const n=this._getSub(e);if(!n){if(this._isServerSub(e)){const a=this._getPublicationContext(e,r);this.emit("publication",a),r.offset!==void 0&&(this._serverSubs[e].offset=r.offset)}return}n._handlePublication(r)}_handleMessage(e){this.emit("message",{data:e.data})}_handleServerPing(e){if(this._sendPong){const r={};this._transportSendCommands([r])}e()}_handlePush(e,r){const n=e.channel;e.pub?this._handlePublication(n,e.pub):e.message?this._handleMessage(e.message):e.join?this._handleJoin(n,e.join):e.leave?this._handleLeave(n,e.leave):e.unsubscribe?this._handleUnsubscribe(n,e.unsubscribe):e.subscribe?this._handleSubscribe(n,e.subscribe):e.disconnect&&this._handleDisconnect(e.disconnect),r()}_flush(){const e=this._commands.slice(0);this._commands=[],this._transportSendCommands(e)}_createErrorObject(e,r,n){const a={code:e,message:r};return n&&(a.temporary=!0),a}_registerCall(e,r,n){this._callbacks[e]={callback:r,errback:n,timeout:null},this._callbacks[e].timeout=setTimeout(()=>{delete this._callbacks[e],(0,jr.isFunction)(n)&&n({error:this._createErrorObject(lt.errorCodes.timeout,"timeout")})},this._config.timeout)}_addCommand(e){this._batching?this._commands.push(e):this._transportSendCommands([e])}_nextPromiseId(){return++this._promiseId}_resolvePromises(){for(const e in this._promises)this._promises[e].timeout&&clearTimeout(this._promises[e].timeout),this._promises[e].resolve(),delete this._promises[e]}_rejectPromises(e){for(const r in this._promises)this._promises[r].timeout&&clearTimeout(this._promises[r].timeout),this._promises[r].reject(e),delete this._promises[r]}}oo.Centrifuge=Th;Th.SubscriptionState=it.SubscriptionState;Th.State=it.State;(function(t){var e=ot&&ot.__createBinding||(Object.create?function(i,s,o,u){u===void 0&&(u=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,u,l)}:function(i,s,o,u){u===void 0&&(u=o),i[u]=s[o]}),r=ot&&ot.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.Subscription=t.Centrifuge=void 0;const n=oo;Object.defineProperty(t,"Centrifuge",{enumerable:!0,get:function(){return n.Centrifuge}});const a=Ci;Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return a.Subscription}}),r(lo,t)})(h6);const r8=ys("connectionStore",{state:()=>({wsConnectionStatus:"disconnected"}),getters:{isConnectedWS({wsConnectionStatus:t}){return t==="connected"}},actions:{setStatus(t){this.wsConnectionStatus=t},removeWSConnection(){this.setStatus("disconnected")},addWSConnection(){this.setStatus("connected")}}}),{localStorage:ta}=window,$6=()=>{const t=ta==null?void 0:ta.getItem(wi.LOCKED_EVENTS);return t?JSON.parse(t):[]},jf=t=>{ta==null||ta.setItem(wi.LOCKED_EVENTS,JSON.stringify(t))},Zf=ys("useLockedIdsStore",{state:()=>({lockedIds:$6()||[]}),actions:{remove(t){this.lockedIds=this.lockedIds.filter(e=>e!==t),jf(this.lockedIds)},add(t){this.lockedIds.push(t),jf(this.lockedIds)},syncWithActive(t){if(!t.length){this.lockedIds.length=0;return}this.lockedIds.filter(e=>!t.includes(e)),jf(this.lockedIds)}}}),W6=ys("useEventStore",{state:()=>({events:[]}),actions:{initialize(t){this.events=t},addList(t){t.forEach(e=>{this.events.some(n=>n.uuid===e.uuid)?this.events=this.events.map(n=>n.uuid!==e.uuid?n:e):this.events.unshift(e)})},removeAll(){const{lockedIds:t}=Zf();if(t.length){this.events=this.events.filter(({uuid:e})=>t.includes(e));return}this.events.length=0},removeByIds(t){const{lockedIds:e}=Zf();if(e.length){this.events=this.events.filter(({uuid:r})=>!t.includes(r)||e.includes(r));return}this.events=this.events.filter(({uuid:r})=>!t.includes(r))},removeById(t){this.removeByIds([t])},removeByType(t){const{lockedIds:e}=Zf();if(e.length){this.events=this.events.filter(({type:r,uuid:n})=>r!==t||e.includes(n));return}this.events=this.events.filter(({type:r})=>r!==t)}}}),Rr={VAR_DUMP:Mr.VAR_DUMP,SMTP:Mr.SMTP,SENTRY:Mr.SENTRY,PROFILER:Mr.PROFILER,MONOLOG:Mr.MONOLOG,INSPECTOR:Mr.INSPECTOR,HTTP_DUMP:Mr.HTTP_DUMP,RAY_DUMP:Mr.RAY_DUMP,ALL_EVENTS:"all-events"},o2={[Rr.SENTRY]:[],[Rr.INSPECTOR]:[],[Rr.PROFILER]:[],[Rr.SMTP]:[],[Rr.RAY_DUMP]:[],[Rr.VAR_DUMP]:[],[Rr.HTTP_DUMP]:[],[Rr.ALL_EVENTS]:[]},{localStorage:ra}=window,U6=()=>{const t=ra==null?void 0:ra.getItem(wi.CACHED_EVENTS);return t?JSON.parse(t):o2},Aa=t=>{ra==null||ra.setItem(wi.CACHED_EVENTS,JSON.stringify(t))},n8=ys("useCachedIdsStore",{state:()=>({cachedIds:U6()}),getters:{cachedTypesList(t){return Object.entries(t.cachedIds).filter(([e,r])=>r.length>0).map(([e])=>e)}},actions:{setByType(t){const{events:e}=W6();e.filter(({type:r})=>r===t||t===Rr.ALL_EVENTS).forEach(r=>{this.cachedIds[t].push(r.uuid)}),Aa(this.cachedIds)},removeByType(t){this.cachedIds[t].length=0,Aa(this.cachedIds)},removeByIds(t){this.cachedTypesList.forEach(e=>{this.cachedIds[e]=this.cachedIds[e].filter(r=>t.includes(r))}),Aa(this.cachedIds)},removeById(t){this.removeByIds([t])},removeAll(){this.cachedIds=o2,Aa(this.cachedIds)},syncWithActive(t){if(!t.length){this.removeAll();return}this.cachedTypesList.forEach(e=>{this.cachedIds[e]=this.cachedIds[e].filter(r=>t.includes(r))}),Aa(this.cachedIds)}}});var G6=n_();const a8=oa(G6);export{Mr as E,Q6 as I,wi as L,Rr as P,gn as S,Z6 as _,Yd as a,J6 as b,ot as c,t8 as d,i2 as e,e8 as f,oa as g,oe as h,X6 as i,K6 as j,h6 as k,W6 as l,n8 as m,Zf as n,a8 as p,r8 as u};
