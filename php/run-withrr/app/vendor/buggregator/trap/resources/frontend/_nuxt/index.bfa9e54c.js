import{I as A,d as De,h as Ee,f as he,j as Ae,_ as Z,E as B,p as Fe,a as Ve,c as je,g as He,P as ce}from"./layout-sidebar.vue.66485d1b.js";import{P as qe}from"./page-header.68d25fa4.js";import{u as Ne}from"./use-http-dump.c688feed.js";import{u as j,R as We}from"./use-events.a9188a22.js";import{d as y,c as P,o as l,a as _,b as d,u as c,F,r as V,t as f,h as b,f as v,_ as k,n as J,g,q as G,D as Ge,s as Pe,v as Je,x as Ke,w as h,e as S,p as Y,i as ee,T as Se,U as Qe,l as ne}from"./entry.769d5560.js";import{I as Xe,u as Ze}from"./use-inspector.da727da8.js";import{C as X}from"./code-snippet.d9f3d8a2.js";import{S as Ye,u as et}from"./use-profiler.a17647dc.js";import{T,a as te}from"./table-base.7c3f5cae.js";import{S as tt}from"./dumper.11af9f7d.js";import{S as nt,u as st}from"./sentry-exception.f11b92a7.js";import{u as at}from"./use-smtp.40f741b0.js";import"./use-formats.c79ce0bd.js";function ot(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const s=document.implementation.createHTMLDocument(),n=s.createElement("base"),a=s.createElement("a");return s.head.appendChild(n),s.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}const rt=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function H(e){const t=[];for(let s=0,n=e.length;s<n;s++)t.push(e[s]);return t}function ae(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function it(e){const t=ae(e,"border-left-width"),s=ae(e,"border-right-width");return e.clientWidth+t+s}function lt(e){const t=ae(e,"border-top-width"),s=ae(e,"border-bottom-width");return e.clientHeight+t+s}function Le(e,t={}){const s=t.width||it(e),n=t.height||lt(e);return{width:s,height:n}}function ct(){let e,t;try{t=process}catch{}const s=t&&t.env?t.env.devicePixelRatio:null;return s&&(e=parseInt(s,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const D=16384;function ut(e){(e.width>D||e.height>D)&&(e.width>D&&e.height>D?e.width>e.height?(e.height*=D/e.width,e.width=D):(e.width*=D/e.height,e.height=D):e.width>D?(e.height*=D/e.width,e.width=D):(e.width*=D/e.height,e.height=D))}function dt(e,t={}){return e.toBlob?new Promise(s=>{e.toBlob(s,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(s=>{const n=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),a=n.length,o=new Uint8Array(a);for(let r=0;r<a;r+=1)o[r]=n.charCodeAt(r);s(new Blob([o],{type:t.type?t.type:"image/png"}))})}function oe(e){return new Promise((t,s)=>{const n=new Image;n.decode=()=>t(n),n.onload=()=>t(n),n.onerror=s,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function pt(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function _t(e,t,s){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),o=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${s}`),a.setAttribute("viewBox",`0 0 ${t} ${s}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),a.appendChild(o),o.appendChild(e),pt(a)}const z=(e,t)=>{if(e instanceof t)return!0;const s=Object.getPrototypeOf(e);return s===null?!1:s.constructor.name===t.name||z(s,t)};function mt(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function vt(e){return H(e).map(t=>{const s=e.getPropertyValue(t),n=e.getPropertyPriority(t);return`${t}: ${s}${n?" !important":""};`}).join(" ")}function ft(e,t,s){const n=`.${e}:${t}`,a=s.cssText?mt(s):vt(s);return document.createTextNode(`${n}{${a}}`)}function ge(e,t,s){const n=window.getComputedStyle(e,s),a=n.getPropertyValue("content");if(a===""||a==="none")return;const o=rt();try{t.className=`${t.className} ${o}`}catch{return}const r=document.createElement("style");r.appendChild(ft(o,s,n)),t.appendChild(r)}function ht(e,t){ge(e,t,":before"),ge(e,t,":after")}const ye="application/font-woff",we="image/jpeg",gt={woff:ye,woff2:ye,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:we,jpeg:we,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function yt(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function pe(e){const t=yt(e).toLowerCase();return gt[t]||""}function wt(e){return e.split(/,/)[1]}function de(e){return e.search(/^(data:)/)!==-1}function Re(e,t){return`data:${t};base64,${e}`}async function Ie(e,t,s){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((o,r)=>{const i=new FileReader;i.onerror=r,i.onloadend=()=>{try{o(s({res:n,result:i.result}))}catch(u){r(u)}},i.readAsDataURL(a)})}const ue={};function bt(e,t,s){let n=e.replace(/\?.*/,"");return s&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function _e(e,t,s){const n=bt(e,t,s.includeQueryParams);if(ue[n]!=null)return ue[n];s.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const o=await Ie(e,s.fetchRequestInit,({res:r,result:i})=>(t||(t=r.headers.get("Content-Type")||""),wt(i)));a=Re(o,t)}catch(o){a=s.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;o&&(r=typeof o=="string"?o:o.message),r&&console.warn(r)}return ue[n]=a,a}async function $t(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):oe(t)}async function kt(e,t){if(e.currentSrc){const o=document.createElement("canvas"),r=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,r==null||r.drawImage(e,0,0,o.width,o.height);const i=o.toDataURL();return oe(i)}const s=e.poster,n=pe(s),a=await _e(s,n,t);return oe(a)}async function Ct(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await ie(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function Et(e,t){return z(e,HTMLCanvasElement)?$t(e):z(e,HTMLVideoElement)?kt(e,t):z(e,HTMLIFrameElement)?Ct(e):e.cloneNode(!1)}const Pt=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function St(e,t,s){var n,a;let o=[];return Pt(e)&&e.assignedNodes?o=H(e.assignedNodes()):z(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?o=H(e.contentDocument.body.childNodes):o=H(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),o.length===0||z(e,HTMLVideoElement)||await o.reduce((r,i)=>r.then(()=>ie(i,s)).then(u=>{u&&t.appendChild(u)}),Promise.resolve()),t}function Lt(e,t){const s=t.style;if(!s)return;const n=window.getComputedStyle(e);n.cssText?(s.cssText=n.cssText,s.transformOrigin=n.transformOrigin):H(n).forEach(a=>{let o=n.getPropertyValue(a);a==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),z(e,HTMLIFrameElement)&&a==="display"&&o==="inline"&&(o="block"),a==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),s.setProperty(a,o,n.getPropertyPriority(a))})}function Rt(e,t){z(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),z(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function It(e,t){if(z(e,HTMLSelectElement)){const s=t,n=Array.from(s.children).find(a=>e.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function xt(e,t){return z(t,Element)&&(Lt(e,t),ht(e,t),Rt(e,t),It(e,t)),t}async function Tt(e,t){const s=e.querySelectorAll?e.querySelectorAll("use"):[];if(s.length===0)return e;const n={};for(let o=0;o<s.length;o++){const i=s[o].getAttribute("xlink:href");if(i){const u=e.querySelector(i),C=document.querySelector(i);!u&&C&&!n[i]&&(n[i]=await ie(C,t,!0))}}const a=Object.values(n);if(a.length){const o="http://www.w3.org/1999/xhtml",r=document.createElementNS(o,"svg");r.setAttribute("xmlns",o),r.style.position="absolute",r.style.width="0",r.style.height="0",r.style.overflow="hidden",r.style.display="none";const i=document.createElementNS(o,"defs");r.appendChild(i);for(let u=0;u<a.length;u++)i.appendChild(a[u]);e.appendChild(r)}return e}async function ie(e,t,s){return!s&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>Et(n,t)).then(n=>St(e,n,t)).then(n=>xt(e,n)).then(n=>Tt(n,t))}const xe=/url\((['"]?)([^'"]+?)\1\)/g,Ot=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Ut=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Mt(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Bt(e){const t=[];return e.replace(xe,(s,n,a)=>(t.push(a),s)),t.filter(s=>!de(s))}async function zt(e,t,s,n,a){try{const o=s?ot(t,s):t,r=pe(t);let i;if(a){const u=await a(o);i=Re(u,r)}else i=await _e(o,r,n);return e.replace(Mt(t),`$1${i}$3`)}catch{}return e}function Dt(e,{preferredFontFormat:t}){return t?e.replace(Ut,s=>{for(;;){const[n,,a]=Ot.exec(s)||[];if(!a)return"";if(a===t)return`src: ${n};`}}):e}function Te(e){return e.search(xe)!==-1}async function Oe(e,t,s){if(!Te(e))return e;const n=Dt(e,s);return Bt(n).reduce((o,r)=>o.then(i=>zt(i,r,t,s)),Promise.resolve(n))}async function se(e,t,s){var n;const a=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(a){const o=await Oe(a,null,s);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function At(e,t){await se("background",e,t)||await se("background-image",e,t),await se("mask",e,t)||await se("mask-image",e,t)}async function Ft(e,t){const s=z(e,HTMLImageElement);if(!(s&&!de(e.src))&&!(z(e,SVGImageElement)&&!de(e.href.baseVal)))return;const n=s?e.src:e.href.baseVal,a=await _e(n,pe(n),t);await new Promise((o,r)=>{e.onload=o,e.onerror=r;const i=e;i.decode&&(i.decode=o),i.loading==="lazy"&&(i.loading="eager"),s?(e.srcset="",e.src=a):e.href.baseVal=a})}async function Vt(e,t){const n=H(e.childNodes).map(a=>Ue(a,t));await Promise.all(n).then(()=>e)}async function Ue(e,t){z(e,Element)&&(await At(e,t),await Ft(e,t),await Vt(e,t))}function jt(e,t){const{style:s}=e;t.backgroundColor&&(s.backgroundColor=t.backgroundColor),t.width&&(s.width=`${t.width}px`),t.height&&(s.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(a=>{s[a]=n[a]}),e}const be={};async function $e(e){let t=be[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},be[e]=t,t}async function ke(e,t){let s=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,o=(s.match(/url\([^)]+\)/g)||[]).map(async r=>{let i=r.replace(n,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),Ie(i,t.fetchRequestInit,({result:u})=>(s=s.replace(r,`url(${u})`),[r,u]))});return Promise.all(o).then(()=>s)}function Ce(e){if(e==null)return[];const t=[],s=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(s,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const u=a.exec(n);if(u===null)break;t.push(u[0])}n=n.replace(a,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,r="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",i=new RegExp(r,"gi");for(;;){let u=o.exec(n);if(u===null){if(u=i.exec(n),u===null)break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(u[0])}return t}async function Ht(e,t){const s=[],n=[];return e.forEach(a=>{if("cssRules"in a)try{H(a.cssRules||[]).forEach((o,r)=>{if(o.type===CSSRule.IMPORT_RULE){let i=r+1;const u=o.href,C=$e(u).then(E=>ke(E,t)).then(E=>Ce(E).forEach(m=>{try{a.insertRule(m,m.startsWith("@import")?i+=1:a.cssRules.length)}catch(R){console.error("Error inserting rule from remote css",{rule:m,error:R})}})).catch(E=>{console.error("Error loading remote css",E.toString())});n.push(C)}})}catch(o){const r=e.find(i=>i.href==null)||document.styleSheets[0];a.href!=null&&n.push($e(a.href).then(i=>ke(i,t)).then(i=>Ce(i).forEach(u=>{r.insertRule(u,a.cssRules.length)})).catch(i=>{console.error("Error loading remote stylesheet",i)})),console.error("Error inlining remote css file",o)}}),Promise.all(n).then(()=>(e.forEach(a=>{if("cssRules"in a)try{H(a.cssRules||[]).forEach(o=>{s.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${a.href}`,o)}}),s))}function qt(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Te(t.style.getPropertyValue("src")))}async function Nt(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const s=H(e.ownerDocument.styleSheets),n=await Ht(s,t);return qt(n)}async function Wt(e,t){const s=await Nt(e,t);return(await Promise.all(s.map(a=>{const o=a.parentStyleSheet?a.parentStyleSheet.href:null;return Oe(a.cssText,o,t)}))).join(`
`)}async function Gt(e,t){const s=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Wt(e,t);if(s){const n=document.createElement("style"),a=document.createTextNode(s);n.appendChild(a),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function Jt(e,t={}){const{width:s,height:n}=Le(e,t),a=await ie(e,t,!0);return await Gt(a,t),await Ue(a,t),jt(a,t),await _t(a,s,n)}async function Me(e,t={}){const{width:s,height:n}=Le(e,t),a=await Jt(e,t),o=await oe(a),r=document.createElement("canvas"),i=r.getContext("2d"),u=t.pixelRatio||ct(),C=t.canvasWidth||s,E=t.canvasHeight||n;return r.width=C*u,r.height=E*u,t.skipAutoScale||ut(r),r.style.width=`${C}`,r.style.height=`${E}`,t.backgroundColor&&(i.fillStyle=t.backgroundColor,i.fillRect(0,0,r.width,r.height)),i.drawImage(o,0,0,r.width,r.height),r}async function Kt(e,t={}){return(await Me(e,t)).toDataURL()}async function Qt(e,t={}){const s=await Me(e,t);return await dt(s)}const Xt={class:"preview-card-footer"},Zt={class:"preview-card-footer__tags"},Yt={class:"preview-card-footer__tag-key"},en={class:"preview-card-footer__tag-value"},tn={key:0,class:"preview-card-footer__host"},nn={class:"preview-card-footer__host-name"},sn=y({__name:"preview-card-footer",props:{serverName:{default:""},originConfig:{default:null}},setup(e){const t={php_version:"php",laravel_version:"laravel",symfony_version:"symfony",line_number:"line",hostname:"host",environment:"env"},s=e;let n=P(()=>s.originConfig?Object.entries(s.originConfig).reduce((a,[o,r])=>{if(!r||r==="undefined")return a;const i=t[o]||o;return a[i]=r,a},{}):{});return(a,o)=>(l(),_("div",Xt,[d("div",Zt,[c(n)?(l(!0),_(F,{key:0},V(c(n),(r,i)=>(l(),_("div",{key:i,class:"preview-card-footer__tag"},[d("span",Yt,f(i)+":",1),d("span",en,f(r),1)]))),128)):b("",!0)]),a.serverName?(l(),_("div",tn,[v(c(A),{name:"host",class:"preview-card-footer__host-icon"}),d("span",nn,f(a.serverName),1)])):b("",!0)]))}}),an=k(sn,[["__scopeId","data-v-37963a45"]]);var re=(e=>(e.File="file",e.Image="image",e))(re||{});const on={class:"preview-card-header"},rn={class:"preview-card-header__tags"},ln=["href"],cn={key:0,class:"preview-card-header__buttons"},un={class:"preview-card-header__buttons-expand"},dn={class:"preview-card-header__buttons-expand-list"},pn=["disabled"],_n=y({__name:"preview-card-header",props:{eventType:{},eventId:{},eventUrl:{default:""},tags:{default:()=>[]},isOpen:{type:Boolean},isLocked:{type:Boolean},isVisibleControls:{type:Boolean}},emits:["delete","toggleView","copy","download","lock"],setup(e,{emit:t}){const s=e,n=t,a=()=>{n("toggleView",!0)},o=()=>{n("delete",!0)},r=()=>{n("copy",!0)},i=()=>{n("download",re.Image)},u=()=>{n("download",re.File)},C=()=>{n("lock",!0)},E=P(()=>s.tags.length>0);return(m,R)=>(l(),_("div",on,[d("div",rn,[m.eventUrl?(l(),_("a",{key:0,href:m.eventUrl,target:"_blank",class:"preview-card-header__tag preview-card-header__tag--json",title:"Open JSON payload for this event in new tab"}," JSON ",8,ln)):b("",!0),E.value?(l(!0),_(F,{key:1},V(m.tags,U=>(l(),_("div",{key:U,ref_for:!0,ref:"tags",class:J(["preview-card-header__tag",`preview-card-header__tag--${m.eventType}`])},f(U),3))),128)):b("",!0)]),m.isVisibleControls?(l(),_("div",cn,[d("div",un,[d("button",{class:"preview-card-header__button preview-card-header__button--copy",title:"Copy event as PNG image to clipboard",onClick:r},[v(c(A),{name:"copy",class:"preview-card-header__button-icon"})]),d("div",dn,[d("button",{class:"preview-card-header__button preview-card-header__button--copy",title:"Download event as JSON file",onClick:u},[v(c(A),{name:"file-download",class:"preview-card-header__button-icon"})]),d("button",{class:"preview-card-header__button preview-card-header__button--copy",onClick:i,title:"Download event as PNG image"},[v(c(A),{name:"image-download",class:"preview-card-header__button-icon"})])])]),d("button",{class:J(["preview-card-header__button preview-card-header__button--collapse",{"preview-card-header__button--collapse-closed":!m.isOpen}]),title:"Collapse event",onClick:a},[m.isOpen?(l(),g(c(A),{key:0,name:"minus",class:"preview-card-header__button-icon"})):b("",!0),m.isOpen?b("",!0):(l(),g(c(A),{key:1,name:"plus",class:"preview-card-header__button-icon"}))],2),d("button",{class:J(["preview-card-header__button preview-card-header__button--lock",{"preview-card-header__button--locked":m.isLocked}]),title:"Lock event. Locked events will not be deleted",onClick:C},[v(c(A),{name:"lock",class:"preview-card-header__button-icon"})],2),d("button",{class:"preview-card-header__button preview-card-header__button--delete",title:"Delete event",disabled:m.isLocked,onClick:o},[v(c(A),{name:"times",class:"preview-card-header__button-icon"})],8,pn)])):b("",!0)]))}}),mn=k(_n,[["__scopeId","data-v-a6630d8c"]]),vn=["id"],fn={key:0,ref:"event_body",class:"preview-card__body"},hn=y({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=G(!1),n=G(!1),a=G(!1),o=G(!0),r=G(null),{events:i,lockedIds:u}=j(),C=P(()=>[Ee(t.event.date).format("HH:mm:ss"),...t.event.labels]),E=P(()=>{const $=Object.entries(t.event.origin||{}).map(([K,Q])=>[K,String(Q)]).filter(([K,Q])=>!!Q);return $.length>0?Object.fromEntries($):null}),m=P(()=>`${We}/api/event/${t.event.id}`),R=()=>{s.value=!s.value},U=($=!0)=>{o.value=$},L=()=>i==null?void 0:i.removeById(t.event.id),p=()=>{((u==null?void 0:u.items.value)||[]).includes(t.event.id)?(u==null||u.remove(t.event.id),n.value=!1):(u==null||u.add(t.event.id),n.value=!0)},w=()=>{U(!1),r.value&&Kt(r.value).then($=>{he($,`${t.event.type}-${t.event.id}.png`)}).catch($=>console.error($)).finally(()=>{U(!0)})},M=async()=>{try{const $=await(i==null?void 0:i.getItem(t.event.id));$&&he(JSON.stringify($,null,2),`${t.event.type}-${t.event.id}.json`,"application/json")}catch($){console.error($)}},x=$=>{$===re.Image?w():M()},O=()=>{U(!1),r.value&&Qt(r.value).then($=>{$&&navigator.clipboard.write([new ClipboardItem({[$.type]:$})])}).catch($=>console.error($)).finally(()=>{U(!0)})},W=De(()=>{if(r.value){const $=r.value,{top:K,height:Q}=$.getBoundingClientRect(),ve=Q,fe=K-ve<=window.innerHeight&&K+Q+ve*2>=0;!fe&&!a.value?(a.value=!0,$.style.height=`${$.clientHeight}px`):fe&&a.value&&(a.value=!1,$.style.height="auto")}},30);return Ge(()=>{n.value=u.items.value.includes(t.event.id)}),Pe(()=>{window.addEventListener("scroll",W)}),Je(()=>{window.removeEventListener("scroll",W)}),($,K)=>(l(),_("div",{id:$.event.id,ref_key:"eventRef",ref:r,class:J(["preview-card",{"preview-card--collapsed":s.value}])},[v(mn,{class:"preview-card__header","event-url":m.value,"event-type":$.event.type,"event-id":$.event.id,tags:C.value,"is-open":!s.value&&!a.value,"is-locked":n.value,"is-visible-controls":o.value&&!a.value,onToggleView:R,onDelete:L,onCopy:O,onDownload:x,onLock:p},null,8,["event-url","event-type","event-id","tags","is-open","is-locked","is-visible-controls"]),!s.value&&!a.value?(l(),_("div",fn,[Ke($.$slots,"default",{},void 0,!0)],512)):b("",!0),!s.value&&!a.value&&(E.value||$.event.serverName)?(l(),g(an,{key:1,class:"preview-card__footer","server-name":$.event.serverName,"origin-config":E.value},null,8,["server-name","origin-config"])):b("",!0)],10,vn))}}),N=k(hn,[["__scopeId","data-v-5c41013e"]]),gn={class:"value-dump"},yn=["innerHTML"],wn=y({__name:"value-dump",props:{value:{},type:{default:""}},setup(e){var r;const t=e,s=Ae(t.value)&&t.type==="string",n=((r=String(t.value).match(/(sf-dump-[0-9]+)/i))==null?void 0:r[0])||null,o=(()=>t.type==="boolean"?t.value==="1"?"true":"false":n?t.value.replace(/<(style|script)\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/(style|script)>/gi,""):s?`"${t.value}"`:t.value)();return Pe(()=>{const i=tt(window.document);n&&i(n)}),(i,u)=>(l(),_("div",gn,[c(s)?(l(),g(c(X),{key:0,language:"php",code:c(o)},null,8,["code"])):b("",!0),c(s)?b("",!0):(l(),_("div",{key:1,class:"value-dump__html",innerHTML:c(o)},null,8,yn))]))}}),q=k(wn,[["__scopeId","data-v-313172ee"]]),bn={class:"preview-card__method"},$n={class:"preview-card__uri"},kn=y({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=`/http-dumps/${t.event.id}`,n=decodeURI(t.event.payload.request.uri);return(a,o)=>{const r=Z;return l(),g(c(N),{class:"preview-card",event:a.event},{default:h(()=>[v(r,{tag:"div",to:s,class:"preview-card__link"},{default:h(()=>[d("span",bn,f(a.event.payload.request.method),1),S(": "),d("span",$n,"/"+f(c(n)),1)]),_:1})]),_:1},8,["event"])}}}),Cn=k(kn,[["__scopeId","data-v-e995da64"]]),En=y({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=P(()=>`/inspector/${t.event.id}`);return(n,a)=>{const o=Z;return l(),g(c(N),{class:"preview-card",event:n.event},{default:h(()=>[v(o,{to:s.value,class:"preview-card__link"},{default:h(()=>[v(Xe,{transaction:n.event.payload[0]},null,8,["transaction"])]),_:1},8,["to"])]),_:1},8,["event"])}}}),Pn=k(En,[["__scopeId","data-v-cadf806c"]]),Sn=e=>{var s,n;const t=((n=(s=e.payload)==null?void 0:s.context)==null?void 0:n.source)||null;return{id:e.uuid,type:B.MONOLOG,labels:[B.MONOLOG],origin:t,serverName:"",date:e.timestamp?new Date(e.timestamp*1e3):null,payload:e.payload}},Ln=()=>({normalizeMonologEvent:Sn}),Rn=y({__name:"preview-card",props:{event:{}},setup(e){return(t,s)=>(l(),g(c(N),{class:"preview-card",event:t.event},{default:h(()=>[v(c(X),{class:"preview-card__snippet",code:t.event.payload.message},null,8,["code"]),t.event.payload.context?(l(),g(c(X),{key:0,class:"preview-card__snippet",language:"json",code:t.event.payload.context},null,8,["code"])):b("",!0),(l(!0),_(F,null,V(t.event.payload.extra,(n,a)=>(l(),g(c(X),{key:a,class:"preview-card__snippet",code:{[a]:n}},null,8,["code"]))),128))]),_:1},8,["event"]))}}),In=k(Rn,[["__scopeId","data-v-0daee61c"]]),xn=y({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=P(()=>`/profiler/${t.event.id}`);return(n,a)=>{const o=Z;return l(),g(c(N),{class:"profiler-preview",event:n.event},{default:h(()=>[v(o,{tag:"div",to:s.value,class:"profiler-preview__link"},{default:h(()=>[v(c(Ye),{cost:n.event.payload.peaks},null,8,["cost"])]),_:1},8,["to"])]),_:1},8,["event"])}}}),Tn=k(xn,[["__scopeId","data-v-c4cbdaa2"]]);var I=(e=>(e.LOG="log",e.CUSTOM="custom",e.CALLER="caller",e.CARBON="carbon",e.EXCEPTION="exception",e.MEASURE="measure",e.NOTIFY="notify",e.MAILABLE="mailable",e.TABLE="table",e.TRACE="trace",e.QUERY="executed_query",e.APPLICATION_LOG="application_log",e.ELOQUENT="eloquent_model",e.VIEW="view",e.EVENT="event",e.JOB="job_event",e.LOCK="create_lock",e))(I||{});const On=e=>{var r,i,u,C,E;let t={php_version:(r=e.payload.meta)==null?void 0:r.php_version,laravel_version:"",symfony_version:""};(i=e.payload.meta)!=null&&i.laravel_version?t.laravel_version=(u=e.payload.meta)==null?void 0:u.laravel_version:(C=e.payload.meta)!=null&&C.symfony_version&&(t.symfony_version=(E=e.payload.meta)==null?void 0:E.symfony_version),e.payload.payloads.forEach(m=>{m.origin&&(t={...t,...Fe(m.origin,["file","line_number","hostname"])})});const s=e.payload.payloads.filter(m=>m.type==="label").map(m=>{var R;return(R=m==null?void 0:m.content)==null?void 0:R.label}).filter(Boolean),n=e.payload.payloads.filter(m=>Object.values(I).includes(m.type)).map(m=>m.type).filter(Boolean),a=e.payload.payloads.filter(m=>m.type==="color").map(m=>{var R;return(R=m.content)==null?void 0:R.color}).filter(Boolean).shift()||"black",o=e.payload.payloads.filter(m=>m.type==="size").map(m=>{var R;return(R=m.content)==null?void 0:R.size}).filter(Boolean).shift()||"md";return{id:e.uuid,type:B.RAY_DUMP,labels:[B.RAY_DUMP,...s,...n].filter((m,R,U)=>U.indexOf(m)===R),origin:t,serverName:"",date:e.timestamp?new Date(e.timestamp*1e3):null,payload:e.payload,meta:{color:a,size:o}}},Un=()=>({normalizeRayEvent:On}),Mn=e=>(Y("data-v-ecd0d089"),e=e(),ee(),e),Bn={class:"ray-frame"},zn=Mn(()=>d("h3",null,"Called from",-1)),Dn=["href"],An={class:"ray-frame__code"},Fn=y({__name:"ray-frame",props:{frame:{}},setup(e){const t=e,s=P(()=>`phpstorm://open?file=${encodeURIComponent(t.frame.file_name)}&line=${t.frame.line_number}`);return(n,a)=>(l(),_("div",Bn,[zn,d("a",{class:"ray-frame__name",href:s.value},[d("code",An,f(n.frame.class||"null")+":"+f(n.frame.method),1)],8,Dn)]))}}),Vn=k(Fn,[["__scopeId","data-v-ecd0d089"]]),jn={class:"ray-carbon"},Hn=y({__name:"ray-carbone",props:{carbone:{}},setup(e){return(t,s)=>(l(),_("div",jn,[v(c(te),null,{default:h(()=>[v(c(T),{title:"Formatted"},{default:h(()=>[S(f(t.carbone.formatted),1)]),_:1}),v(c(T),{title:"Timezone"},{default:h(()=>[S(f(t.carbone.timezone),1)]),_:1}),v(c(T),{title:"Timestamp"},{default:h(()=>[S(f(t.carbone.timestamp),1)]),_:1})]),_:1})]))}}),qn=k(Hn,[["__scopeId","data-v-3067ea6d"]]),Nn=e=>(Y("data-v-f7e2bc9b"),e=e(),ee(),e),Wn={class:"ray-file__header"},Gn=["title"],Jn=Nn(()=>d("span",{class:"ray-file__title-in"},"at line",-1)),Kn={class:"ray-file__title-in"},Qn={key:0,class:"ray-file__body"},Xn={class:"ray-file__snippet-num"},Zn=y({__name:"ray-file",props:{file:{}},setup(e){const t=e,s=G(!0),n=P(()=>t.file.snippet?t.file.snippet.length>0:!1);return(a,o)=>(l(),_("div",{class:"ray-file",onClick:o[0]||(o[0]=r=>s.value=!s.value)},[d("div",Wn,[d("div",{class:"ray-file__title",title:a.file.file_name},[d("div",null,[S(f(a.file.class||"null")+":"+f(a.file.method)+" ",1),Jn,S(" "+f(a.file.line_number),1)]),d("span",Kn,f(a.file.file_name),1)],8,Gn),n.value?(l(),g(c(A),{key:0,class:J(["ray-file__icon",{"ray-file__icon--collapsed":s.value}]),name:"collapsed"},null,8,["class"])):b("",!0)]),n.value&&!s.value?(l(),_("div",Qn,[(l(!0),_(F,null,V(a.file.snippet,r=>(l(),_("div",{key:r.line_number,class:J(["ray-file__snippet",{"ray-file__snippet--highlight":a.file.line_number===r.line_number}])},[d("div",Xn,f(r.line_number)+".",1),d("pre",null,f(r.text),1)],2))),128))])):b("",!0)]))}}),me=k(Zn,[["__scopeId","data-v-f7e2bc9b"]]),Yn={class:"ray-exception"},es={class:"ray-exception__texts"},ts={class:"ray-exception__texts-in"},ns={class:"ray-exception__texts-code"},ss={class:"ray-exception__text"},as={class:"ray-exception__files"},os=y({__name:"ray-exception",props:{exception:{}},setup(e){return(t,s)=>(l(),_("div",Yn,[d("div",es,[d("h3",ts,[d("code",ns,f(t.exception.class),1)]),d("div",ss,f(t.exception.message),1)]),d("div",as,[(l(!0),_(F,null,V(t.exception.frames,(n,a)=>(l(),g(c(me),{key:a,file:n,collapsed:a!==0},null,8,["file","collapsed"]))),128))])]))}}),rs=k(os,[["__scopeId","data-v-1f7685d1"]]),is={class:"ray-trace"},ls=y({__name:"ray-trace",props:{frames:{}},setup(e){return(t,s)=>(l(),_("div",is,[(l(!0),_(F,null,V(t.frames,n=>(l(),g(c(me),{key:`${n.file_name}-${n.line_number}`,file:n},null,8,["file"]))),128))]))}}),cs=k(ls,[["__scopeId","data-v-a2a18ff8"]]),us={class:"ray-origin"},ds=y({__name:"ray-origin",props:{origin:{}},setup(e){const t=e,s=P(()=>({file_name:t.origin.file,line_number:t.origin.line_number,class_name:"",function_name:""}));return(n,a)=>(l(),_("div",us,[v(c(me),{file:s.value},null,8,["file"])]))}}),ps=k(ds,[["__scopeId","data-v-0841d3c8"]]),_s={class:"ray-measure"},ms={key:0,class:"ray-measure__title"},vs=y({__name:"ray-measure",props:{measure:{}},setup(e){const t=e,s=i=>(i/1e3).toFixed(4),n=(i,u="",C="")=>{if(!i)return"n/a";const E=["Bytes","KB","MB","GB","TB"],m=Math.min(Number(parseInt(String(Math.floor(Math.log(i)/Math.log(1024))),10)),E.length-1);return`${(i/1024**m).toFixed(2)}${u} ${E[m]}${C}`},a=P(()=>`${s(t.measure.total_time)} s`),o=P(()=>`${s(t.measure.time_since_last_call)} s`),r=P(()=>n(t.measure.max_memory_usage_during_total_time));return(i,u)=>(l(),_("div",_s,[i.measure.is_new_timer?(l(),_("h3",ms," Start measuring performance... ")):(l(),g(c(te),{key:1},{default:h(()=>[v(c(T),{title:"Total time"},{default:h(()=>[S(f(a.value),1)]),_:1}),v(c(T),{title:"Time since last call"},{default:h(()=>[S(f(o.value),1)]),_:1}),v(c(T),{title:"Maximum memory usage"},{default:h(()=>[S(f(r.value),1)]),_:1})]),_:1}))]))}}),fs=k(vs,[["__scopeId","data-v-02cc1965"]]),hs={class:"ray-table"},gs=y({__name:"ray-table",props:{table:{}},setup(e){return(t,s)=>(l(),_("div",hs,[v(c(te),null,{default:h(()=>[(l(!0),_(F,null,V(t.table.values,(n,a)=>(l(),g(c(T),{key:a,title:a},{default:h(()=>[v(c(q),{value:n},null,8,["value"])]),_:2},1032,["title"]))),128))]),_:1})]))}}),ys=k(gs,[["__scopeId","data-v-d4129261"]]),ws=e=>(Y("data-v-eb328294"),e=e(),ee(),e),bs={class:"ray-mail"},$s={class:"ray-mail__collapsable"},ks=ws(()=>d("span",null,"HTML",-1)),Cs={key:0,class:"ray-mail__body"},Es=["innerHTML"],Ps=y({__name:"ray-mail",props:{content:{}},setup(e){const t=G(!0),s=n=>(n.map(o=>`${o.name}[${o.email}]`)||[]).join(", ");return(n,a)=>(l(),_("div",bs,[v(c(te),null,{default:h(()=>[n.content.subject?(l(),g(c(T),{key:0,title:"Subject"},{default:h(()=>[S(f(n.content.subject),1)]),_:1})):b("",!0),n.content.mailable_class?(l(),g(c(T),{key:1,title:"Mailable class"},{default:h(()=>[S(f(n.content.mailable_class),1)]),_:1})):b("",!0),n.content.from&&n.content.from.length>0?(l(),g(c(T),{key:2,title:"From"},{default:h(()=>[S(f(s(n.content.from)),1)]),_:1})):b("",!0),n.content.to&&n.content.to.length>0?(l(),g(c(T),{key:3,title:"To"},{default:h(()=>[S(f(s(n.content.to)),1)]),_:1})):b("",!0),n.content.cc&&n.content.cc.length>0?(l(),g(c(T),{key:4,title:"Cc"},{default:h(()=>[S(f(s(n.content.cc)),1)]),_:1})):b("",!0),n.content.bcc&&n.content.bcc.length>0?(l(),g(c(T),{key:5,title:"Bcc"},{default:h(()=>[S(f(s(n.content.bcc)),1)]),_:1})):b("",!0),n.content.reply_to&&n.content.reply_to.length>0?(l(),g(c(T),{key:6,title:"Reply to"},{default:h(()=>[S(f(s(n.content.reply_to)),1)]),_:1})):b("",!0)]),_:1}),d("div",$s,[d("h3",{class:"ray-mail__collapsable-header",onClick:a[0]||(a[0]=o=>t.value=!t.value)},[ks,v(c(A),{class:J(["ray-mail__icon",{"ray-mail__icon--collapsed":t.value}]),name:"collapsed"},null,8,["class"])]),t.value?b("",!0):(l(),_("div",Cs,[d("div",{innerHTML:n.content.html},null,8,Es)]))])]))}}),Ss=k(Ps,[["__scopeId","data-v-eb328294"]]),Ls={class:"ray-log"},Rs=y({__name:"ray-log",props:{log:{}},setup(e){return(t,s)=>(l(),_("div",Ls,[t.log?(l(),g(c(q),{key:0,value:String(t.log)},null,8,["value"])):b("",!0)]))}}),Is=k(Rs,[["__scopeId","data-v-01326fa2"]]),xs={class:"ray-view"},Ts={class:"ray-view__title"},Os={class:"ray-view__code"},Us=y({__name:"ray-view",props:{view:{}},setup(e){return(t,s)=>(l(),_("div",xs,[d("h3",Ts,[S(" View: "),d("code",Os,f(t.view.view_path_relative_to_project_root),1)]),v(c(q),{value:t.view.data},null,8,["value"])]))}}),Ms=k(Us,[["__scopeId","data-v-7e733e70"]]),Bs={class:"ray-job"},zs=y({__name:"ray-job",props:{content:{}},setup(e){return(t,s)=>(l(),_("div",Bs,[v(c(q),{value:t.content.job},null,8,["value"])]))}}),Ds=k(zs,[["__scopeId","data-v-da487a97"]]),As={class:"ray-eloquent"},Fs={class:"ray-eloquent__title"},Vs={class:"ray-eloquent__title-in"},js=y({__name:"ray-eloquent",props:{content:{}},setup(e){return(t,s)=>(l(),_("div",As,[d("h3",Fs,[S(" Class name: "),d("code",Vs,f(t.content.class_name),1)]),v(c(q),{value:t.content.attributes},null,8,["value"])]))}}),Hs=k(js,[["__scopeId","data-v-199e8a0b"]]),qs={class:"ray-query"},Ns=y({__name:"ray-query",props:{content:{}},setup(e){const t=e,s=P(()=>{var n,a;return(((n=t.content)==null?void 0:n.bindings)||[]).reduce((o,r)=>(o||"").replace(/\?/,`'${r}'`),((a=t.content)==null?void 0:a.sql)||"")});return(n,a)=>(l(),_("div",qs,[v(c(X),{language:"sql",code:s.value},null,8,["code"]),v(c(te),null,{default:h(()=>[v(c(T),{title:"Connection name"},{default:h(()=>[S(f(n.content.connection_name),1)]),_:1}),v(c(T),{title:"Time"},{default:h(()=>[S(f(n.content.time)+"ms ",1)]),_:1})]),_:1})]))}}),Ws=k(Ns,[["__scopeId","data-v-4589a9b7"]]),Gs={class:"ray-event"},Js={class:"ray-event__text"},Ks={class:"ray-event__text-in"},Qs=y({__name:"ray-event",props:{content:{}},setup(e){return(t,s)=>(l(),_("div",Gs,[t.content.class_based_event?(l(),g(c(q),{key:0,value:t.content.event},null,8,["value"])):b("",!0),d("h3",Js,[S(" Event: "),d("code",Ks,f(t.content.name),1)]),t.content.payload?(l(),g(c(q),{key:1,value:String(t.content.payload)},null,8,["value"])):b("",!0)]))}}),Xs=k(Qs,[["__scopeId","data-v-abebf068"]]),le=e=>(Y("data-v-6ca44234"),e=e(),ee(),e),Zs={class:"ray-lock"},Ys=["disabled"],ea=le(()=>d("span",{class:"ray-lock__button-icon"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 20 20"},[d("path",{fill:"green","fill-rule":"evenodd",d:"M16.75 10.83L4.55 19A1 1 0 0 1 3 18.13V1.87A1 1 0 0 1 4.55 1l12.2 8.13a1 1 0 0 1 0 1.7z"})])],-1)),ta=le(()=>d("span",null,"Continue",-1)),na=[ea,ta],sa=["disabled"],aa=le(()=>d("span",{class:"ray-lock__button-text"},null,-1)),oa=le(()=>d("span",null,"Stop execution",-1)),ra=[aa,oa],ia=y({__name:"ray-lock",props:{name:{}},setup(e){const t=e,s=G(!1),{rayExecution:n}=j(),a=()=>{s.value=!0,n.continue(t.name)},o=()=>{s.value=!0,n.stop(t.name)};return(r,i)=>(l(),_("div",Zs,[d("button",{disabled:s.value,class:"ray-lock__button ray-lock__button--continue",onClick:a},na,8,Ys),d("button",{disabled:s.value,class:"ray-lock__button ray-lock__button--stop",onClick:o},ra,8,sa)]))}}),la=k(ia,[["__scopeId","data-v-6ca44234"]]),ca={class:"ray-custom"},ua=y({__name:"ray-custom",props:{content:{}},setup(e){return(t,s)=>(l(),_("div",ca,[v(c(q),{value:t.content.content},null,8,["value"])]))}}),da={class:"ray-application-log"},pa=y({__name:"ray-application-log",props:{content:{}},setup(e){return(t,s)=>(l(),_("pre",da,f(t.content.value),1))}}),_a=k(pa,[["__scopeId","data-v-ae8ff9a7"]]),ma=y({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=P(()=>{const{meta:o,...r}=t.event;return r}),n=P(()=>[`text-${t.event.meta.size}`,`text-${t.event.meta.color}-900 dark:text-${t.event.meta.color}-200`]),a={[I.LOG]:{view:Is,getProps:o=>({log:o.content.values[0]})},[I.CUSTOM]:{view:ua,getProps:o=>({content:o.content})},[I.CALLER]:{view:Vn,getProps:o=>({frame:o.content.frame})},[I.CARBON]:{view:qn,getProps:o=>({carbone:o.content})},[I.TRACE]:{view:cs,getProps:o=>({frames:o.content.frames})},[I.EXCEPTION]:{view:rs,getProps:o=>({exception:o.content})},[I.TABLE]:{view:ys,getProps:o=>({table:o.content})},[I.MEASURE]:{view:fs,getProps:o=>({measure:o.content})},[I.QUERY]:{view:Ws,getProps:o=>({content:o.content})},[I.ELOQUENT]:{view:Hs,getProps:o=>({content:o.content})},[I.APPLICATION_LOG]:{view:_a,getProps:o=>({content:o.content})},[I.VIEW]:{view:Ms,getProps:o=>({view:o.content})},[I.EVENT]:{view:Xs,getProps:o=>({content:o.content})},[I.JOB]:{view:Ds,getProps:o=>({content:o.content})},[I.LOCK]:{view:la,getProps:o=>({name:o.content.name})},[I.MAILABLE]:{view:Ss,getProps:o=>({content:o.content})},[I.NOTIFY]:{view:ps,getProps:o=>({origin:o.origin})}};return(o,r)=>(l(),g(c(N),{class:"ray-dump-preview",event:s.value},{default:h(()=>[(l(!0),_(F,null,V(o.event.payload.payloads,i=>(l(),_(F,{key:`${i.type}-${i.origin?i.origin.line_number:""}`},[i.type&&a[i.type]?(l(),g(Se(a[i.type].view),Qe({key:0},{...a[i.type].getProps(i)},{class:n.value}),null,16,["class"])):b("",!0)],64))),128))]),_:1},8,["event"]))}}),va={class:"preview-card__title"},fa=["innerHTML"],ha={key:1},ga=["innerHTML"],ya=y({__name:"preview-card",props:{event:{},maxFrames:{default:3}},setup(e){const t=e,s=P(()=>`/sentry/${t.event.id}`),n=P(()=>{var i,u,C;return((C=(u=(i=t.event)==null?void 0:i.payload)==null?void 0:u.exception)==null?void 0:C.values)||[]}),a=P(()=>n.value.length>0),o=P(()=>{var i;return((i=t.event.payload)==null?void 0:i.message)||""}),r=P(()=>n.value.length>0?n.value[0]:{type:"Unknown",value:"Something went wrong",stacktrace:{frames:[]}});return(i,u)=>{const C=Z;return l(),g(c(N),{class:"preview-card",event:i.event},{default:h(()=>[a.value?(l(),g(c(nt),{key:0,exception:r.value,"max-frames":i.maxFrames},{default:h(()=>[v(C,{tag:"div",to:s.value,class:"preview-card__link"},{default:h(()=>[d("h3",va,f(r.value.type),1),d("pre",{class:"preview-card__text",innerHTML:r.value.value},null,8,fa)]),_:1},8,["to"])]),_:1},8,["exception","max-frames"])):b("",!0),o.value?(l(),_("div",ha,[v(C,{tag:"div",to:s.value,class:"preview-card__link"},{default:h(()=>[d("pre",{class:"preview-card__text",innerHTML:o.value},null,8,ga)]),_:1},8,["to"])])):b("",!0)]),_:1},8,["event"])}}}),wa=k(ya,[["__scopeId","data-v-e0d90242"]]),ba=e=>(Y("data-v-c84e0ea4"),e=e(),ee(),e),$a={class:"smtp-preview__link-title"},ka={class:"smtp-preview__link-text"},Ca=ba(()=>d("strong",null,"To:",-1)),Ea=y({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=P(()=>Ee(t.event.date).fromNow()),n=P(()=>`/smtp/${t.event.id}`);return(a,o)=>{const r=Z;return l(),g(c(N),{class:"smtp-preview",event:a.event},{default:h(()=>[v(r,{to:n.value,class:"smtp-preview__link"},{default:h(()=>[d("h3",$a,f(a.event.payload.subject),1),d("div",ka,[d("span",null,[Ca,S(" "+f(a.event.payload.to[0].email),1)]),d("span",null,f(s.value),1)])]),_:1},8,["to"])]),_:1},8,["event"])}}}),Pa=k(Ea,[["__scopeId","data-v-c84e0ea4"]]),Sa=e=>({id:e.uuid,type:B.VAR_DUMP,labels:[B.VAR_DUMP],origin:{file:e.payload.context.source.file,name:e.payload.context.source.name,line_number:e.payload.context.source.line},serverName:"",date:e.timestamp?new Date(e.timestamp*1e3):null,payload:e.payload}),La=()=>({normalizeVarDumpEvent:Sa}),Ra=y({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=P(()=>String(t.event.payload.payload.value));return(n,a)=>(l(),g(c(N),{class:"preview-card",event:n.event},{default:h(()=>[v(c(q),{value:s.value,type:n.event.payload.payload.type},null,8,["value","type"])]),_:1},8,["event"]))}}),Ia=k(Ra,[["__scopeId","data-v-4f26036b"]]),xa=y({__name:"preview-card-default",props:{event:{}},setup(e){return(t,s)=>(l(),g(c(N),{class:"event-card-fallback",event:t.event},{default:h(()=>[v(c(X),{class:"event-card-fallback__snippet",code:t.event},null,8,["code"])]),_:1},8,["event"]))}}),Ta=k(xa,[["__scopeId","data-v-3b466fb9"]]),Oa=y({__name:"event-card",props:{event:{}},setup(e){const{normalizeRayEvent:t}=Un(),{normalizeProfilerEvent:s}=et(),{normalizeVarDumpEvent:n}=La(),{normalizeMonologEvent:a}=Ln(),{normalizeSentryEvent:o}=st(),{normalizeSmtpEvent:r}=at(),{normalizeInspectorEvent:i}=Ze(),{normalizeHttpDumpEvent:u}=Ne(),{normalizeUnknownEvent:C}=j(),E=e,m={[B.SENTRY]:{view:wa,normalize:o},[B.MONOLOG]:{view:In,normalize:a},[B.VAR_DUMP]:{view:Ia,normalize:n},[B.RAY_DUMP]:{view:ma,normalize:t},[B.SMTP]:{view:Pa,normalize:r},[B.PROFILER]:{view:Tn,normalize:s},[B.INSPECTOR]:{view:Pn,normalize:i},[B.HTTP_DUMP]:{view:Cn,normalize:u},unknown:{view:Ta,normalize:C}},{view:R,normalize:U}=m[E.event.type];return(L,p)=>(l(),g(Se(c(R)),{event:c(U)(L.event)},null,8,["event"]))}}),Ua={class:"page-placeholder-item"},Ma=["href"],Ba=y({__name:"page-placeholder-item",props:{iconName:{},title:{},linkUrl:{}},setup(e){return(t,s)=>(l(),_("li",Ua,[v(c(A),{name:t.iconName,class:"page-placeholder-item__icon"},null,8,["name"]),d("a",{href:t.linkUrl,class:"page-placeholder-item__link",target:"_blank"},f(t.title),9,Ma)]))}}),za=k(Ba,[["__scopeId","data-v-6dfd10c1"]]),Da={class:"page-placeholder"},Aa={class:"page-placeholder__list"},Fa=y({__name:"page-placeholder",setup(e){const t=[{iconName:"github",title:"Github repository",linkUrl:"https://github.com/buggregator"},{iconName:"docs",title:"Documentation",linkUrl:"https://docs.buggregator.dev"},{iconName:"discord",title:"Join our discord",linkUrl:"https://discord.gg/vDsCD3EKUB"}];return(s,n)=>(l(),_("div",Da,[d("ul",Aa,[(l(),_(F,null,V(t,a=>v(za,{key:a.title,"icon-name":a.iconName,title:a.title,"link-name":a.linkName,"link-url":a.linkUrl},null,8,["icon-name","title","link-name","link-url"])),64))])]))}}),Va=k(Fa,[["__scopeId","data-v-4fca5b2b"]]);var Be={exports:{}};(function(e,t){(function(s,n){typeof Ve=="function"?e.exports=n():s.pluralize=n()})(je,function(){var s=[],n=[],a={},o={},r={};function i(p){return typeof p=="string"?new RegExp("^"+p+"$","i"):p}function u(p,w){return p===w?w:p===p.toLowerCase()?w.toLowerCase():p===p.toUpperCase()?w.toUpperCase():p[0]===p[0].toUpperCase()?w.charAt(0).toUpperCase()+w.substr(1).toLowerCase():w.toLowerCase()}function C(p,w){return p.replace(/\$(\d{1,2})/g,function(M,x){return w[x]||""})}function E(p,w){return p.replace(w[0],function(M,x){var O=C(w[1],arguments);return u(M===""?p[x-1]:M,O)})}function m(p,w,M){if(!p.length||a.hasOwnProperty(p))return w;for(var x=M.length;x--;){var O=M[x];if(O[0].test(w))return E(w,O)}return w}function R(p,w,M){return function(x){var O=x.toLowerCase();return w.hasOwnProperty(O)?u(x,O):p.hasOwnProperty(O)?u(x,p[O]):m(O,x,M)}}function U(p,w,M,x){return function(O){var W=O.toLowerCase();return w.hasOwnProperty(W)?!0:p.hasOwnProperty(W)?!1:m(W,W,M)===W}}function L(p,w,M){var x=w===1?L.singular(p):L.plural(p);return(M?w+" ":"")+x}return L.plural=R(r,o,s),L.isPlural=U(r,o,s),L.singular=R(o,r,n),L.isSingular=U(o,r,n),L.addPluralRule=function(p,w){s.push([i(p),w])},L.addSingularRule=function(p,w){n.push([i(p),w])},L.addUncountableRule=function(p){if(typeof p=="string"){a[p.toLowerCase()]=!0;return}L.addPluralRule(p,"$0"),L.addSingularRule(p,"$0")},L.addIrregularRule=function(p,w){w=w.toLowerCase(),p=p.toLowerCase(),r[p]=w,o[w]=p},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(p){return L.addIrregularRule(p[0],p[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(p){return L.addPluralRule(p[0],p[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(p){return L.addSingularRule(p[0],p[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(L.addUncountableRule),L})})(Be);var ja=Be.exports;const ze=He(ja),Ha=["disabled"],qa=["title"],Na=y({__name:"pause-button",props:{disabled:{type:Boolean},isPaused:{type:Boolean},totalNewEventsCount:{}},emits:["toggleUpdate"],setup(e,{emit:t}){const s=t,n=e,a=P(()=>ze("new event",n.totalNewEventsCount,!0)),o=()=>{s("toggleUpdate",!0)};return(r,i)=>(l(),_("button",{class:J(["events-page__btn-stop-events",{"events-page__btn-stop-events--active":r.isPaused}]),disabled:r.disabled,onClick:o},[r.isPaused?b("",!0):(l(),g(c(A),{key:0,name:"bolt",class:"events-page__btn-stop-events-icon"})),r.isPaused?(l(),g(c(A),{key:1,name:"bolt-slash",class:"events-page__btn-stop-events-icon"})):b("",!0),d("span",null,f(r.isPaused?"Paused":"Listening"),1),r.isPaused&&r.totalNewEventsCount?(l(),_("span",{key:2,class:"events-page__btn-stop-events-count",title:a.value},f(r.totalNewEventsCount),9,qa)):b("",!0)],10,Ha))}});const Wa=k(Na,[["__scopeId","data-v-732d2539"]]),Ga=y({components:{PagePlaceholder:Va,EventCard:Oa,PageHeader:qe,PauseButton:Wa},setup(){var t,s;const{events:e}=j();return(s=(t=e==null?void 0:e.items)==null?void 0:t.value)!=null&&s.length||e.getAll(),{events:e.items,title:"",type:ce.ALL_EVENTS}},computed:{allEvents(){const{events:e}=j();return this.type===ce.ALL_EVENTS?e.items.value:e.items.value.filter(({type:t})=>t===this.type)},isEventsPaused(){var t;const{cachedEvents:e}=j();return((t=e.idsByType.value[this.type])==null?void 0:t.length)>0},visibleEvents(){if(!this.isEventsPaused)return this.allEvents;const{cachedEvents:e}=j();return this.allEvents.filter(({uuid:t})=>{var s;return(s=e.idsByType.value[this.type])==null?void 0:s.includes(t)})},hiddenEventsCount(){return this.allEvents.length-this.visibleEvents.length},titleEventsCount(){return`${ze("new event",this.hiddenEventsCount,!0)}`}},methods:{clearEvents(){const{events:e}=j();return this.type===ce.ALL_EVENTS?e.removeAll():e.removeByType(this.type)},toggleUpdate(){const{cachedEvents:e}=j();this.isEventsPaused?e.runUpdatesByType(this.type):e.stopUpdatesByType(this.type)}}});const Ja={class:"events-page"},Ka=d("span",null," / ",-1),Qa={key:0,class:"events-page__events"},Xa={key:1,class:"events-page__welcome"};function Za(e,t,s,n,a,o){const r=Z,i=ne("PauseButton"),u=ne("PageHeader"),C=ne("EventCard"),E=ne("PagePlaceholder");return l(),_("div",Ja,[v(u,{class:"events-page__head","button-title":"Clear events",onDelete:e.clearEvents},{controls:h(()=>[v(i,{disabled:e.visibleEvents.length===0,"is-paused":e.isEventsPaused,"total-new-events-count":e.hiddenEventsCount,onToggleUpdate:e.toggleUpdate},null,8,["disabled","is-paused","total-new-events-count","onToggleUpdate"])]),default:h(()=>[v(r,{to:"/",disabled:!e.title},{default:h(()=>[S("Home")]),_:1},8,["disabled"]),e.title?(l(),_(F,{key:0},[Ka,v(r,{disabled:!0},{default:h(()=>[S(f(e.title),1)]),_:1})],64)):b("",!0)]),_:1},8,["onDelete"]),e.visibleEvents.length?(l(),_("main",Qa,[(l(!0),_(F,null,V(e.visibleEvents,m=>(l(),g(C,{key:m.uuid,event:m,class:"events-page__event"},null,8,["event"]))),128))])):b("",!0),e.visibleEvents.length?b("",!0):(l(),_("section",Xa,[v(E,{class:"events-page__tips"})]))])}const _o=k(Ga,[["render",Za]]);export{_o as default};
